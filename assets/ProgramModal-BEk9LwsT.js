var y=Object.defineProperty;var v=(s,r,a)=>r in s?y(s,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[r]=a;var f=(s,r,a)=>v(s,typeof r!="symbol"?r+"":r,a);import{b as l}from"./react-vendor-DQubVtpq.js";import{j as e}from"./index-hOws252K.js";class A extends l.Component{constructor(){super(...arguments);f(this,"state",{hasError:!1})}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,o){console.error("Uncaught error:",a,o)}render(){return this.state.hasError?this.props.fallback:this.props.children}}const j=["Any","Beginner","Intermediate","Advanced"],P=({isOpen:s,onClose:r,onSave:a})=>{const[o,c]=l.useState(""),[i,u]=l.useState("Any"),[d,g]=l.useState(""),[p,b]=l.useState(null),[n,h]=l.useState(!1),w=async t=>{t.preventDefault(),b(null),h(!0);try{if(!o.trim())throw new Error("Program name is required");console.log("[ProgramModal] Submitting program:",{name:o,level:i,description:d,timestamp:new Date().toISOString()}),await a({name:o,level:i,description:d}),console.log("[ProgramModal] Program submitted successfully"),c(""),u("Any"),g(""),r()}catch(m){const x=m instanceof Error?m.message:"Failed to create program";console.error("[ProgramModal] Error submitting program:",{error:m,errorMessage:x,formData:{name:o,level:i,description:d}}),b(x)}finally{h(!1)}};return s?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",children:e.jsxs("form",{onSubmit:w,className:"bg-[#23272F] p-6 rounded-lg w-full max-w-sm shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Add Program"}),p&&e.jsx("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 rounded text-red-200 text-sm",children:p}),e.jsx("input",{className:"w-full mb-3 px-3 py-2 rounded bg-[#181A20] text-white border border-white/10",placeholder:"Program Name",value:o,onChange:t=>c(t.target.value),required:!0,disabled:n,id:"program-name",name:"program-name"}),e.jsx("select",{className:"w-full mb-3 px-3 py-2 rounded bg-[#181A20] text-white border border-white/10",value:i,onChange:t=>u(t.target.value),disabled:n,id:"program-level",name:"program-level",children:j.map(t=>e.jsx("option",{value:t,children:t},t))}),e.jsx("textarea",{className:"w-full mb-4 px-3 py-2 rounded bg-[#181A20] text-white border border-white/10",placeholder:"Description",value:d,onChange:t=>g(t.target.value),disabled:n,id:"program-description",name:"program-description"}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:r,disabled:n,className:"px-4 py-2 bg-gray-700 text-white rounded-lg disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50 flex items-center gap-2",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating..."]}):"Add"})]})]})}):null};export{A as E,P};
//# sourceMappingURL=ProgramModal-BEk9LwsT.js.map
