import{j as e,d as H,c as I,a as O}from"./index-BW4wnaLN.js";import{b as i}from"./react-vendor-DOxSmbpi.js";import{m as q,n as V,o as _,D as $,A as T,s as G,d as U,f as P,h as Q,g as J,U as Y,a as X,c as K,e as Z,P as ee,C as se,E as te}from"./ExerciseHistoryPicker-mDNrnu8A.js";import{n as re,q as oe,o as ae,t as le}from"./firebase-vendor-CDzPPbaT.js";import{u as ie}from"./useAuth-Bl_XYtwH.js";function ne(x,f){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:f},x),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"}))}const ce=i.forwardRef(ne);function de(x,f){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:f},x),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"}))}const me=i.forwardRef(de);function he(x,f){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:f},x),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"}))}const z=i.forwardRef(he);function xe(x,f){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:f},x),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}))}const ue=i.forwardRef(xe);function ge(x,f){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:f},x),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}const pe=i.forwardRef(ge),W=x=>({chest:"chest",pectorals:"chest",back:"back",lats:"lats",traps:"traps",shoulders:"shoulders",deltoids:"shoulders",biceps:"biceps",triceps:"triceps",forearms:"forearms",legs:"quadriceps",quadriceps:"quadriceps",hamstrings:"hamstrings",calves:"calves",glutes:"glutes",core:"core",abs:"core",abdominals:"core","lower back":"lower_back","full body":"full_body"})[x.toLowerCase()]||"full_body",be=({onClose:x,onSelectExercises:f})=>{const{user:o}=ie(),[y,S]=i.useState(""),[m,b]=i.useState(""),[p,A]=i.useState(!1),[u,j]=i.useState([]),[D,C]=i.useState([]),[g,E]=i.useState(new Set),L=[{id:"",name:"All",icon:"💪"},{id:"chest",name:"Chest",icon:"🫀"},{id:"back",name:"Back",icon:"🔙"},{id:"legs",name:"Legs",icon:"🦵"},{id:"shoulders",name:"Shoulders",icon:"💪"},{id:"arms",name:"Arms",icon:"💪"},{id:"core",name:"Core",icon:"🎯"}];i.useEffect(()=>{(async()=>{if(o)try{A(!0);const l=re(H,"exercises"),d=oe(l,ae("userId","==",o.id)),k=await le(d),R=[];k.forEach(B=>{const s=B.data();R.push({...s,id:B.id,primaryMuscles:s.primaryMuscles.map(W),type:s.type,category:s.category,defaultUnit:s.defaultUnit})}),j(R)}catch(l){console.error("Error loading custom exercises:",l),I.error("Failed to load custom exercises")}finally{A(!1)}})()},[o]),i.useEffect(()=>{const c=[...q.map(l=>({...l,id:`default-${l.name.replace(/\s+/g,"-").toLowerCase()}`,primaryMuscles:(l.primaryMuscles||[]).map(W),secondaryMuscles:[],customExercise:!1})),...V.map(l=>({...l,id:l.id||`imported-${l.name.replace(/\s+/g,"-").toLowerCase()}`,primaryMuscles:Array.isArray(l.primaryMuscles)?l.primaryMuscles.map(W):[W(String(l.primaryMuscles))],secondaryMuscles:[],instructions:[l.description||""],defaultUnit:l.type==="cardio"?"time":"kg",metrics:{trackWeight:l.type!=="cardio",trackReps:l.type!=="cardio",trackTime:l.type==="cardio",trackDistance:!1,trackRPE:!0},customExercise:!1}))];C([...c,...u])},[u]);const N=D.filter(c=>{const l=c.primaryMuscles||[],d=y===""||c.name.toLowerCase().includes(y.toLowerCase())||l.some(k=>k.toLowerCase().includes(y.toLowerCase()));if(!m)return d;switch(m){case"chest":return d&&l.includes("chest");case"back":return d&&l.some(k=>["back","lats","traps"].includes(k));case"legs":return d&&l.some(k=>["quadriceps","hamstrings","calves","glutes"].includes(k));case"shoulders":return d&&l.includes("shoulders");case"arms":return d&&l.some(k=>["biceps","triceps","forearms"].includes(k));case"core":return d&&l.includes("core");default:return d}}),a=c=>{const l=new Set(g);l.has(c.id)?l.delete(c.id):l.add(c.id),E(l)},w=()=>{const l=N.filter(d=>g.has(d.id)).map(d=>({exercise:d,sets:[{reps:8,weight:0,difficulty:$.NORMAL},{reps:8,weight:0,difficulty:$.NORMAL},{reps:8,weight:0,difficulty:$.NORMAL}]}));f(l),x()};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",children:e.jsxs("div",{className:"bg-[#23272F] rounded-lg w-full max-w-4xl h-5/6 flex flex-col shadow-xl",children:[e.jsxs("div",{className:"p-6 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Exercise Database"}),e.jsx("button",{onClick:x,className:"text-gray-400 hover:text-white text-2xl",children:e.jsx(pe,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search exercises...",value:y,onChange:c=>S(c.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#181A20] text-white rounded-lg border border-white/10 focus:border-blue-500 focus:outline-none"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:L.map(c=>e.jsxs("button",{onClick:()=>b(c.id),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${m===c.id?"bg-blue-600 text-white":"bg-[#181A20] text-gray-300 hover:bg-gray-600"}`,children:[c.icon," ",c.name]},c.id))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:p?e.jsxs("div",{className:"text-center text-gray-400 py-12",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-400/30 border-t-blue-400 rounded-full mx-auto mb-4"}),"Loading exercises..."]}):N.length===0?e.jsxs("div",{className:"text-center text-gray-400 py-12",children:[e.jsx("p",{className:"text-lg mb-2",children:"No exercises found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search or category filter"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(c=>e.jsxs("div",{onClick:()=>a(c),className:`p-4 rounded-lg border cursor-pointer transition-all ${g.has(c.id)?"bg-blue-600/20 border-blue-500":"bg-[#181A20] border-white/10 hover:border-white/20"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"text-white font-medium text-sm leading-tight",children:c.name}),g.has(c.id)&&e.jsx("div",{className:"w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 ml-2",children:e.jsx("span",{className:"text-white text-xs",children:"✓"})})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:(c.primaryMuscles||[]).slice(0,2).map((l,d)=>e.jsx("span",{className:"px-2 py-1 text-xs bg-gray-700 text-gray-300 rounded",children:l},d))}),e.jsxs("div",{className:"text-xs text-gray-400",children:[c.type," • ",c.category]})]},c.id))})}),e.jsx("div",{className:"p-6 border-t border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-gray-400 text-sm",children:[g.size," exercise",g.size!==1?"s":""," selected"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:x,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Cancel"}),e.jsxs("button",{onClick:w,disabled:g.size===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Add Selected (",g.size,")"]})]})]})})]})})},fe=[{id:"programs",name:"Add from Program",icon:"📋",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-purple-600",textColor:"text-white"},{id:"copyPrevious",name:"Copy from Previous",icon:"📝",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-blue-600",textColor:"text-white"},{id:"history",name:"From History",icon:"🕒",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-green-600",textColor:"text-white"},{id:"database",name:"Exercise Database",icon:"🗄️",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-orange-600",textColor:"text-white"}],ve=[{id:"chest",name:"Chest",icon:"💪",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-green-600",textColor:"text-white"},{id:"back",name:"Back",icon:"🔙",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-blue-600",textColor:"text-white"},{id:"legs",name:"Legs",icon:"🦵",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-yellow-600",textColor:"text-white"},{id:"shoulders",name:"Shoulders",icon:"🎯",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-cyan-600",textColor:"text-white"},{id:"arms",name:"Arms",icon:"💪",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-red-600",textColor:"text-white"},{id:"core",name:"Core",icon:"⭕",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-primary-600",textColor:"text-white"},{id:"fullBody",name:"Full-Body",icon:"👤",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-orange-600",textColor:"text-white"}],we=[{id:"resistance",name:"Resistance Training",description:"Weight lifting, strength training",icon:"🏋️‍♂️",bgColor:"bg-gradient-to-r from-blue-500 to-blue-700",textColor:"text-white",examples:"Squats, Deadlifts, Bench Press"},{id:"sport",name:"Sports",description:"Team sports, competitions",icon:"⚽",bgColor:"bg-gradient-to-r from-green-500 to-green-700",textColor:"text-white",examples:"Football, Basketball, Tennis"},{id:"stretching",name:"Stretching & Flexibility",description:"Mobility, yoga, flexibility",icon:"🧘‍♀️",bgColor:"bg-gradient-to-r from-purple-500 to-purple-700",textColor:"text-white",examples:"Yoga, Static Stretches"},{id:"endurance",name:"Endurance Training",description:"Cardio, running, cycling",icon:"🏃‍♂️",bgColor:"bg-gradient-to-r from-red-500 to-red-700",textColor:"text-white",examples:"Running, Cycling, Swimming"},{id:"speedAgility",name:"Speed, Agility & Plyo",description:"Sprints, jumps, change of direction",icon:"⚡",bgColor:"bg-gradient-to-r from-yellow-500 to-amber-600",textColor:"text-white",examples:"Ladder, Sprints, Jumps"},{id:"other",name:"Other Activities",description:"Custom & misc activities",icon:"🎯",bgColor:"bg-gradient-to-r from-gray-500 to-gray-700",textColor:"text-white",examples:"Meditation, Therapy"}],je=({onClose:x,onAddExercises:f,onOpenProgramPicker:o,onOpenCopyPrevious:y,onOpenHistory:S,onOpenDatabase:m})=>{const[b,p]=i.useState("main"),[A,u]=i.useState(null),[j,D]=i.useState(""),[C,g]=i.useState(!1),[E,L]=i.useState(T.RESISTANCE);if(b==="universalSearch"){const a=G(j);return e.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex flex-col z-50",children:[e.jsxs("header",{className:"sticky top-0 flex items-center justify-between p-4 bg-[#1a1a1a] border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>p("main"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white","aria-label":"Back",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"🔍 Universal Search"})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white","aria-label":"Close",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-safe min-h-0",children:e.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-6",children:[e.jsx("section",{className:"space-y-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search all exercise databases...",value:j,onChange:w=>D(w.target.value),className:"w-full px-4 py-3 pl-10 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),j&&j.length>=2&&e.jsxs("section",{className:"space-y-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white/90",children:["Search Results (",a.length,")"]}),e.jsx("div",{className:"space-y-2",children:a.length>0?a.slice(0,20).map(w=>e.jsx("button",{onClick:()=>{f([{exercise:w,sets:[]}])},className:"w-full text-left p-4 bg-[#1a1a1a] rounded-xl hover:bg-[#222] transition-colors border border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-white font-medium",children:w.name}),e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[w.activityType&&`${w.activityType} • `,(w.primaryMuscles||[]).join(", ")||"No muscles specified"]}),w.description&&e.jsx("p",{className:"text-gray-500 text-xs mt-1 line-clamp-2",children:w.description})]}),e.jsx("div",{className:"text-white/40",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},w.id)):j.length>1?e.jsxs("div",{className:"text-center py-8",children:[e.jsxs("p",{className:"text-white/60",children:['No exercises found for "',j,'"']}),e.jsx("p",{className:"text-white/40 text-sm mt-2",children:"Try a different search term or create a new exercise"}),e.jsxs("button",{onClick:()=>{L(T.RESISTANCE),g(!0)},className:"mt-4 flex items-center justify-center gap-2 px-6 py-3 rounded-lg bg-purple-600 text-white font-medium hover:bg-purple-700 transition-colors mx-auto",children:[e.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 00-1 1v5H4a1 1 0 100 2h5v5a1 1 0 102 0v-5h5a1 1 0 100-2h-5V4a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Create New Exercise"]})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-white/60",children:"Type at least 2 characters to search"})})})]})]})})]})}if(b==="search")return e.jsx(U,{onClose:()=>p("resistance"),category:A,onSelectExercise:a=>{const c={exercise:{...a,id:a.id||`temp-${a.name.toLowerCase().replace(/\s+/g,"-")}`},sets:[]};f([c])}});const N=(a,w,c)=>{const l=J(a);return e.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-[#1a1a1a] rounded-xl w-full max-w-5xl max-h-[90vh] flex flex-col",children:[e.jsx("button",{onClick:()=>p("main"),className:"absolute top-4 left-4 px-3 py-1 rounded-md bg-gray-800 text-gray-300 hover:text-white hover:bg-gray-700 text-sm",children:"← Back"}),e.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:"✕"}),e.jsx(Y,{data:l,enrich:Z,collectFacets:K,applyFilters:X,activityType:a,onSelect:d=>{const k={...d,id:d.id||`temp-${d.name.toLowerCase().replace(/\s+/g,"-")}`,primaryMuscles:d.primaryMuscles||[],secondaryMuscles:d.secondaryMuscles||[],instructions:d.instructions||[],metrics:d.metrics||{},defaultUnit:d.defaultUnit||"time"};f([{exercise:k,sets:[]}]),x()},title:w,subtitle:c})]})})};return b==="sport"?N(T.SPORT,"Sports Activities","Browse sports & drills"):b==="stretching"?N(T.STRETCHING,"Stretching & Flexibility","Mobility & flexibility exercises"):b==="endurance"?N(T.ENDURANCE,"Endurance Training","Cardio & endurance activities"):b==="speedAgility"?N(T.SPEED_AGILITY,"Speed & Agility","Plyometrics & agility drills"):b==="other"?N(T.OTHER,"Other Activities","Miscellaneous & custom activities"):b==="resistance"?e.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex flex-col z-50",children:[e.jsxs("header",{className:"sticky top-0 flex items-center justify-between p-4 bg-[#1a1a1a] border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>p("main"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white","aria-label":"Back",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"🏋️‍♂️ Resistance Training"})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white","aria-label":"Close",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-safe min-h-0",children:e.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-6 md:space-y-8",children:[e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search exercises...",className:"w-full px-4 py-3 pl-10 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onFocus:()=>{u(null),p("search")}}),e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),e.jsxs("button",{onClick:()=>{L(T.RESISTANCE),g(!0)},className:"flex items-center justify-center gap-2 w-full px-4 py-3 rounded-lg bg-purple-600 text-white font-medium hover:bg-purple-700 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 00-1 1v5H4a1 1 0 100 2h5v5a1 1 0 102 0v-5h5a1 1 0 100-2h-5V4a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Create Custom Exercise"]})]}),e.jsxs("section",{className:"space-y-3 md:space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white/90",children:"Muscle Groups"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:gap-4",children:ve.map(a=>e.jsx(P,{category:a,onClick:()=>{u(a),p("search")}},a.id))})]})]})})]}):e.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex flex-col z-50",children:[e.jsxs("header",{className:"sticky top-0 flex items-center justify-between p-4 bg-[#1a1a1a] border-b border-white/10",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Add Exercise"}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white","aria-label":"Close",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-safe min-h-0",children:e.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-6 md:space-y-8",children:[e.jsxs("section",{className:"space-y-3 md:space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white/90",children:"Quick Add"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:fe.map(a=>e.jsx(P,{category:a,onClick:()=>{a.id==="programs"?o():a.id==="copyPrevious"?y():a.id==="history"?S():a.id==="database"&&m()}},a.id))})]}),e.jsxs("section",{className:"space-y-3 md:space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white/90",children:"Choose Activity Type"}),e.jsx("div",{className:"grid grid-cols-1 gap-3 md:gap-4",children:we.map(a=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{onClick:()=>p(a.id),className:`${a.bgColor} rounded-xl p-4 cursor-pointer transition-all duration-200 ease-in-out hover:scale-105 hover:shadow-lg active:scale-95 border border-white/10`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-3xl",children:a.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`font-semibold text-lg ${a.textColor}`,children:a.name}),e.jsx("p",{className:`text-sm opacity-90 ${a.textColor}`,children:a.description}),e.jsx("p",{className:`text-xs opacity-75 mt-1 ${a.textColor}`,children:a.examples})]}),e.jsx("div",{className:"text-white/60",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),e.jsxs("button",{onClick:()=>{L(a.id),g(!0)},className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-white/10 text-white/80 hover:bg-white/20 hover:text-white transition-colors text-sm",children:[e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 00-1 1v5H4a1 1 0 100 2h5v5a1 1 0 102 0v-5h5a1 1 0 100-2h-5V4a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Create ",a.name.split(" ")[0]," Exercise"]})]},a.id))})]})]})}),C&&e.jsx(Q,{onClose:()=>g(!1),onSuccess:a=>{g(!1)},activityType:E,searchQuery:j})]})},ye=({onClose:x,onSave:f,initialSession:o,sessionName:y=""})=>{var h;const[S,m]=i.useState("main"),[b,p]=i.useState(((h=o==null?void 0:o.exercises)==null?void 0:h.map(t=>({id:t.id,name:t.name,type:"strength",category:"compound",primaryMuscles:[],secondaryMuscles:[],instructions:[],description:t.notes||"",defaultUnit:"kg",metrics:{trackWeight:!0,trackReps:!0}})))||[]),[A,u]=i.useState((o==null?void 0:o.name)||y),[j,D]=i.useState((o==null?void 0:o.notes)||""),[C,g]=i.useState(null),[E,L]=i.useState(""),N=t=>{const r=t.map(n=>n.exercise);p(n=>[...n,...r]),m("main")},a=t=>{const r=t.map(n=>n.exercise);p(n=>[...n,...r]),m("main")},w=t=>{const r=t.map(n=>n.exercise);p(n=>[...n,...r]),m("main")},c=t=>{p(r=>[...r,t]),m("main")},l=t=>{p(r=>r.filter((n,M)=>M!==t))},d=(t,r)=>{const n=[...b];r==="up"&&t>0?[n[t],n[t-1]]=[n[t-1],n[t]]:r==="down"&&t<n.length-1&&([n[t],n[t+1]]=[n[t+1],n[t]]),p(n)},k=t=>{L(b[t].name),g(t)},R=()=>{if(!E.trim()){alert("Exercise name cannot be empty");return}C!==null&&(p(t=>{const r=[...t];return r[C]={...r[C],name:E.trim()},r}),g(null),L(""))},B=()=>{g(null),L("")},s=t=>{const r=b[t],n={...r,id:`${r.id}-duplicate-${Date.now()}`,name:`${r.name} (Copy)`};p(M=>[...M.slice(0,t+1),n,...M.slice(t+1)])},v=async()=>{if(!A.trim()){alert("Please enter a session name");return}if(b.length===0){alert("Please add at least one exercise");return}const t=b.filter(M=>{var F;return!((F=M.name)!=null&&F.trim())});if(t.length>0){alert(`Please ensure all exercises have names. Found ${t.length} exercise(s) without names.`);return}const r=b.map((M,F)=>({id:M.id,name:M.name,order:F,notes:M.description||""})),n={id:(o==null?void 0:o.id)||"",name:A.trim(),exercises:r,notes:j.trim()};f(n)};return S==="programPicker"?e.jsx(ee,{onClose:()=>m("main"),onSelectExercises:a}):S==="copyPrevious"?e.jsx(se,{isOpen:!0,onClose:()=>m("main"),currentDate:new Date,onExercisesSelected:t=>{const r=t.map(n=>({id:n.id||`temp-${Date.now()}`,name:n.exerciseName,type:"strength",category:"compound",primaryMuscles:[],secondaryMuscles:[],instructions:[],description:"",defaultUnit:"kg",metrics:{trackWeight:!0,trackReps:!0}}));p(n=>[...n,...r]),m("main")},userId:""}):S==="history"?e.jsx(te,{onClose:()=>m("main"),onSelectExercises:N}):S==="database"?e.jsx(be,{onClose:()=>m("main"),onSelectExercises:w}):S==="search"?e.jsx(U,{onClose:()=>m("main"),onSelectExercise:c}):S==="exerciseSelection"?e.jsx(je,{onClose:()=>m("main"),onAddExercises:t=>{const r=t.map(n=>n.exercise);p(n=>[...n,...r]),m("main")},onOpenProgramPicker:()=>m("programPicker"),onOpenCopyPrevious:()=>m("copyPrevious"),onOpenHistory:()=>m("history"),onOpenDatabase:()=>m("database")}):e.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[e.jsxs("header",{className:"flex items-center justify-between px-4 py-4 bg-black/95 backdrop-blur-sm border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:"p-2 hover:bg-white/10 rounded-lg transition-colors",onClick:x,"aria-label":"Close",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h1",{className:"text-white text-xl font-medium",children:"Session Builder"})]}),e.jsx("button",{onClick:v,className:"px-4 py-2 bg-[#8B5CF6] hover:bg-[#7C3AED] text-white rounded-lg transition-colors font-medium",children:"Save Session"})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto px-4 py-6",children:[e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Session Name"}),e.jsx("input",{type:"text",value:A,onChange:t=>u(t.target.value),placeholder:"Enter session name",className:"w-full px-3 py-2 bg-[#2a2a2a] border border-white/10 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#8B5CF6]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Session Notes (Optional)"}),e.jsx("textarea",{value:j,onChange:t=>D(t.target.value),placeholder:"Add any notes for this session...",rows:3,className:"w-full px-3 py-2 bg-[#2a2a2a] border border-white/10 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-[#8B5CF6] resize-none"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-medium text-white",children:"Exercises"}),e.jsx("button",{onClick:()=>m("exerciseSelection"),className:"px-4 py-2 bg-[#2a2a2a] hover:bg-[#3a3a3a] text-white rounded-lg transition-colors border border-white/10",children:"Add Exercise"})]}),b.length===0?e.jsxs("div",{className:"text-center py-12 bg-[#1a1a1a] rounded-xl border border-white/10",children:[e.jsxs("div",{className:"text-gray-500 mb-4",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"No exercises added yet"]}),e.jsx("button",{onClick:()=>m("exerciseSelection"),className:"px-6 py-3 bg-[#8B5CF6] hover:bg-[#7C3AED] text-white rounded-lg transition-colors font-medium",children:"Add First Exercise"})]}):e.jsx("div",{className:"space-y-3",children:b.map((t,r)=>e.jsx("div",{className:"bg-[#1a1a1a] rounded-xl border border-white/10 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:C===r?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:E,onChange:n=>L(n.target.value),className:"flex-1 px-2 py-1 bg-[#2a2a2a] border border-white/10 rounded text-white text-lg font-medium focus:outline-none focus:border-[#8B5CF6]",autoFocus:!0}),e.jsx("button",{onClick:R,className:"p-1 hover:bg-white/10 rounded text-green-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("button",{onClick:B,className:"p-1 hover:bg-white/10 rounded text-red-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):e.jsxs("button",{onClick:()=>k(r),className:"text-left hover:bg-white/5 rounded p-1 -m-1 transition-colors w-full",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:t.name}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Sets and reps will be logged during workout"})]})}),e.jsxs("div",{className:"flex items-center gap-1",children:[r>0&&e.jsx("button",{onClick:()=>d(r,"up"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white",title:"Move up",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),r<b.length-1&&e.jsx("button",{onClick:()=>d(r,"down"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white",title:"Move down",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),e.jsx("button",{onClick:()=>s(r),className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white",title:"Duplicate exercise",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsx("button",{onClick:()=>l(r),className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-red-400",title:"Remove exercise",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},`${t.id}-${r}`))})]})]})]})},Le=({onClose:x,onSave:f,initialProgram:o})=>{const[y,S]=i.useState((o==null?void 0:o.name)||""),[m,b]=i.useState((o==null?void 0:o.description)||""),[p,A]=i.useState((o==null?void 0:o.level)||"beginner"),[u,j]=i.useState((o==null?void 0:o.sessions)||[]),[D,C]=i.useState(!1),[g,E]=i.useState(null),[L,N]=i.useState(!1),a=()=>{E(null),C(!0)},w=s=>{E(s),C(!0)},c=s=>{const v=O.currentUser;if(!v)return;const h={...s,userId:v.uid};console.log("[ProgramBuilder] Saving session:",{sessionId:h.id,sessionName:h.name,exerciseCount:h.exercises.length,isEditing:!!g}),g?(j(t=>t.map(r=>r.id===g.id?h:r)),console.log("[ProgramBuilder] Updated existing session")):j(t=>{const r=[...t,h];return console.log("[ProgramBuilder] Added new session. Total sessions:",r.length),r}),C(!1),E(null)},l=s=>{confirm("Are you sure you want to delete this session?")&&j(v=>v.filter(h=>h.id!==s))},d=(s,v)=>{const h=[...u];v==="up"&&s>0?[h[s-1],h[s]]=[h[s],h[s-1]]:v==="down"&&s<u.length-1&&([h[s],h[s+1]]=[h[s+1],h[s]]),h.forEach((t,r)=>{t.order=r}),j(h)},k=()=>{if(!y.trim()){alert("Please enter a program name first");return}try{const s=JSON.parse(localStorage.getItem("program-templates")||"[]"),v={id:Date.now().toString(),name:y,description:m,level:p,sessions:u,createdAt:new Date().toISOString()};s.push(v),localStorage.setItem("program-templates",JSON.stringify(s)),N(!1),alert("Program saved as template!")}catch(s){console.error("Error saving template:",s),alert("Failed to save template")}},R=()=>{if(!y.trim()){alert("Please enter a program name");return}if(u.length===0){alert("Please add at least one session");return}const s=O.currentUser;if(!s){alert("You must be logged in to save a program");return}console.log("[ProgramBuilder] Saving program:",{name:y,sessionCount:u.length,totalExercises:B(),sessions:u.map(h=>({id:h.id,name:h.name,exerciseCount:h.exercises.length}))});const v={name:y,description:m,level:p,createdBy:s.uid,createdAt:(o==null?void 0:o.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString(),sessions:u,isPublic:(o==null?void 0:o.isPublic)||!1,tags:(o==null?void 0:o.tags)||[]};f(v)},B=()=>u.reduce((s,v)=>s+v.exercises.length,0);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50",children:e.jsxs("div",{className:"bg-[#23272F] rounded-xl w-full max-w-6xl h-5/6 flex flex-col shadow-2xl",children:[e.jsxs("div",{className:"p-6 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-white",children:o?"Edit Program":"Create Program"}),e.jsx("button",{onClick:x,className:"text-gray-400 hover:text-white text-2xl font-bold w-8 h-8 flex items-center justify-center transition-colors",children:"×"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Program Name *"}),e.jsx("input",{type:"text",placeholder:"e.g., Push/Pull/Legs, Upper/Lower Split",value:y,onChange:s=>S(s.target.value),className:"w-full px-4 py-3 bg-[#181A20] text-white rounded-lg border border-white/10 focus:border-blue-500 focus:outline-none text-lg",autoFocus:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Difficulty Level"}),e.jsxs("select",{value:p,onChange:s=>A(s.target.value),className:"w-full px-4 py-3 bg-[#181A20] text-white rounded-lg border border-white/10 focus:border-blue-500 focus:outline-none",children:[e.jsx("option",{value:"beginner",children:"🟢 Beginner"}),e.jsx("option",{value:"intermediate",children:"🟡 Intermediate"}),e.jsx("option",{value:"advanced",children:"🔴 Advanced"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:()=>N(!0),disabled:u.length===0,className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-colors",children:[e.jsx(ce,{className:"w-4 h-4"}),"Save as Template"]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Program Description (Optional)"}),e.jsx("textarea",{placeholder:"Describe your program goals, frequency, and notes...",value:m,onChange:s=>b(s.target.value),className:"w-full px-4 py-3 bg-[#181A20] text-white rounded-lg border border-white/10 focus:border-blue-500 focus:outline-none resize-none",rows:3})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u.length===0?e.jsxs("div",{className:"text-center text-gray-400 py-16",children:[e.jsx(z,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:"No sessions added yet"}),e.jsx("p",{className:"text-gray-500 mb-6",children:'Create sessions like "Push Day", "Pull Day", "Leg Day" etc.'}),e.jsxs("button",{onClick:a,className:"px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 mx-auto text-lg font-medium transition-colors",children:[e.jsx(z,{className:"w-5 h-5"}),"Create First Session"]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Program Sessions (",u.length,")"]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[B()," exercises"]})]}),u.map((s,v)=>e.jsxs("div",{className:"bg-[#181A20] rounded-xl p-5 border border-white/10 hover:border-white/20 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-white font-semibold text-lg",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:[s.exercises.length," exercise",s.exercises.length!==1?"s":""," •",s.exercises.length," exercises",s.notes&&e.jsxs("span",{className:"ml-2 text-gray-500",children:["• ",s.notes]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(v,"up"),disabled:v===0,className:"p-2 text-gray-400 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Move up",children:"↑"}),e.jsx("button",{onClick:()=>d(v,"down"),disabled:v===u.length-1,className:"p-2 text-gray-400 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Move down",children:"↓"}),e.jsx("button",{onClick:()=>w(s),className:"p-2 text-blue-400 hover:text-blue-300 transition-colors",title:"Edit session",children:e.jsx(me,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>l(s.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",title:"Delete session",children:e.jsx(ue,{className:"w-4 h-4"})})]})]}),s.exercises.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-[#23272F] rounded-lg border border-white/5",children:[e.jsx("div",{className:"text-xs font-medium text-gray-400 mb-3",children:"EXERCISES:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s.exercises.slice(0,6).map((h,t)=>e.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"}),e.jsx("span",{className:"truncate",children:h.name})]},`${s.id}-exercise-${t}-${h.name}`))}),s.exercises.length>6&&e.jsxs("div",{className:"text-xs text-gray-500 mt-3 text-center",children:["+",s.exercises.length-6," more exercises..."]})]})]},s.id)),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("button",{onClick:a,className:"px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 mx-auto text-lg font-medium transition-colors",children:[e.jsx(z,{className:"w-5 h-5"}),"Add Another Session"]})})]})}),e.jsx("div",{className:"p-6 border-t border-white/10 bg-[#1A1D23]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-gray-400 text-sm",children:[e.jsxs("div",{className:"font-medium",children:[u.length," session",u.length!==1?"s":""," • ",B()," exercises"]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Create sessions first, then add exercises to each session"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:x,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:R,disabled:u.length===0||!y.trim(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:o?"Update Program":"Save Program"})]})]})})]})}),D&&e.jsx(ye,{onClose:()=>{C(!1),E(null)},onSave:c,initialSession:g||void 0,sessionName:g?g.name:`Session ${u.length+1}`}),L&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-60",children:e.jsxs("div",{className:"bg-[#23272F] p-6 rounded-lg max-w-md w-full",children:[e.jsx("h3",{className:"text-white text-lg font-bold mb-4",children:"Save as Template"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"This will save the entire program with all sessions as a reusable template."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>N(!1),className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Cancel"}),e.jsx("button",{onClick:k,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Save Template"})]})]})})]})};export{ue as F,Le as P,ye as S,z as a,me as b};
//# sourceMappingURL=ProgramBuilder-BzEeHDp7.js.map
