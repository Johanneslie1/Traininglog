import{j as s}from"./index-CwklxJwA.js";import{b as r}from"./react-vendor-DQubVtpq.js";import{S as A,D as a}from"./ExerciseHistoryPicker-BOb1YIKN.js";const k=({exercise:i,onSave:m,onCancel:h,isEditing:o=!1,previousSet:g,showPreviousSets:x=!0,useExerciseId:b=!1})=>{const[t,d]=r.useState(()=>o&&i.sets&&i.sets.length>0?i.sets:[]),[p,c]=r.useState(!o),[l,u]=r.useState(null),S=e=>{if(typeof e=="number"&&e>0)return t[e-1];if(x)return t.length>0?t[t.length-1]:g};r.useEffect(()=>{},[t,o,l,g,x]);const j=(e,n)=>{typeof n=="number"?(d(t.map((f,w)=>w===n?e:f)),u(null)):d([...t,e]),c(!1)},v=e=>{d(t.filter((n,f)=>f!==e))},y=()=>{if(t.length===0){h();return}b?m(t,i.id):m(t)},N=(e,n)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#2a2a2a] rounded-lg mb-2 cursor-pointer hover:bg-[#3a3a3a]",onClick:()=>u(n),children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-gray-400",children:["Set ",n+1]}),s.jsxs("span",{className:"text-white font-medium",children:[e.weight,"kg Ã— ",e.reps]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-3 py-1 rounded text-sm ${e.difficulty===a.WARMUP?"bg-gray-600":e.difficulty===a.EASY?"bg-green-600":e.difficulty===a.NORMAL?"bg-blue-600":e.difficulty===a.HARD?"bg-red-600":e.difficulty===a.DROP?"bg-purple-600":"bg-gray-600"}`,children:e.difficulty})})]},n);return s.jsxs("div",{className:"flex flex-col h-full bg-[#1a1a1a]",children:[s.jsxs("div",{className:"flex-1 p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:i.name}),s.jsxs("span",{className:"text-gray-400",children:[t.length," sets"]})]}),t.map((e,n)=>N(e,n)),(p||l!==null)&&s.jsx(A,{onSave:e=>j(e,l??void 0),onClose:()=>{c(!1),u(null)},initialSet:l!==null?t[l]:void 0,previousSet:S(l??void 0),exerciseName:i.name,setNumber:(l!==null?l:t.length)+1,totalSets:l!==null?t.length:t.length+1,onDelete:l!==null?()=>v(l):void 0}),!p&&l===null&&s.jsx("button",{onClick:()=>c(!0),className:"w-full py-4 mt-4 rounded-lg bg-white/5 hover:bg-white/10 text-white font-medium transition-colors",children:"Add Set"})]}),s.jsx("div",{className:"p-4 border-t border-white/10",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:y,className:"flex-1 py-3 rounded-lg bg-[#8B5CF6] text-white font-medium hover:bg-[#7C3AED] transition-colors",children:"Save"}),s.jsx("button",{onClick:h,className:"flex-1 py-3 rounded-lg bg-white/5 text-white font-medium hover:bg-white/10 transition-colors",children:"Cancel"})]})})]})};export{k as E};
//# sourceMappingURL=ExerciseSetLogger-CYZYj5aJ.js.map
