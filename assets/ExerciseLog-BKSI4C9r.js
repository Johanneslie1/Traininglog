import{d as Xt,j as p,u as ca,b as Qt,h as dt,c as ut,e as da,f as ua,g as pa,S as fa}from"./index-oRYx91ZM.js";import{b as w,h as F,c as va,i as ga,d as ma}from"./react-vendor-DQubVtpq.js";import{a as Ye,g as ha,u as ar,E as pt,S as ba,v as jr,b as ft,s as vt,d as xa,c as ya}from"./ExerciseCard-BRQlGgSC.js";import{E as wa,P as Da}from"./ProgramModal-DK9YdCbu.js";import{E as Ca,S as Sa,D as He,a as Ia}from"./ExerciseSetLogger-DxgvFKo_.js";import{q as Zt,o as je,n as _t,t as en}from"./firebase-vendor-D8cnFtZG.js";import"./CreateExerciseDialog-BGvh7GMo.js";import"./auth-DlnMWTUc.js";function O(){return O=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},O.apply(null,arguments)}function Ke(e,r){if(e==null)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(r.indexOf(n)!==-1)continue;t[n]=e[n]}return t}function Na(e){const r=new Date(e);return r.setHours(0,0,0,0),r}function Ea(e){const r=new Date(e);return r.setHours(23,59,59,999),r}function Pa(e,r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r},e),w.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}const gt=w.forwardRef(Pa);function Aa(e,r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r},e),w.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))}const Ba=w.forwardRef(Aa);function ja(e,r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r},e),w.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))}const Ra=w.forwardRef(ja),Oa=({isOpen:e,onClose:r,currentDate:t,onExercisesSelected:n,userId:i})=>{const[a,o]=w.useState(""),[s,c]=w.useState(!1),[u,f]=w.useState([]),[d,l]=w.useState(new Set),[v,g]=w.useState(""),[h,m]=w.useState(!1);w.useEffect(()=>{if(a&&i){c(!0),m(!1);const x=Na(new Date(a)),E=Ea(new Date(a)),A=Zt(_t(Xt,"exerciseLogs"),je("userId","==",i),je("timestamp",">=",x),je("timestamp","<=",E));en(A).then(R=>{const k=R.docs.map(L=>({id:L.id,...L.data()}));f(k),l(new Set)}).catch(R=>{console.error("Error fetching exercises:",R)}).finally(()=>c(!1))}else f([]),l(new Set)},[a,i]);const b=x=>{x&&l(E=>{const A=new Set(E);return A.has(x)?A.delete(x):A.add(x),A})},y=u.filter(x=>x.exerciseName.toLowerCase().includes(v.toLowerCase())),C=()=>{const x=y.map(E=>E.id).filter(E=>typeof E=="string"&&E.length>0);l(new Set(x))},S=()=>{l(new Set)},D=()=>{const x=u.filter(E=>typeof E.id=="string"&&E.id.length>0&&d.has(E.id)).map(({id:E,...A})=>({...A,timestamp:t}));x.length>0?(n(x),m(!0),setTimeout(()=>{r()},1500)):r()};return e?p.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 md:p-0",children:p.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg w-full max-w-4xl h-[90vh] md:h-[80vh] flex flex-col text-white border border-white/10 relative",children:[p.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-white/10 sticky top-0 bg-[#1a1a1a] z-10",children:[p.jsx("h2",{className:"text-2xl font-medium",children:"Copy from Previous Session"}),p.jsx("button",{onClick:r,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Close dialog",children:p.jsx(Ra,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-6",children:[p.jsxs("div",{className:"py-6 border-b border-white/10",children:[p.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-300",children:"Select a date:"}),p.jsx("input",{type:"date",className:"w-full md:w-64 px-4 py-2 bg-[#2a2a2a] border border-white/10 rounded-lg text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",value:a,onChange:x=>o(x.target.value),max:new Date().toISOString().split("T")[0]})]}),!s&&u.length>0&&p.jsxs("div",{className:"py-6 space-y-4 border-b border-white/10",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx(Ba,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Search exercises...",className:"w-full pl-10 pr-4 py-2 bg-[#2a2a2a] border border-white/10 rounded-lg text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",value:v,onChange:x=>g(x.target.value)})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-500 transition-colors",onClick:C,children:"Select All"}),p.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-300 bg-[#2a2a2a] rounded-lg hover:bg-[#3a3a3a] transition-colors",onClick:S,children:"Deselect All"})]})]}),p.jsxs("div",{className:"text-sm text-gray-400",children:[y.length," exercise",y.length!==1?"s":""," found"]})]}),s?p.jsx("div",{className:"flex items-center justify-center py-12",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):p.jsx(p.Fragment,{children:y.length>0?p.jsx("div",{className:"py-6 grid grid-cols-1 md:grid-cols-2 gap-3",children:y.map(x=>{var E,A;return p.jsxs("label",{className:`flex items-center p-4 rounded-lg cursor-pointer transition-colors ${x.id&&d.has(x.id)?"bg-purple-500/20 border border-purple-500/50":"hover:bg-white/5 border border-transparent"}`,children:[p.jsx("input",{type:"checkbox",className:"sr-only",checked:x.id?d.has(x.id):!1,onChange:()=>b(x.id),disabled:!x.id}),p.jsx("div",{className:`w-6 h-6 flex items-center justify-center rounded-md border ${x.id&&d.has(x.id)?"bg-purple-500 border-purple-500":"border-white/30 bg-[#2a2a2a]"}`,children:x.id&&d.has(x.id)&&p.jsx(gt,{className:"w-4 h-4 text-white"})}),p.jsxs("div",{className:"ml-3 flex-1",children:[p.jsx("div",{className:"font-medium",children:x.exerciseName}),p.jsxs("div",{className:"text-sm text-gray-400",children:[((E=x.sets)==null?void 0:E.length)||0," set",((A=x.sets)==null?void 0:A.length)!==1?"s":""]})]})]},x.id)})}):a&&p.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[p.jsx("div",{className:"text-lg",children:"No exercises found for this date"}),v&&p.jsx("div",{className:"mt-2",children:"Try adjusting your search terms"})]})})]}),p.jsx("div",{className:"border-t border-white/10 p-6 sticky bottom-0 bg-[#1a1a1a] z-10",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("button",{className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",onClick:r,children:"Cancel"}),p.jsxs("div",{className:"flex items-center gap-3",children:[h&&p.jsxs("span",{className:"text-green-500 flex items-center",children:[p.jsx(gt,{className:"w-5 h-5 mr-1"}),"Copied successfully!"]}),p.jsxs("button",{className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",onClick:D,disabled:d.size===0,children:["Copy Selected",d.size>0&&p.jsx("span",{className:"bg-purple-700 px-2 py-0.5 rounded-full text-sm",children:d.size})]})]})]})})]})}):null},br=({category:e,onClick:r})=>p.jsx("button",{onClick:r,className:`
        w-full p-4 ${e.bgColor} rounded-xl
        transition-all duration-200 
        hover:scale-[1.02] active:scale-[0.98]
        hover:bg-opacity-90 active:bg-opacity-100
        focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50
        touch-manipulation
      `,children:p.jsxs("div",{className:"flex flex-col items-center gap-2",children:[p.jsx("span",{className:`
          w-12 h-12 flex items-center justify-center text-2xl rounded-lg
          ${e.iconBgColor} shadow-lg
        `,children:e.icon}),p.jsx("span",{className:`text-sm font-medium ${e.textColor}`,children:e.name})]})}),Ma=({program:e,onClick:r})=>{var t;return p.jsxs("button",{onClick:()=>r(e),className:"group relative aspect-[4/3] rounded-xl overflow-hidden bg-[#2a2a2a] hover:bg-[#333] transition-all hover:scale-[1.02]",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),p.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-4 text-left",children:[p.jsx("h3",{className:"text-lg font-semibold text-white group-hover:text-purple-400 transition-colors",children:e.name}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.level&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-red-500/20 text-red-400 rounded-full",children:e.level.toUpperCase()}),p.jsxs("span",{className:"text-sm text-gray-400",children:[((t=e.sessions)==null?void 0:t.length)||0," sessions"]}),e.description&&p.jsx("p",{className:"mt-2 text-sm text-gray-400 line-clamp-2",children:e.description})]})]}),p.jsx("button",{onClick:n=>{n.stopPropagation()},className:"absolute top-2 right-2 p-2 text-white/80 hover:text-white bg-black/20 hover:bg-black/40 rounded-lg transition-colors",children:p.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})},ka=({onClose:e,onSelectExercises:r})=>{var S;const{programs:t,isLoading:n,error:i,refresh:a}=ca(),[o,s]=F.useState("programs"),[c,u]=F.useState(null),[f,d]=F.useState([]),[l,v]=F.useState([]),g=D=>{u(D),s("sessions")},h=D=>{d(x=>x.includes(D)?x.filter(E=>E!==D):[...x,D])},m=(D,x)=>l.some(E=>E.sessionId===D&&E.exerciseId===x),b=(D,x)=>{v(E=>m(D,x)?E.filter(R=>!(R.sessionId===D&&R.exerciseId===x)):[...E,{sessionId:D,exerciseId:x}])},y=(D,x)=>{v(E=>{if(E.filter(R=>R.sessionId===D).length===x.length)return E.filter(R=>R.sessionId!==D);{const R=x.map(k=>({sessionId:D,exerciseId:k.id}));return[...E.filter(k=>k.sessionId!==D),...R]}})},C=()=>{if(!c)return;const D=l.map(x=>{var R;const E=(R=c.sessions)==null?void 0:R.find(k=>k.id===x.sessionId),A=E==null?void 0:E.exercises.find(k=>k.id===x.exerciseId);return A?{exercise:{id:A.id,name:A.name,type:"strength",category:"compound",primaryMuscles:[],secondaryMuscles:[],instructions:[],description:A.notes||"",defaultUnit:"kg",metrics:{trackWeight:!0,trackReps:!0}},sets:Array(A.sets).fill({reps:A.reps,weight:A.weight||0,difficulty:"MODERATE"})}:null}).filter(x=>x!==null);r(D),e()};return n?p.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:p.jsx("div",{className:"bg-[#23272F] rounded-lg shadow-xl p-6 max-w-lg w-full mx-4",children:p.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"}),p.jsx("p",{className:"text-text-primary",children:"Loading programs..."})]})})}):i?p.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:p.jsx("div",{className:"bg-[#23272F] rounded-lg shadow-xl p-6 max-w-lg w-full mx-4",children:p.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[p.jsx("div",{className:"text-red-500 mb-4",children:p.jsx("svg",{className:"w-12 h-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),p.jsx("p",{className:"text-text-primary text-center",children:i}),p.jsx("button",{onClick:()=>a(),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Try Again"})]})})}):t.length===0?p.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:p.jsx("div",{className:"bg-[#23272F] rounded-lg shadow-xl p-6 max-w-lg w-full mx-4",children:p.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[p.jsx("div",{className:"text-text-primary mb-4",children:p.jsx("svg",{className:"w-12 h-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),p.jsx("p",{className:"text-text-primary text-center",children:"No programs found. Create a program first."}),p.jsx("button",{onClick:e,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Close"})]})})}):p.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-start md:items-center justify-center z-50 overflow-y-auto overscroll-contain",children:p.jsxs("div",{className:"bg-[#1a1a1a] rounded-xl w-full max-w-4xl my-auto flex flex-col relative min-h-0 max-h-[100dvh]",children:[p.jsx("div",{className:"sticky top-0 z-10 bg-[#1a1a1a] p-4 md:p-6 border-b border-white/10",children:p.jsx("h2",{className:"text-xl font-bold text-white",children:o==="programs"?"Select Program":c==null?void 0:c.name})}),p.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto overscroll-contain",children:p.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[o==="programs"&&p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:t.map(D=>p.jsx(Ma,{program:D,onClick:()=>g(D)},D.id))}),o==="sessions"&&c&&p.jsx("div",{className:"space-y-3 md:space-y-4",children:(S=c.sessions)==null?void 0:S.map(D=>p.jsxs("div",{className:"bg-[#2a2a2a] rounded-xl overflow-hidden",children:[p.jsxs("button",{onClick:()=>h(D.id),className:"w-full px-4 py-3 md:px-6 md:py-4 flex items-center justify-between hover:bg-[#333] transition-colors",children:[p.jsx("div",{className:"flex items-center gap-3 md:gap-4 min-w-0",children:p.jsxs("div",{className:"flex flex-col items-start min-w-0",children:[p.jsx("h3",{className:"text-lg font-semibold text-white truncate",children:D.name}),p.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-400",children:[D.exercises.length," exercises"]})]})}),p.jsxs("div",{className:"flex items-center gap-2 md:gap-4 shrink-0",children:[p.jsx("button",{onClick:x=>{x.stopPropagation(),y(D.id,D.exercises)},className:"text-sm text-purple-400 hover:text-purple-300 transition-colors whitespace-nowrap px-2",children:l.filter(x=>x.sessionId===D.id).length===D.exercises.length?"Deselect All":"Select All"}),p.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${f.includes(D.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),f.includes(D.id)&&p.jsx("div",{className:"border-t border-white/10",children:D.exercises.map((x,E)=>p.jsxs("div",{className:`flex items-start gap-3 md:gap-4 p-3 md:p-4 hover:bg-[#333] transition-colors ${E!==D.exercises.length-1?"border-b border-white/10":""}`,children:[p.jsx("input",{type:"checkbox",checked:m(D.id,x.id),onChange:()=>b(D.id,x.id),className:"mt-1 w-5 h-5 rounded border-white/20 bg-[#1a1a1a] checked:bg-purple-600 focus:ring-purple-600"}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h4",{className:"text-white font-medium",children:x.name}),p.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[x.sets>0&&p.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-[#1a1a1a] text-sm text-gray-400",children:[x.sets," sets"]}),x.reps>0&&p.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-[#1a1a1a] text-sm text-gray-400",children:[x.reps," reps"]}),x.weight&&p.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-[#1a1a1a] text-sm text-gray-400",children:[x.weight," kg"]})]})]})]},x.id))})]},D.id))})]})}),p.jsxs("div",{className:"sticky bottom-0 z-10 bg-[#1a1a1a] p-4 md:p-6 border-t border-white/10 flex items-center justify-between",children:[p.jsx("button",{onClick:()=>{o==="sessions"?(s("programs"),u(null),v([]),d([])):e()},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:o==="programs"?"Cancel":"Back"}),o==="sessions"&&l.length>0&&p.jsxs("button",{onClick:C,className:"px-4 py-2 md:px-6 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Selected (",l.length,")"]})]})]})})};function Rr(e,r){return Rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Rr(e,r)}const La=[{id:"programs",name:"Add from Program",icon:"ðŸ“‹",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-purple-600",textColor:"text-white"},{id:"copyPrevious",name:"Copy from Previous",icon:"ðŸ“",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-blue-600",textColor:"text-white"}],Ta=[{id:"chest",name:"Chest",icon:"ðŸ’ª",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-green-600",textColor:"text-white"},{id:"back",name:"Back",icon:"ðŸ”™",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-blue-600",textColor:"text-white"},{id:"legs",name:"Legs",icon:"ðŸ¦µ",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-yellow-600",textColor:"text-white"},{id:"shoulders",name:"Shoulders",icon:"ðŸŽ¯",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-cyan-600",textColor:"text-white"},{id:"arms",name:"Arms",icon:"ðŸ’ª",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-red-600",textColor:"text-white"},{id:"core",name:"Core",icon:"â­•",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-primary-600",textColor:"text-white"},{id:"fullBody",name:"Full-Body",icon:"ðŸ‘¤",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-orange-600",textColor:"text-white"}],Fa=[{id:"cardio",name:"Cardio",icon:"ðŸƒ",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-red-600",textColor:"text-white"},{id:"agility",name:"Agility",icon:"âš¡",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-yellow-600",textColor:"text-white"},{id:"speed",name:"Speed",icon:"ðŸƒâ€â™‚ï¸",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-blue-600",textColor:"text-white"},{id:"stretching",name:"Stretching",icon:"ðŸ§˜â€â™‚ï¸",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-green-600",textColor:"text-white"}],Ga=({onClose:e,onExerciseAdded:r,selectedDate:t})=>{const[n,i]=w.useState("main"),[a,o]=w.useState(null),[s,c]=w.useState(null),u=Qt(l=>l.auth.user),f=async l=>{if(u!=null&&u.id)try{for(const{exercise:v,sets:g}of l)await Ye({exerciseName:v.name,userId:u.id,sets:g},t||new Date);i("main"),r==null||r()}catch(v){console.error("Error saving program exercises:",v)}},d=async l=>{if(u!=null&&u.id)try{for(const v of l)v.name&&await Ye({exerciseName:v.name,userId:u.id,sets:v.sets||[]},t||new Date);i("main"),r==null||r()}catch(v){console.error("Error saving copied exercises:",v)}};return n==="programPicker"?p.jsx(ka,{onClose:()=>i("main"),onSelectExercises:f}):n==="copyPrevious"?p.jsx(Oa,{isOpen:!0,onClose:()=>i("main"),onExercisesSelected:d,currentDate:t||new Date,userId:(u==null?void 0:u.id)||""}):n==="search"?p.jsx(Ca,{onClose:()=>i("main"),category:a,onSelectExercise:l=>{c({...l,id:`temp-${l.name.toLowerCase().replace(/\s+/g,"-")}`,description:l.description||"",primaryMuscles:[],secondaryMuscles:[],instructions:[],metrics:{trackWeight:!0,trackReps:!0},defaultUnit:"kg"}),i("setEditor")}}):n==="setEditor"&&s?p.jsx(Sa,{onClose:()=>{c(null),i("main")},onSave:async l=>{try{if(console.log("ðŸ’¾ LogOptions: Starting to save exercise set:",{exercise:s,set:l,user:u==null?void 0:u.id,selectedDate:t}),!(u!=null&&u.id))throw new Error("User not authenticated");const v={exerciseName:s.name,userId:u.id,sets:[l]};console.log("ðŸ’¾ LogOptions: Calling addExerciseLog with:",v);const g=await Ye(v,t||new Date);console.log("âœ… LogOptions: Exercise saved successfully with ID:",g),r==null||r(),c(null),i("main")}catch(v){console.error("âŒ LogOptions: Error saving exercise:",v)}},exerciseName:s.name,setNumber:1,totalSets:1}):p.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex flex-col z-50",children:[p.jsxs("header",{className:"sticky top-0 flex items-center justify-between p-4 bg-[#1a1a1a] border-b border-white/10",children:[p.jsx("h2",{className:"text-xl font-bold text-white",children:"Add Exercise"}),p.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white","aria-label":"Close",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-safe min-h-0",children:p.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-6 md:space-y-8",children:[p.jsxs("section",{className:"space-y-3 md:space-y-4",children:[p.jsx("h3",{className:"text-lg font-semibold text-white/90",children:"Quick Add"}),p.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:La.map(l=>p.jsx(br,{category:l,onClick:()=>i(l.id==="programs"?"programPicker":"copyPrevious")},l.id))})]}),p.jsxs("section",{className:"space-y-3 md:space-y-4",children:[p.jsx("h3",{className:"text-lg font-semibold text-white/90",children:"Muscle Groups"}),p.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:gap-4",children:Ta.map(l=>p.jsx(br,{category:l,onClick:()=>{o(l),i("search")}},l.id))})]}),p.jsxs("section",{className:"space-y-3 md:space-y-4",children:[p.jsx("h3",{className:"text-lg font-semibold text-white/90",children:"Training Types"}),p.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:gap-4",children:Fa.map(l=>p.jsx(br,{category:l,onClick:()=>{o(l),i("search")}},l.id))})]})]})})]})},Ee=e=>{const r=new Date(e);return r.setHours(0,0,0,0),r},Wa=({onClose:e,onDateSelect:r,selectedDate:t})=>{const[n,i]=w.useState(()=>Ee(t)),[a,o]=w.useState(!1),s=w.useCallback(async C=>{if(!C)return;const S=Ee(C);r&&(o(!0),r(S),setTimeout(()=>o(!1),300))},[r]);w.useEffect(()=>{i(Ee(t))},[t]);const c=new Date(n.getFullYear(),n.getMonth(),1),f=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),d=c.getDay(),l=()=>{i(new Date(n.getFullYear(),n.getMonth()-1))},v=()=>{i(new Date(n.getFullYear(),n.getMonth()+1))},g=()=>{i(new Date(n.getFullYear()-1,n.getMonth()))},h=()=>{i(new Date(n.getFullYear()+1,n.getMonth()))},m=Array.from({length:42},(C,S)=>{const D=S-d+1;return D<=0||D>f?null:new Date(n.getFullYear(),n.getMonth(),D)}),b=["January","February","March","April","May","June","July","August","September","October","November","December"],y=(C,S)=>Ee(C).getTime()===Ee(S).getTime();return p.jsxs("div",{className:"bg-[#1a1a1a] w-full h-screen p-4",children:[p.jsx("div",{className:"flex justify-between items-center mb-6",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),p.jsx("h2",{className:"text-xl text-white",children:"Select Date"})]})}),p.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:g,className:"p-1 text-gray-400 hover:text-white transition-colors","aria-label":`Go to year ${n.getFullYear()-1}`,children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7M4 12h16"})})}),p.jsx("span",{className:"text-white font-medium min-w-[4ch] text-center","aria-label":"Current year",children:n.getFullYear()}),p.jsx("button",{onClick:h,className:"p-1 text-gray-400 hover:text-white transition-colors","aria-label":`Go to year ${n.getFullYear()+1}`,children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M4 12h16"})})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:l,className:"p-1 text-gray-400 hover:text-white transition-colors","aria-label":`Go to ${b[(n.getMonth()+11)%12]}`,children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),p.jsx("span",{className:"text-white font-medium min-w-[100px] text-center","aria-label":"Current month",children:b[n.getMonth()]}),p.jsx("button",{onClick:v,className:"p-1 text-gray-400 hover:text-white transition-colors","aria-label":`Go to ${b[(n.getMonth()+1)%12]}`,children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),p.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(C=>p.jsx("div",{className:"text-center text-gray-400 text-sm py-2",children:C},C))}),p.jsx("div",{className:"grid grid-cols-7 gap-1",role:"grid","aria-label":"Calendar",children:m.map((C,S)=>{if(!C)return p.jsx("div",{className:"h-10"},S);const D=y(C,t),x=C.getMonth()===n.getMonth();return p.jsxs("button",{onClick:()=>s(C),onKeyDown:E=>{if(E.key==="ArrowLeft"){E.preventDefault();const A=new Date(C);A.setDate(C.getDate()-1),s(A)}else if(E.key==="ArrowRight"){E.preventDefault();const A=new Date(C);A.setDate(C.getDate()+1),s(A)}},disabled:a,className:`
                h-10 rounded-lg text-sm font-medium relative
                ${D?"bg-[#8B5CF6] text-white":"text-gray-400"}
                ${x?"hover:bg-white/10":"opacity-50"}
                ${a?"cursor-wait":"cursor-pointer"}
                disabled:cursor-wait disabled:opacity-50
                transition-colors
              `,"aria-label":`${C.toLocaleDateString()} ${D?"(Selected)":""}`,"aria-current":D?"date":void 0,"aria-disabled":a,children:[C.getDate(),a&&D&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"})})]},S)})})]})},Ua=e=>{const r=e.toLowerCase();return r.includes("squat")||r.includes("leg press")?"ðŸ‹ï¸":r.includes("bench")||r.includes("press")&&r.includes("chest")?"ðŸ’ª":r.includes("deadlift")||r.includes("row")?"ðŸ”¥":r.includes("curl")||r.includes("bicep")?"ðŸ’ª":r.includes("pull")||r.includes("chin")?"ðŸ”™":r.includes("shoulder")||r.includes("overhead")?"ðŸ‹ï¸":r.includes("core")||r.includes("plank")||r.includes("crunch")||r.includes("cardio")||r.includes("run")||r.includes("bike")?"ðŸƒ":"ðŸ’ª"},Ha=({exercises:e,onClose:r})=>{var a;const t=o=>o.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),n=()=>e.reduce((o,s)=>o+s.sets.length,0),i=()=>e.reduce((o,s)=>o+s.sets.reduce((c,u)=>c+(u.weight||0)*(u.reps||0),0),0);return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:p.jsxs("div",{className:"w-full max-w-md mx-4 bg-[#1a1a1a] rounded-lg max-h-[90vh] overflow-hidden",children:[p.jsxs("div",{className:"bg-green-600 p-4 text-center",children:[p.jsx("div",{className:"text-white text-lg font-bold mb-1",children:"Workout Complete!"}),p.jsx("div",{className:"text-green-100 text-sm",children:t(new Date(((a=e[0])==null?void 0:a.timestamp)||Date.now()))})]}),p.jsx("div",{className:"p-4 border-b border-gray-700",children:p.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-white text-xl font-bold",children:e.length}),p.jsx("div",{className:"text-gray-400 text-sm",children:"Exercises"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-white text-xl font-bold",children:n()}),p.jsx("div",{className:"text-gray-400 text-sm",children:"Sets"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-white text-xl font-bold",children:i().toLocaleString()}),p.jsx("div",{className:"text-gray-400 text-sm",children:"Total kg"})]})]})}),p.jsx("div",{className:"max-h-[50vh] overflow-y-auto",children:e.map(o=>p.jsxs("div",{className:"flex items-center p-4 border-b border-gray-800",children:[p.jsx("div",{className:"w-12 h-12 bg-[#333] rounded-lg flex items-center justify-center mr-4",children:p.jsx("span",{className:"text-2xl",children:Ua(o.exerciseName)})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-white font-medium text-base mb-1",children:o.exerciseName}),p.jsx("div",{className:"flex flex-wrap gap-1",children:o.sets.map((s,c)=>{let u="bg-gray-700";if(s.difficulty)switch(s.difficulty){case He.WARMUP:u="bg-blue-600";break;case He.EASY:u="bg-green-600";break;case He.NORMAL:u="bg-yellow-600";break;case He.HARD:u="bg-red-600";break;default:u="bg-gray-700"}return p.jsxs("div",{className:`${u} text-white text-xs px-2 py-1 rounded`,children:[s.weight?`${s.weight}kg Ã— `:"",s.reps," ",s.weight?"":"reps"]},c)})}),p.jsxs("div",{className:"text-gray-400 text-sm mt-1",children:[o.sets.reduce((s,c)=>s+(c.weight||0)*(c.reps||0),0).toLocaleString()," kg total"]})]}),p.jsxs("div",{className:"text-gray-400 text-sm",children:[o.sets.length," set",o.sets.length!==1?"s":""]})]},o.id))}),p.jsx("div",{className:"p-4",children:p.jsx("button",{onClick:r,className:"w-full bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Done"})})]})})},$a=e=>{if(e.length===0)return"";const t=[["Exercise","Set","Weight (kg)","Reps","RPE","Timestamp"].join(",")];return e.forEach(n=>{n.sets.forEach((i,a)=>{const o=[`"${n.exerciseName}"`,a+1,i.weight,i.reps,i.rpe||"",new Date(n.timestamp).toLocaleString()];t.push(o.join(","))})}),t.join(`
`)},qa=(e,r)=>{const t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");n.href=URL.createObjectURL(t),n.setAttribute("download",r),document.body.appendChild(n),n.click(),document.body.removeChild(n)},Va=e=>{const r=e||ha(),t=$a(r.map(s=>({...s,id:s.id??""})));if(!t){alert("No exercises to export!");return}const n=new Date().toISOString().split("T")[0];qa(t,`exercise-log-${n}.csv`);const i=r.map(s=>({...s,timestamp:s.timestamp instanceof Date?s.timestamp.toISOString():s.timestamp})),a=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),o=document.createElement("a");o.href=URL.createObjectURL(a),o.setAttribute("download",`exercise-log-backup-${n}.json`),document.body.appendChild(o),o.click(),document.body.removeChild(o)},za=async e=>new Promise((r,t)=>{const n=new FileReader;n.onload=i=>{var a;try{const o=(a=i.target)==null?void 0:a.result,c=JSON.parse(o).map(u=>({id:u.id||`imported-${Date.now()}`,exerciseName:u.exerciseName,sets:u.sets,timestamp:new Date(u.timestamp),deviceId:u.deviceId||localStorage.getItem("device_id")||""}));r(c)}catch{t(new Error("Failed to parse import file"))}},n.onerror=()=>t(new Error("Failed to read file")),n.readAsText(e)});function rn(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,Rr(e,r)}var tn=F.createContext(null);function Ya(e){e()}var nn=Ya,Ja=function(r){return nn=r},Ka=function(){return nn};function Xa(){var e=Ka(),r=null,t=null;return{clear:function(){r=null,t=null},notify:function(){e(function(){for(var i=r;i;)i.callback(),i=i.next})},get:function(){for(var i=[],a=r;a;)i.push(a),a=a.next;return i},subscribe:function(i){var a=!0,o=t={callback:i,next:null,prev:t};return o.prev?o.prev.next=o:r=o,function(){!a||r===null||(a=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var mt={notify:function(){},get:function(){return[]}};function an(e,r){var t,n=mt;function i(d){return c(),n.subscribe(d)}function a(){n.notify()}function o(){f.onStateChange&&f.onStateChange()}function s(){return!!t}function c(){t||(t=r?r.addNestedSub(o):e.subscribe(o),n=Xa())}function u(){t&&(t(),t=void 0,n.clear(),n=mt)}var f={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:o,isSubscribed:s,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return n}};return f}var on=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function Qa(e){var r=e.store,t=e.context,n=e.children,i=w.useMemo(function(){var s=an(r);return{store:r,subscription:s}},[r]),a=w.useMemo(function(){return r.getState()},[r]);on(function(){var s=i.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),a!==r.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[i,a]);var o=t||tn;return F.createElement(o.Provider,{value:i},n)}var xr={exports:{}},G={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ht;function Za(){if(ht)return G;ht=1;var e=60103,r=60106,t=60107,n=60108,i=60114,a=60109,o=60110,s=60112,c=60113,u=60120,f=60115,d=60116,l=60121,v=60122,g=60117,h=60129,m=60131;if(typeof Symbol=="function"&&Symbol.for){var b=Symbol.for;e=b("react.element"),r=b("react.portal"),t=b("react.fragment"),n=b("react.strict_mode"),i=b("react.profiler"),a=b("react.provider"),o=b("react.context"),s=b("react.forward_ref"),c=b("react.suspense"),u=b("react.suspense_list"),f=b("react.memo"),d=b("react.lazy"),l=b("react.block"),v=b("react.server.block"),g=b("react.fundamental"),h=b("react.debug_trace_mode"),m=b("react.legacy_hidden")}function y(P){if(typeof P=="object"&&P!==null){var W=P.$$typeof;switch(W){case e:switch(P=P.type,P){case t:case i:case n:case c:case u:return P;default:switch(P=P&&P.$$typeof,P){case o:case s:case d:case f:case a:return P;default:return W}}case r:return W}}}var C=a,S=e,D=s,x=t,E=d,A=f,R=r,k=i,L=n,z=c;return G.ContextConsumer=o,G.ContextProvider=C,G.Element=S,G.ForwardRef=D,G.Fragment=x,G.Lazy=E,G.Memo=A,G.Portal=R,G.Profiler=k,G.StrictMode=L,G.Suspense=z,G.isAsyncMode=function(){return!1},G.isConcurrentMode=function(){return!1},G.isContextConsumer=function(P){return y(P)===o},G.isContextProvider=function(P){return y(P)===a},G.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},G.isForwardRef=function(P){return y(P)===s},G.isFragment=function(P){return y(P)===t},G.isLazy=function(P){return y(P)===d},G.isMemo=function(P){return y(P)===f},G.isPortal=function(P){return y(P)===r},G.isProfiler=function(P){return y(P)===i},G.isStrictMode=function(P){return y(P)===n},G.isSuspense=function(P){return y(P)===c},G.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===t||P===i||P===h||P===n||P===c||P===u||P===m||typeof P=="object"&&P!==null&&(P.$$typeof===d||P.$$typeof===f||P.$$typeof===a||P.$$typeof===o||P.$$typeof===s||P.$$typeof===g||P.$$typeof===l||P[0]===v)},G.typeOf=y,G}var bt;function _a(){return bt||(bt=1,xr.exports=Za()),xr.exports}var ei=_a(),ri=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],ti=["reactReduxForwardedRef"],ni=[],ai=[null,null];function ii(e,r){var t=e[1];return[r.payload,t+1]}function xt(e,r,t){on(function(){return e.apply(void 0,r)},t)}function oi(e,r,t,n,i,a,o){e.current=n,r.current=i,t.current=!1,a.current&&(a.current=null,o())}function si(e,r,t,n,i,a,o,s,c,u){if(e){var f=!1,d=null,l=function(){if(!f){var h=r.getState(),m,b;try{m=n(h,i.current)}catch(y){b=y,d=y}b||(d=null),m===a.current?o.current||c():(a.current=m,s.current=m,o.current=!0,u({type:"STORE_UPDATED",payload:{error:b}}))}};t.onStateChange=l,t.trySubscribe(),l();var v=function(){if(f=!0,t.tryUnsubscribe(),t.onStateChange=null,d)throw d};return v}}var li=function(){return[null,0]};function ci(e,r){r===void 0&&(r={});var t=r,n=t.getDisplayName,i=n===void 0?function(C){return"ConnectAdvanced("+C+")"}:n,a=t.methodName,o=a===void 0?"connectAdvanced":a,s=t.renderCountProp,c=s===void 0?void 0:s,u=t.shouldHandleStateChanges,f=u===void 0?!0:u,d=t.storeKey,l=d===void 0?"store":d;t.withRef;var v=t.forwardRef,g=v===void 0?!1:v,h=t.context,m=h===void 0?tn:h,b=Ke(t,ri),y=m;return function(S){var D=S.displayName||S.name||"Component",x=i(D),E=O({},b,{getDisplayName:i,methodName:o,renderCountProp:c,shouldHandleStateChanges:f,storeKey:l,displayName:x,wrappedComponentName:D,WrappedComponent:S}),A=b.pure;function R(W){return e(W.dispatch,E)}var k=A?w.useMemo:function(W){return W()};function L(W){var N=w.useMemo(function(){var Ne=W.reactReduxForwardedRef,hr=Ke(W,ti);return[W.context,Ne,hr]},[W]),B=N[0],M=N[1],U=N[2],X=w.useMemo(function(){return B&&B.Consumer&&ei.isContextConsumer(F.createElement(B.Consumer,null))?B:y},[B,y]),H=w.useContext(X),Z=!!W.store&&!!W.store.getState&&!!W.store.dispatch;H&&H.store;var Y=Z?W.store:H.store,he=w.useMemo(function(){return R(Y)},[Y]),pe=w.useMemo(function(){if(!f)return ai;var Ne=an(Y,Z?null:H.subscription),hr=Ne.notifyNestedSubs.bind(Ne);return[Ne,hr]},[Y,Z,H]),oe=pe[0],fe=pe[1],J=w.useMemo(function(){return Z?H:O({},H,{subscription:oe})},[Z,H,oe]),Q=w.useReducer(ii,ni,li),pr=Q[0],be=pr[0],fr=Q[1];if(be&&be.error)throw be.error;var lt=w.useRef(),vr=w.useRef(U),Ue=w.useRef(),ct=w.useRef(!1),gr=k(function(){return Ue.current&&U===vr.current?Ue.current:he(Y.getState(),U)},[Y,be,U]);xt(oi,[vr,lt,ct,U,gr,Ue,fe]),xt(si,[f,Y,oe,he,vr,lt,ct,Ue,fe,fr],[Y,oe,he]);var mr=w.useMemo(function(){return F.createElement(S,O({},gr,{ref:M}))},[M,S,gr]),la=w.useMemo(function(){return f?F.createElement(X.Provider,{value:J},mr):mr},[X,mr,J]);return la}var z=A?F.memo(L):L;if(z.WrappedComponent=S,z.displayName=L.displayName=x,g){var P=F.forwardRef(function(N,B){return F.createElement(z,O({},N,{reactReduxForwardedRef:B}))});return P.displayName=x,P.WrappedComponent=S,dt(P,S)}return dt(z,S)}}function yt(e,r){return e===r?e!==0||r!==0||1/e===1/r:e!==e&&r!==r}function yr(e,r){if(yt(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(r,t[i])||!yt(e[t[i]],r[t[i]]))return!1;return!0}function di(e,r){var t={},n=function(o){var s=e[o];typeof s=="function"&&(t[o]=function(){return r(s.apply(void 0,arguments))})};for(var i in e)n(i);return t}function Gr(e){return function(t,n){var i=e(t,n);function a(){return i}return a.dependsOnOwnProps=!1,a}}function wt(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function sn(e,r){return function(n,i){i.displayName;var a=function(s,c){return a.dependsOnOwnProps?a.mapToProps(s,c):a.mapToProps(s)};return a.dependsOnOwnProps=!0,a.mapToProps=function(s,c){a.mapToProps=e,a.dependsOnOwnProps=wt(e);var u=a(s,c);return typeof u=="function"&&(a.mapToProps=u,a.dependsOnOwnProps=wt(u),u=a(s,c)),u},a}}function ui(e){return typeof e=="function"?sn(e):void 0}function pi(e){return e?void 0:Gr(function(r){return{dispatch:r}})}function fi(e){return e&&typeof e=="object"?Gr(function(r){return di(e,r)}):void 0}const vi=[ui,pi,fi];function gi(e){return typeof e=="function"?sn(e):void 0}function mi(e){return e?void 0:Gr(function(){return{}})}const hi=[gi,mi];function bi(e,r,t){return O({},t,e,r)}function xi(e){return function(t,n){n.displayName;var i=n.pure,a=n.areMergedPropsEqual,o=!1,s;return function(u,f,d){var l=e(u,f,d);return o?(!i||!a(l,s))&&(s=l):(o=!0,s=l),s}}}function yi(e){return typeof e=="function"?xi(e):void 0}function wi(e){return e?void 0:function(){return bi}}const Di=[yi,wi];var Ci=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Si(e,r,t,n){return function(a,o){return t(e(a,o),r(n,o),o)}}function Ii(e,r,t,n,i){var a=i.areStatesEqual,o=i.areOwnPropsEqual,s=i.areStatePropsEqual,c=!1,u,f,d,l,v;function g(C,S){return u=C,f=S,d=e(u,f),l=r(n,f),v=t(d,l,f),c=!0,v}function h(){return d=e(u,f),r.dependsOnOwnProps&&(l=r(n,f)),v=t(d,l,f),v}function m(){return e.dependsOnOwnProps&&(d=e(u,f)),r.dependsOnOwnProps&&(l=r(n,f)),v=t(d,l,f),v}function b(){var C=e(u,f),S=!s(C,d);return d=C,S&&(v=t(d,l,f)),v}function y(C,S){var D=!o(S,f),x=!a(C,u,S,f);return u=C,f=S,D&&x?h():D?m():x?b():v}return function(S,D){return c?y(S,D):g(S,D)}}function Ni(e,r){var t=r.initMapStateToProps,n=r.initMapDispatchToProps,i=r.initMergeProps,a=Ke(r,Ci),o=t(e,a),s=n(e,a),c=i(e,a),u=a.pure?Ii:Si;return u(o,s,c,e,a)}var Ei=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function wr(e,r,t){for(var n=r.length-1;n>=0;n--){var i=r[n](e);if(i)return i}return function(a,o){throw new Error("Invalid value of type "+typeof e+" for "+t+" argument when connecting component "+o.wrappedComponentName+".")}}function Pi(e,r){return e===r}function Ai(e){var r=e===void 0?{}:e,t=r.connectHOC,n=t===void 0?ci:t,i=r.mapStateToPropsFactories,a=i===void 0?hi:i,o=r.mapDispatchToPropsFactories,s=o===void 0?vi:o,c=r.mergePropsFactories,u=c===void 0?Di:c,f=r.selectorFactory,d=f===void 0?Ni:f;return function(v,g,h,m){m===void 0&&(m={});var b=m,y=b.pure,C=y===void 0?!0:y,S=b.areStatesEqual,D=S===void 0?Pi:S,x=b.areOwnPropsEqual,E=x===void 0?yr:x,A=b.areStatePropsEqual,R=A===void 0?yr:A,k=b.areMergedPropsEqual,L=k===void 0?yr:k,z=Ke(b,Ei),P=wr(v,a,"mapStateToProps"),W=wr(g,s,"mapDispatchToProps"),N=wr(h,u,"mergeProps");return n(d,O({methodName:"connect",getDisplayName:function(M){return"Connect("+M+")"},shouldHandleStateChanges:!!v,initMapStateToProps:P,initMapDispatchToProps:W,initMergeProps:N,pure:C,areStatesEqual:D,areOwnPropsEqual:E,areStatePropsEqual:R,areMergedPropsEqual:L},z))}}const ln=Ai();Ja(va.unstable_batchedUpdates);function Bi(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function cn(e,r){var t=w.useState(function(){return{inputs:r,result:e()}})[0],n=w.useRef(!0),i=w.useRef(t),a=n.current||!!(r&&i.current.inputs&&Bi(r,i.current.inputs)),o=a?i.current:{inputs:r,result:e()};return w.useEffect(function(){n.current=!1,i.current=o},[o]),o.result}function ji(e,r){return cn(function(){return e},r)}var T=cn,j=ji,Ri="Invariant failed";function Oi(e,r){throw new Error(Ri)}var ie=function(r){var t=r.top,n=r.right,i=r.bottom,a=r.left,o=n-a,s=i-t,c={top:t,right:n,bottom:i,left:a,width:o,height:s,x:a,y:t,center:{x:(n+a)/2,y:(i+t)/2}};return c},Wr=function(r,t){return{top:r.top-t.top,left:r.left-t.left,bottom:r.bottom+t.bottom,right:r.right+t.right}},Dt=function(r,t){return{top:r.top+t.top,left:r.left+t.left,bottom:r.bottom-t.bottom,right:r.right-t.right}},Mi=function(r,t){return{top:r.top+t.y,left:r.left+t.x,bottom:r.bottom+t.y,right:r.right+t.x}},Dr={top:0,right:0,bottom:0,left:0},Ur=function(r){var t=r.borderBox,n=r.margin,i=n===void 0?Dr:n,a=r.border,o=a===void 0?Dr:a,s=r.padding,c=s===void 0?Dr:s,u=ie(Wr(t,i)),f=ie(Dt(t,o)),d=ie(Dt(f,c));return{marginBox:u,borderBox:ie(t),paddingBox:f,contentBox:d,margin:i,border:o,padding:c}},te=function(r){var t=r.slice(0,-2),n=r.slice(-2);if(n!=="px")return 0;var i=Number(t);return isNaN(i)&&Oi(),i},ki=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Xe=function(r,t){var n=r.borderBox,i=r.border,a=r.margin,o=r.padding,s=Mi(n,t);return Ur({borderBox:s,border:i,margin:a,padding:o})},Qe=function(r,t){return t===void 0&&(t=ki()),Xe(r,t)},dn=function(r,t){var n={top:te(t.marginTop),right:te(t.marginRight),bottom:te(t.marginBottom),left:te(t.marginLeft)},i={top:te(t.paddingTop),right:te(t.paddingRight),bottom:te(t.paddingBottom),left:te(t.paddingLeft)},a={top:te(t.borderTopWidth),right:te(t.borderRightWidth),bottom:te(t.borderBottomWidth),left:te(t.borderLeftWidth)};return Ur({borderBox:r,margin:n,padding:i,border:a})},un=function(r){var t=r.getBoundingClientRect(),n=window.getComputedStyle(r);return dn(t,n)},Ct=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function Li(e,r){return!!(e===r||Ct(e)&&Ct(r))}function Ti(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(!Li(e[t],r[t]))return!1;return!0}function $(e,r){r===void 0&&(r=Ti);var t,n=[],i,a=!1;function o(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return a&&t===this&&r(s,n)||(i=e.apply(this,s),a=!0,t=this,n=s),i}return o}var Me=function(r){var t=[],n=null,i=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];t=s,!n&&(n=requestAnimationFrame(function(){n=null,r.apply(void 0,t)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};function pn(e,r){}pn.bind(null,"warn");pn.bind(null,"error");function se(){}function Fi(e,r){return O({},e,{},r)}function ne(e,r,t){var n=r.map(function(i){var a=Fi(t,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){n.forEach(function(a){a()})}}var Gi="Invariant failed";function Ze(e){this.message=e}Ze.prototype.toString=function(){return this.message};function I(e,r){throw new Ze(Gi)}var Wi=function(e){rn(r,e);function r(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,n.callbacks=null,n.unbind=se,n.onWindowError=function(s){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var u=s.error;u instanceof Ze&&s.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(s){n.callbacks=s},n}var t=r.prototype;return t.componentDidMount=function(){this.unbind=ne(window,[{eventName:"error",fn:this.onWindowError}])},t.componentDidCatch=function(i){if(i instanceof Ze){this.setState({});return}throw i},t.componentWillUnmount=function(){this.unbind()},t.render=function(){return this.props.children(this.setCallbacks)},r}(F.Component),Ui=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,_e=function(r){return r+1},Hi=function(r){return`
  You have lifted an item in position `+_e(r.source.index)+`
`},fn=function(r,t){var n=r.droppableId===t.droppableId,i=_e(r.index),a=_e(t.index);return n?`
      You have moved the item from position `+i+`
      to position `+a+`
    `:`
    You have moved the item from position `+i+`
    in list `+r.droppableId+`
    to list `+t.droppableId+`
    in position `+a+`
  `},vn=function(r,t,n){var i=t.droppableId===n.droppableId;return i?`
      The item `+r+`
      has been combined with `+n.draggableId:`
      The item `+r+`
      in list `+t.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},$i=function(r){var t=r.destination;if(t)return fn(r.source,t);var n=r.combine;return n?vn(r.draggableId,r.source,n):"You are over an area that cannot be dropped on"},St=function(r){return`
  The item has returned to its starting position
  of `+_e(r.index)+`
`},qi=function(r){if(r.reason==="CANCEL")return`
      Movement cancelled.
      `+St(r.source)+`
    `;var t=r.destination,n=r.combine;return t?`
      You have dropped the item.
      `+fn(r.source,t)+`
    `:n?`
      You have dropped the item.
      `+vn(r.draggableId,r.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+St(r.source)+`
  `},Je={dragHandleUsageInstructions:Ui,onDragStart:Hi,onDragUpdate:$i,onDragEnd:qi},q={x:0,y:0},V=function(r,t){return{x:r.x+t.x,y:r.y+t.y}},_=function(r,t){return{x:r.x-t.x,y:r.y-t.y}},le=function(r,t){return r.x===t.x&&r.y===t.y},Ce=function(r){return{x:r.x!==0?-r.x:0,y:r.y!==0?-r.y:0}},me=function(r,t,n){var i;return n===void 0&&(n=0),i={},i[r]=t,i[r==="x"?"y":"x"]=n,i},ke=function(r,t){return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))},It=function(r,t){return Math.min.apply(Math,t.map(function(n){return ke(r,n)}))},gn=function(r){return function(t){return{x:r(t.x),y:r(t.y)}}},Vi=function(e,r){var t=ie({top:Math.max(r.top,e.top),right:Math.min(r.right,e.right),bottom:Math.min(r.bottom,e.bottom),left:Math.max(r.left,e.left)});return t.width<=0||t.height<=0?null:t},Ge=function(r,t){return{top:r.top+t.y,left:r.left+t.x,bottom:r.bottom+t.y,right:r.right+t.x}},Nt=function(r){return[{x:r.left,y:r.top},{x:r.right,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.bottom}]},zi={top:0,right:0,bottom:0,left:0},Yi=function(r,t){return t?Ge(r,t.scroll.diff.displacement):r},Ji=function(r,t,n){if(n&&n.increasedBy){var i;return O({},r,(i={},i[t.end]=r[t.end]+n.increasedBy[t.line],i))}return r},Ki=function(r,t){return t&&t.shouldClipSubject?Vi(t.pageMarginBox,r):ie(r)},ye=function(e){var r=e.page,t=e.withPlaceholder,n=e.axis,i=e.frame,a=Yi(r.marginBox,i),o=Ji(a,n,t),s=Ki(o,i);return{page:r,withPlaceholder:t,active:s}},Hr=function(e,r){e.frame||I();var t=e.frame,n=_(r,t.scroll.initial),i=Ce(n),a=O({},t,{scroll:{initial:t.scroll.initial,current:r,diff:{value:n,displacement:i},max:t.scroll.max}}),o=ye({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a}),s=O({},e,{frame:a,subject:o});return s};function er(e){return Object.values?Object.values(e):Object.keys(e).map(function(r){return e[r]})}function $r(e,r){if(e.findIndex)return e.findIndex(r);for(var t=0;t<e.length;t++)if(r(e[t]))return t;return-1}function ue(e,r){if(e.find)return e.find(r);var t=$r(e,r);if(t!==-1)return e[t]}function mn(e){return Array.prototype.slice.call(e)}var hn=$(function(e){return e.reduce(function(r,t){return r[t.descriptor.id]=t,r},{})}),bn=$(function(e){return e.reduce(function(r,t){return r[t.descriptor.id]=t,r},{})}),ir=$(function(e){return er(e)}),Xi=$(function(e){return er(e)}),Se=$(function(e,r){var t=Xi(r).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,i){return n.descriptor.index-i.descriptor.index});return t});function qr(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function or(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var sr=$(function(e,r){return r.filter(function(t){return t.descriptor.id!==e.descriptor.id})}),Qi=function(e){var r=e.isMovingForward,t=e.draggable,n=e.destination,i=e.insideDestination,a=e.previousImpact;if(!n.isCombineEnabled)return null;var o=qr(a);if(!o)return null;function s(h){var m={type:"COMBINE",combine:{draggableId:h,droppableId:n.descriptor.id}};return O({},a,{at:m})}var c=a.displaced.all,u=c.length?c[0]:null;if(r)return u?s(u):null;var f=sr(t,i);if(!u){if(!f.length)return null;var d=f[f.length-1];return s(d.descriptor.id)}var l=$r(f,function(h){return h.descriptor.id===u});l===-1&&I();var v=l-1;if(v<0)return null;var g=f[v];return s(g.descriptor.id)},Ie=function(e,r){return e.descriptor.droppableId===r.descriptor.id},xn={point:q,value:0},Le={invisible:{},visible:{},all:[]},Zi={displaced:Le,displacedBy:xn,at:null},ae=function(e,r){return function(t){return e<=t&&t<=r}},yn=function(e){var r=ae(e.top,e.bottom),t=ae(e.left,e.right);return function(n){var i=r(n.top)&&r(n.bottom)&&t(n.left)&&t(n.right);if(i)return!0;var a=r(n.top)||r(n.bottom),o=t(n.left)||t(n.right),s=a&&o;if(s)return!0;var c=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,f=c&&u;if(f)return!0;var d=c&&o||u&&a;return d}},_i=function(e){var r=ae(e.top,e.bottom),t=ae(e.left,e.right);return function(n){var i=r(n.top)&&r(n.bottom)&&t(n.left)&&t(n.right);return i}},Vr={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},wn={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},eo=function(e){return function(r){var t=ae(r.top,r.bottom),n=ae(r.left,r.right);return function(i){return e===Vr?t(i.top)&&t(i.bottom):n(i.left)&&n(i.right)}}},ro=function(r,t){var n=t.frame?t.frame.scroll.diff.displacement:q;return Ge(r,n)},to=function(r,t,n){return t.subject.active?n(t.subject.active)(r):!1},no=function(r,t,n){return n(t)(r)},zr=function(r){var t=r.target,n=r.destination,i=r.viewport,a=r.withDroppableDisplacement,o=r.isVisibleThroughFrameFn,s=a?ro(t,n):t;return to(s,n,o)&&no(s,i,o)},ao=function(r){return zr(O({},r,{isVisibleThroughFrameFn:yn}))},Dn=function(r){return zr(O({},r,{isVisibleThroughFrameFn:_i}))},io=function(r){return zr(O({},r,{isVisibleThroughFrameFn:eo(r.destination.axis)}))},oo=function(r,t,n){if(typeof n=="boolean")return n;if(!t)return!0;var i=t.invisible,a=t.visible;if(i[r])return!1;var o=a[r];return o?o.shouldAnimate:!0};function so(e,r){var t=e.page.marginBox,n={top:r.point.y,right:0,bottom:0,left:r.point.x};return ie(Wr(t,n))}function Te(e){var r=e.afterDragging,t=e.destination,n=e.displacedBy,i=e.viewport,a=e.forceShouldAnimate,o=e.last;return r.reduce(function(c,u){var f=so(u,n),d=u.descriptor.id;c.all.push(d);var l=ao({target:f,destination:t,viewport:i,withDroppableDisplacement:!0});if(!l)return c.invisible[u.descriptor.id]=!0,c;var v=oo(d,o,a),g={draggableId:d,shouldAnimate:v};return c.visible[d]=g,c},{all:[],visible:{},invisible:{}})}function lo(e,r){if(!e.length)return 0;var t=e[e.length-1].descriptor.index;return r.inHomeList?t:t+1}function Et(e){var r=e.insideDestination,t=e.inHomeList,n=e.displacedBy,i=e.destination,a=lo(r,{inHomeList:t});return{displaced:Le,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function rr(e){var r=e.draggable,t=e.insideDestination,n=e.destination,i=e.viewport,a=e.displacedBy,o=e.last,s=e.index,c=e.forceShouldAnimate,u=Ie(r,n);if(s==null)return Et({insideDestination:t,inHomeList:u,displacedBy:a,destination:n});var f=ue(t,function(h){return h.descriptor.index===s});if(!f)return Et({insideDestination:t,inHomeList:u,displacedBy:a,destination:n});var d=sr(r,t),l=t.indexOf(f),v=d.slice(l),g=Te({afterDragging:v,destination:n,displacedBy:a,last:o,viewport:i.frame,forceShouldAnimate:c});return{displaced:g,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function de(e,r){return!!r.effected[e]}var co=function(e){var r=e.isMovingForward,t=e.destination,n=e.draggables,i=e.combine,a=e.afterCritical;if(!t.isCombineEnabled)return null;var o=i.draggableId,s=n[o],c=s.descriptor.index,u=de(o,a);return u?r?c:c-1:r?c+1:c},uo=function(e){var r=e.isMovingForward,t=e.isInHomeList,n=e.insideDestination,i=e.location;if(!n.length)return null;var a=i.index,o=r?a+1:a-1,s=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=t?c:c+1;return o<s||o>u?null:o},po=function(e){var r=e.isMovingForward,t=e.isInHomeList,n=e.draggable,i=e.draggables,a=e.destination,o=e.insideDestination,s=e.previousImpact,c=e.viewport,u=e.afterCritical,f=s.at;if(f||I(),f.type==="REORDER"){var d=uo({isMovingForward:r,isInHomeList:t,location:f.destination,insideDestination:o});return d==null?null:rr({draggable:n,insideDestination:o,destination:a,viewport:c,last:s.displaced,displacedBy:s.displacedBy,index:d})}var l=co({isMovingForward:r,destination:a,displaced:s.displaced,draggables:i,combine:f.combine,afterCritical:u});return l==null?null:rr({draggable:n,insideDestination:o,destination:a,viewport:c,last:s.displaced,displacedBy:s.displacedBy,index:l})},fo=function(e){var r=e.displaced,t=e.afterCritical,n=e.combineWith,i=e.displacedBy,a=!!(r.visible[n]||r.invisible[n]);return de(n,t)?a?q:Ce(i.point):a?i.point:q},vo=function(e){var r=e.afterCritical,t=e.impact,n=e.draggables,i=or(t);i||I();var a=i.draggableId,o=n[a].page.borderBox.center,s=fo({displaced:t.displaced,afterCritical:r,combineWith:a,displacedBy:t.displacedBy});return V(o,s)},Cn=function(r,t){return t.margin[r.start]+t.borderBox[r.size]/2},go=function(r,t){return t.margin[r.end]+t.borderBox[r.size]/2},Yr=function(r,t,n){return t[r.crossAxisStart]+n.margin[r.crossAxisStart]+n.borderBox[r.crossAxisSize]/2},Pt=function(r){var t=r.axis,n=r.moveRelativeTo,i=r.isMoving;return me(t.line,n.marginBox[t.end]+Cn(t,i),Yr(t,n.marginBox,i))},At=function(r){var t=r.axis,n=r.moveRelativeTo,i=r.isMoving;return me(t.line,n.marginBox[t.start]-go(t,i),Yr(t,n.marginBox,i))},mo=function(r){var t=r.axis,n=r.moveInto,i=r.isMoving;return me(t.line,n.contentBox[t.start]+Cn(t,i),Yr(t,n.contentBox,i))},ho=function(e){var r=e.impact,t=e.draggable,n=e.draggables,i=e.droppable,a=e.afterCritical,o=Se(i.descriptor.id,n),s=t.page,c=i.axis;if(!o.length)return mo({axis:c,moveInto:i.page,isMoving:s});var u=r.displaced,f=r.displacedBy,d=u.all[0];if(d){var l=n[d];if(de(d,a))return At({axis:c,moveRelativeTo:l.page,isMoving:s});var v=Xe(l.page,f.point);return At({axis:c,moveRelativeTo:v,isMoving:s})}var g=o[o.length-1];if(g.descriptor.id===t.descriptor.id)return s.borderBox.center;if(de(g.descriptor.id,a)){var h=Xe(g.page,Ce(a.displacedBy.point));return Pt({axis:c,moveRelativeTo:h,isMoving:s})}return Pt({axis:c,moveRelativeTo:g.page,isMoving:s})},Or=function(e,r){var t=e.frame;return t?V(r,t.scroll.diff.displacement):r},bo=function(r){var t=r.impact,n=r.draggable,i=r.droppable,a=r.draggables,o=r.afterCritical,s=n.page.borderBox.center,c=t.at;return!i||!c?s:c.type==="REORDER"?ho({impact:t,draggable:n,draggables:a,droppable:i,afterCritical:o}):vo({impact:t,draggables:a,afterCritical:o})},lr=function(e){var r=bo(e),t=e.droppable,n=t?Or(t,r):r;return n},Sn=function(e,r){var t=_(r,e.scroll.initial),n=Ce(t),i=ie({top:r.y,bottom:r.y+e.frame.height,left:r.x,right:r.x+e.frame.width}),a={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:r,diff:{value:t,displacement:n}}};return a};function Bt(e,r){return e.map(function(t){return r[t]})}function xo(e,r){for(var t=0;t<r.length;t++){var n=r[t].visible[e];if(n)return n}return null}var yo=function(e){var r=e.impact,t=e.viewport,n=e.destination,i=e.draggables,a=e.maxScrollChange,o=Sn(t,V(t.scroll.current,a)),s=n.frame?Hr(n,V(n.frame.scroll.current,a)):n,c=r.displaced,u=Te({afterDragging:Bt(c.all,i),destination:n,displacedBy:r.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),f=Te({afterDragging:Bt(c.all,i),destination:s,displacedBy:r.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),d={},l={},v=[c,u,f];c.all.forEach(function(h){var m=xo(h,v);if(m){l[h]=m;return}d[h]=!0});var g=O({},r,{displaced:{all:c.all,invisible:d,visible:l}});return g},wo=function(e,r){return V(e.scroll.diff.displacement,r)},Jr=function(e){var r=e.pageBorderBoxCenter,t=e.draggable,n=e.viewport,i=wo(n,r),a=_(i,t.page.borderBox.center);return V(t.client.borderBox.center,a)},In=function(e){var r=e.draggable,t=e.destination,n=e.newPageBorderBoxCenter,i=e.viewport,a=e.withDroppableDisplacement,o=e.onlyOnMainAxis,s=o===void 0?!1:o,c=_(n,r.page.borderBox.center),u=Ge(r.page.borderBox,c),f={target:u,destination:t,withDroppableDisplacement:a,viewport:i};return s?io(f):Dn(f)},Do=function(e){var r=e.isMovingForward,t=e.draggable,n=e.destination,i=e.draggables,a=e.previousImpact,o=e.viewport,s=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var f=Se(n.descriptor.id,i),d=Ie(t,n),l=Qi({isMovingForward:r,draggable:t,destination:n,insideDestination:f,previousImpact:a})||po({isMovingForward:r,isInHomeList:d,draggable:t,draggables:i,destination:n,insideDestination:f,previousImpact:a,viewport:o,afterCritical:u});if(!l)return null;var v=lr({impact:l,draggable:t,droppable:n,draggables:i,afterCritical:u}),g=In({draggable:t,destination:n,newPageBorderBoxCenter:v,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var h=Jr({pageBorderBoxCenter:v,draggable:t,viewport:o});return{clientSelection:h,impact:l,scrollJumpRequest:null}}var m=_(v,s),b=yo({impact:l,viewport:o,destination:n,draggables:i,maxScrollChange:m});return{clientSelection:c,impact:b,scrollJumpRequest:m}},K=function(r){var t=r.subject.active;return t||I(),t},Co=function(e){var r=e.isMovingForward,t=e.pageBorderBoxCenter,n=e.source,i=e.droppables,a=e.viewport,o=n.subject.active;if(!o)return null;var s=n.axis,c=ae(o[s.start],o[s.end]),u=ir(i).filter(function(d){return d!==n}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return yn(a.frame)(K(d))}).filter(function(d){var l=K(d);return r?o[s.crossAxisEnd]<l[s.crossAxisEnd]:l[s.crossAxisStart]<o[s.crossAxisStart]}).filter(function(d){var l=K(d),v=ae(l[s.start],l[s.end]);return c(l[s.start])||c(l[s.end])||v(o[s.start])||v(o[s.end])}).sort(function(d,l){var v=K(d)[s.crossAxisStart],g=K(l)[s.crossAxisStart];return r?v-g:g-v}).filter(function(d,l,v){return K(d)[s.crossAxisStart]===K(v[0])[s.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var f=u.filter(function(d){var l=ae(K(d)[s.start],K(d)[s.end]);return l(t[s.line])});return f.length===1?f[0]:f.length>1?f.sort(function(d,l){return K(d)[s.start]-K(l)[s.start]})[0]:u.sort(function(d,l){var v=It(t,Nt(K(d))),g=It(t,Nt(K(l)));return v!==g?v-g:K(d)[s.start]-K(l)[s.start]})[0]},jt=function(r,t){var n=r.page.borderBox.center;return de(r.descriptor.id,t)?_(n,t.displacedBy.point):n},So=function(r,t){var n=r.page.borderBox;return de(r.descriptor.id,t)?Ge(n,Ce(t.displacedBy.point)):n},Io=function(e){var r=e.pageBorderBoxCenter,t=e.viewport,n=e.destination,i=e.insideDestination,a=e.afterCritical,o=i.filter(function(s){return Dn({target:So(s,a),destination:n,viewport:t.frame,withDroppableDisplacement:!0})}).sort(function(s,c){var u=ke(r,Or(n,jt(s,a))),f=ke(r,Or(n,jt(c,a)));return u<f?-1:f<u?1:s.descriptor.index-c.descriptor.index});return o[0]||null},We=$(function(r,t){var n=t[r.line];return{value:n,point:me(r.line,n)}}),No=function(r,t,n){var i=r.axis;if(r.descriptor.mode==="virtual")return me(i.line,t[i.line]);var a=r.subject.page.contentBox[i.size],o=Se(r.descriptor.id,n),s=o.reduce(function(f,d){return f+d.client.marginBox[i.size]},0),c=s+t[i.line],u=c-a;return u<=0?null:me(i.line,u)},Nn=function(r,t){return O({},r,{scroll:O({},r.scroll,{max:t})})},En=function(r,t,n){var i=r.frame;Ie(t,r)&&I(),r.subject.withPlaceholder&&I();var a=We(r.axis,t.displaceBy).point,o=No(r,a,n),s={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:r.frame?r.frame.scroll.max:null};if(!i){var c=ye({page:r.subject.page,withPlaceholder:s,axis:r.axis,frame:r.frame});return O({},r,{subject:c})}var u=o?V(i.scroll.max,o):i.scroll.max,f=Nn(i,u),d=ye({page:r.subject.page,withPlaceholder:s,axis:r.axis,frame:f});return O({},r,{subject:d,frame:f})},Eo=function(r){var t=r.subject.withPlaceholder;t||I();var n=r.frame;if(!n){var i=ye({page:r.subject.page,axis:r.axis,frame:null,withPlaceholder:null});return O({},r,{subject:i})}var a=t.oldFrameMaxScroll;a||I();var o=Nn(n,a),s=ye({page:r.subject.page,axis:r.axis,frame:o,withPlaceholder:null});return O({},r,{subject:s,frame:o})},Po=function(e){var r=e.previousPageBorderBoxCenter,t=e.moveRelativeTo,n=e.insideDestination,i=e.draggable,a=e.draggables,o=e.destination,s=e.viewport,c=e.afterCritical;if(!t){if(n.length)return null;var u={displaced:Le,displacedBy:xn,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},f=lr({impact:u,draggable:i,droppable:o,draggables:a,afterCritical:c}),d=Ie(i,o)?o:En(o,i,a),l=In({draggable:i,destination:d,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return l?u:null}var v=r[o.axis.line]<=t.page.borderBox.center[o.axis.line],g=function(){var m=t.descriptor.index;return t.descriptor.id===i.descriptor.id||v?m:m+1}(),h=We(o.axis,i.displaceBy);return rr({draggable:i,insideDestination:n,destination:o,viewport:s,displacedBy:h,last:Le,index:g})},Ao=function(e){var r=e.isMovingForward,t=e.previousPageBorderBoxCenter,n=e.draggable,i=e.isOver,a=e.draggables,o=e.droppables,s=e.viewport,c=e.afterCritical,u=Co({isMovingForward:r,pageBorderBoxCenter:t,source:i,droppables:o,viewport:s});if(!u)return null;var f=Se(u.descriptor.id,a),d=Io({pageBorderBoxCenter:t,viewport:s,destination:u,insideDestination:f,afterCritical:c}),l=Po({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:a,moveRelativeTo:d,insideDestination:f,viewport:s,afterCritical:c});if(!l)return null;var v=lr({impact:l,draggable:n,droppable:u,draggables:a,afterCritical:c}),g=Jr({pageBorderBoxCenter:v,draggable:n,viewport:s});return{clientSelection:g,impact:l,scrollJumpRequest:null}},ee=function(e){var r=e.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null},Bo=function(r,t){var n=ee(r);return n?t[n]:null},jo=function(e){var r=e.state,t=e.type,n=Bo(r.impact,r.dimensions.droppables),i=!!n,a=r.dimensions.droppables[r.critical.droppable.id],o=n||a,s=o.axis.direction,c=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!i)return null;var u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=r.dimensions.draggables[r.critical.draggable.id],d=r.current.page.borderBoxCenter,l=r.dimensions,v=l.draggables,g=l.droppables;return c?Do({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:f,destination:o,draggables:v,viewport:r.viewport,previousClientSelection:r.current.client.selection,previousImpact:r.impact,afterCritical:r.afterCritical}):Ao({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:f,isOver:o,draggables:v,droppables:g,viewport:r.viewport,afterCritical:r.afterCritical})};function ge(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Pn(e){var r=ae(e.top,e.bottom),t=ae(e.left,e.right);return function(i){return r(i.y)&&t(i.x)}}function Ro(e,r){return e.left<r.right&&e.right>r.left&&e.top<r.bottom&&e.bottom>r.top}function Oo(e){var r=e.pageBorderBox,t=e.draggable,n=e.candidates,i=t.page.borderBox.center,a=n.map(function(o){var s=o.axis,c=me(o.axis.line,r.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:ke(i,c)}}).sort(function(o,s){return s.distance-o.distance});return a[0]?a[0].id:null}function Mo(e){var r=e.pageBorderBox,t=e.draggable,n=e.droppables,i=ir(n).filter(function(a){if(!a.isEnabled)return!1;var o=a.subject.active;if(!o||!Ro(r,o))return!1;if(Pn(o)(r.center))return!0;var s=a.axis,c=o.center[s.crossAxisLine],u=r[s.crossAxisStart],f=r[s.crossAxisEnd],d=ae(o[s.crossAxisStart],o[s.crossAxisEnd]),l=d(u),v=d(f);return!l&&!v?!0:l?u<c:f>c});return i.length?i.length===1?i[0].descriptor.id:Oo({pageBorderBox:r,draggable:t,candidates:i}):null}var An=function(r,t){return ie(Ge(r,t))},ko=function(e,r){var t=e.frame;return t?An(r,t.scroll.diff.value):r};function Bn(e){var r=e.displaced,t=e.id;return!!(r.visible[t]||r.invisible[t])}function Lo(e){var r=e.draggable,t=e.closest,n=e.inHomeList;return t?n&&t.descriptor.index>r.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var To=function(e){var r=e.pageBorderBoxWithDroppableScroll,t=e.draggable,n=e.destination,i=e.insideDestination,a=e.last,o=e.viewport,s=e.afterCritical,c=n.axis,u=We(n.axis,t.displaceBy),f=u.value,d=r[c.start],l=r[c.end],v=sr(t,i),g=ue(v,function(m){var b=m.descriptor.id,y=m.page.borderBox.center[c.line],C=de(b,s),S=Bn({displaced:a,id:b});return C?S?l<=y:d<y-f:S?l<=y+f:d<y}),h=Lo({draggable:t,closest:g,inHomeList:Ie(t,n)});return rr({draggable:t,insideDestination:i,destination:n,viewport:o,last:a,displacedBy:u,index:h})},Fo=4,Go=function(e){var r=e.draggable,t=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,i=e.destination,a=e.insideDestination,o=e.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,c=We(i.axis,r.displaceBy),u=c.value,f=t[s.start],d=t[s.end],l=sr(r,a),v=ue(l,function(h){var m=h.descriptor.id,b=h.page.borderBox,y=b[s.size],C=y/Fo,S=de(m,o),D=Bn({displaced:n.displaced,id:m});return S?D?d>b[s.start]+C&&d<b[s.end]-C:f>b[s.start]-u+C&&f<b[s.end]-u-C:D?d>b[s.start]+u+C&&d<b[s.end]+u-C:f>b[s.start]+C&&f<b[s.end]-C});if(!v)return null;var g={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:v.descriptor.id,droppableId:i.descriptor.id}}};return g},jn=function(e){var r=e.pageOffset,t=e.draggable,n=e.draggables,i=e.droppables,a=e.previousImpact,o=e.viewport,s=e.afterCritical,c=An(t.page.borderBox,r),u=Mo({pageBorderBox:c,draggable:t,droppables:i});if(!u)return Zi;var f=i[u],d=Se(f.descriptor.id,n),l=ko(f,c);return Go({pageBorderBoxWithDroppableScroll:l,draggable:t,previousImpact:a,destination:f,insideDestination:d,afterCritical:s})||To({pageBorderBoxWithDroppableScroll:l,draggable:t,destination:f,insideDestination:d,last:a.displaced,viewport:o,afterCritical:s})},Kr=function(e,r){var t;return O({},e,(t={},t[r.descriptor.id]=r,t))},Wo=function(r){var t=r.previousImpact,n=r.impact,i=r.droppables,a=ee(t),o=ee(n);if(!a||a===o)return i;var s=i[a];if(!s.subject.withPlaceholder)return i;var c=Eo(s);return Kr(i,c)},Uo=function(e){var r=e.draggable,t=e.draggables,n=e.droppables,i=e.previousImpact,a=e.impact,o=Wo({previousImpact:i,impact:a,droppables:n}),s=ee(a);if(!s)return o;var c=n[s];if(Ie(r,c)||c.subject.withPlaceholder)return o;var u=En(c,r,t);return Kr(o,u)},Re=function(e){var r=e.state,t=e.clientSelection,n=e.dimensions,i=e.viewport,a=e.impact,o=e.scrollJumpRequest,s=i||r.viewport,c=n||r.dimensions,u=t||r.current.client.selection,f=_(u,r.initial.client.selection),d={offset:f,selection:u,borderBoxCenter:V(r.initial.client.borderBoxCenter,f)},l={selection:V(d.selection,s.scroll.current),borderBoxCenter:V(d.borderBoxCenter,s.scroll.current),offset:V(d.offset,s.scroll.diff.value)},v={client:d,page:l};if(r.phase==="COLLECTING")return O({phase:"COLLECTING"},r,{dimensions:c,viewport:s,current:v});var g=c.draggables[r.critical.draggable.id],h=a||jn({pageOffset:l.offset,draggable:g,draggables:c.draggables,droppables:c.droppables,previousImpact:r.impact,viewport:s,afterCritical:r.afterCritical}),m=Uo({draggable:g,impact:h,previousImpact:r.impact,draggables:c.draggables,droppables:c.droppables}),b=O({},r,{current:v,dimensions:{draggables:c.draggables,droppables:m},impact:h,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return b};function Ho(e,r){return e.map(function(t){return r[t]})}var Rn=function(e){var r=e.impact,t=e.viewport,n=e.draggables,i=e.destination,a=e.forceShouldAnimate,o=r.displaced,s=Ho(o.all,n),c=Te({afterDragging:s,destination:i,displacedBy:r.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:o});return O({},r,{displaced:c})},On=function(e){var r=e.impact,t=e.draggable,n=e.droppable,i=e.draggables,a=e.viewport,o=e.afterCritical,s=lr({impact:r,draggable:t,draggables:i,droppable:n,afterCritical:o});return Jr({pageBorderBoxCenter:s,draggable:t,viewport:a})},Mn=function(e){var r=e.state,t=e.dimensions,n=e.viewport;r.movementMode!=="SNAP"&&I();var i=r.impact,a=n||r.viewport,o=t||r.dimensions,s=o.draggables,c=o.droppables,u=s[r.critical.draggable.id],f=ee(i);f||I();var d=c[f],l=Rn({impact:i,viewport:a,destination:d,draggables:s}),v=On({impact:l,draggable:u,droppable:d,draggables:s,viewport:a,afterCritical:r.afterCritical});return Re({impact:l,clientSelection:v,state:r,dimensions:o,viewport:a})},$o=function(e){return{index:e.index,droppableId:e.droppableId}},kn=function(e){var r=e.draggable,t=e.home,n=e.draggables,i=e.viewport,a=We(t.axis,r.displaceBy),o=Se(t.descriptor.id,n),s=o.indexOf(r);s===-1&&I();var c=o.slice(s+1),u=c.reduce(function(v,g){return v[g.descriptor.id]=!0,v},{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:u},d=Te({afterDragging:c,destination:t,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),l={displaced:d,displacedBy:a,at:{type:"REORDER",destination:$o(r.descriptor)}};return{impact:l,afterCritical:f}},qo=function(e,r){return{draggables:e.draggables,droppables:Kr(e.droppables,r)}},Vo=function(e){var r=e.draggable,t=e.offset,n=e.initialWindowScroll,i=Xe(r.client,t),a=Qe(i,n),o=O({},r,{placeholder:O({},r.placeholder,{client:i}),client:i,page:a});return o},zo=function(e){var r=e.frame;return r||I(),r},Yo=function(e){var r=e.additions,t=e.updatedDroppables,n=e.viewport,i=n.scroll.diff.value;return r.map(function(a){var o=a.descriptor.droppableId,s=t[o],c=zo(s),u=c.scroll.diff.value,f=V(i,u),d=Vo({draggable:a,offset:f,initialWindowScroll:n.scroll.initial});return d})},Jo=function(e){var r=e.state,t=e.published,n=t.modified.map(function(C){var S=r.dimensions.droppables[C.droppableId],D=Hr(S,C.scroll);return D}),i=O({},r.dimensions.droppables,{},hn(n)),a=bn(Yo({additions:t.additions,updatedDroppables:i,viewport:r.viewport})),o=O({},r.dimensions.draggables,{},a);t.removals.forEach(function(C){delete o[C]});var s={droppables:i,draggables:o},c=ee(r.impact),u=c?s.droppables[c]:null,f=s.draggables[r.critical.draggable.id],d=s.droppables[r.critical.droppable.id],l=kn({draggable:f,home:d,draggables:o,viewport:r.viewport}),v=l.impact,g=l.afterCritical,h=u&&u.isCombineEnabled?r.impact:v,m=jn({pageOffset:r.current.page.offset,draggable:s.draggables[r.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:h,viewport:r.viewport,afterCritical:g}),b=O({phase:"DRAGGING"},r,{phase:"DRAGGING",impact:m,onLiftImpact:v,dimensions:s,afterCritical:g,forceShouldAnimate:!1});if(r.phase==="COLLECTING")return b;var y=O({phase:"DROP_PENDING"},b,{phase:"DROP_PENDING",reason:r.reason,isWaiting:!1});return y},Mr=function(r){return r.movementMode==="SNAP"},Cr=function(r,t,n){var i=qo(r.dimensions,t);return!Mr(r)||n?Re({state:r,dimensions:i}):Mn({state:r,dimensions:i})};function Sr(e){return e.isDragging&&e.movementMode==="SNAP"?O({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Rt={phase:"IDLE",completed:null,shouldFlush:!1},Ko=function(e,r){if(e===void 0&&(e=Rt),r.type==="FLUSH")return O({},Rt,{shouldFlush:!0});if(r.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&I();var t=r.payload,n=t.critical,i=t.clientSelection,a=t.viewport,o=t.dimensions,s=t.movementMode,c=o.draggables[n.draggable.id],u=o.droppables[n.droppable.id],f={selection:i,borderBoxCenter:c.client.borderBox.center,offset:q},d={client:f,page:{selection:V(f.selection,a.scroll.initial),borderBoxCenter:V(f.selection,a.scroll.initial),offset:V(f.selection,a.scroll.diff.value)}},l=ir(o.droppables).every(function(fr){return!fr.isFixedOnPage}),v=kn({draggable:c,home:u,draggables:o.draggables,viewport:a}),g=v.impact,h=v.afterCritical,m={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:d,current:d,isWindowScrollAllowed:l,impact:g,afterCritical:h,onLiftImpact:g,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return m}if(r.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&I();var b=O({phase:"COLLECTING"},e,{phase:"COLLECTING"});return b}if(r.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||I(),Jo({state:e,published:r.payload});if(r.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ge(e)||I();var y=r.payload.client;return le(y,e.current.client.selection)?e:Re({state:e,clientSelection:y,impact:Mr(e)?e.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Sr(e);ge(e)||I();var C=r.payload,S=C.id,D=C.newScroll,x=e.dimensions.droppables[S];if(!x)return e;var E=Hr(x,D);return Cr(e,E,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ge(e)||I();var A=r.payload,R=A.id,k=A.isEnabled,L=e.dimensions.droppables[R];L||I(),L.isEnabled===k&&I();var z=O({},L,{isEnabled:k});return Cr(e,z,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ge(e)||I();var P=r.payload,W=P.id,N=P.isCombineEnabled,B=e.dimensions.droppables[W];B||I(),B.isCombineEnabled===N&&I();var M=O({},B,{isCombineEnabled:N});return Cr(e,M,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ge(e)||I(),e.isWindowScrollAllowed||I();var U=r.payload.newScroll;if(le(e.viewport.scroll.current,U))return Sr(e);var X=Sn(e.viewport,U);return Mr(e)?Mn({state:e,viewport:X}):Re({state:e,viewport:X})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ge(e))return e;var H=r.payload.maxScroll;if(le(H,e.viewport.scroll.max))return e;var Z=O({},e.viewport,{scroll:O({},e.viewport.scroll,{max:H})});return O({phase:"DRAGGING"},e,{viewport:Z})}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&I();var Y=jo({state:e,type:r.type});return Y?Re({state:e,impact:Y.impact,clientSelection:Y.clientSelection,scrollJumpRequest:Y.scrollJumpRequest}):e}if(r.type==="DROP_PENDING"){var he=r.payload.reason;e.phase!=="COLLECTING"&&I();var pe=O({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:he});return pe}if(r.type==="DROP_ANIMATE"){var oe=r.payload,fe=oe.completed,J=oe.dropDuration,Q=oe.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||I();var pr={phase:"DROP_ANIMATING",completed:fe,dropDuration:J,newHomeClientOffset:Q,dimensions:e.dimensions};return pr}if(r.type==="DROP_COMPLETE"){var be=r.payload.completed;return{phase:"IDLE",completed:be,shouldFlush:!1}}return e},Xo=function(r){return{type:"BEFORE_INITIAL_CAPTURE",payload:r}},Qo=function(r){return{type:"LIFT",payload:r}},Zo=function(r){return{type:"INITIAL_PUBLISH",payload:r}},_o=function(r){return{type:"PUBLISH_WHILE_DRAGGING",payload:r}},es=function(){return{type:"COLLECTION_STARTING",payload:null}},rs=function(r){return{type:"UPDATE_DROPPABLE_SCROLL",payload:r}},ts=function(r){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:r}},ns=function(r){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:r}},Ln=function(r){return{type:"MOVE",payload:r}},as=function(r){return{type:"MOVE_BY_WINDOW_SCROLL",payload:r}},is=function(r){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:r}},os=function(){return{type:"MOVE_UP",payload:null}},ss=function(){return{type:"MOVE_DOWN",payload:null}},ls=function(){return{type:"MOVE_RIGHT",payload:null}},cs=function(){return{type:"MOVE_LEFT",payload:null}},Xr=function(){return{type:"FLUSH",payload:null}},ds=function(r){return{type:"DROP_ANIMATE",payload:r}},Qr=function(r){return{type:"DROP_COMPLETE",payload:r}},Tn=function(r){return{type:"DROP",payload:r}},us=function(r){return{type:"DROP_PENDING",payload:r}},Fn=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},ps=function(e){return function(r){var t=r.getState,n=r.dispatch;return function(i){return function(a){if(a.type!=="LIFT"){i(a);return}var o=a.payload,s=o.id,c=o.clientSelection,u=o.movementMode,f=t();f.phase==="DROP_ANIMATING"&&n(Qr({completed:f.completed})),t().phase!=="IDLE"&&I(),n(Xr()),n(Xo({draggableId:s,movementMode:u}));var d={shouldPublishImmediately:u==="SNAP"},l={draggableId:s,scrollOptions:d},v=e.startPublishing(l),g=v.critical,h=v.dimensions,m=v.viewport;n(Zo({critical:g,dimensions:h,clientSelection:c,movementMode:u,viewport:m}))}}}},fs=function(e){return function(){return function(r){return function(t){t.type==="INITIAL_PUBLISH"&&e.dragging(),t.type==="DROP_ANIMATE"&&e.dropping(t.payload.completed.result.reason),(t.type==="FLUSH"||t.type==="DROP_COMPLETE")&&e.resting(),r(t)}}}},Zr={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Fe={opacity:{drop:0,combining:.7},scale:{drop:.75}},_r={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ve=_r.outOfTheWay+"s "+Zr.outOfTheWay,Oe={fluid:"opacity "+ve,snap:"transform "+ve+", opacity "+ve,drop:function(r){var t=r+"s "+Zr.drop;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+ve,placeholder:"height "+ve+", width "+ve+", margin "+ve},Ot=function(r){return le(r,q)?null:"translate("+r.x+"px, "+r.y+"px)"},kr={moveTo:Ot,drop:function(r,t){var n=Ot(r);return n?t?n+" scale("+Fe.scale.drop+")":n:null}},Lr=_r.minDropTime,Gn=_r.maxDropTime,vs=Gn-Lr,Mt=1500,gs=.6,ms=function(e){var r=e.current,t=e.destination,n=e.reason,i=ke(r,t);if(i<=0)return Lr;if(i>=Mt)return Gn;var a=i/Mt,o=Lr+vs*a,s=n==="CANCEL"?o*gs:o;return Number(s.toFixed(2))},hs=function(e){var r=e.impact,t=e.draggable,n=e.dimensions,i=e.viewport,a=e.afterCritical,o=n.draggables,s=n.droppables,c=ee(r),u=c?s[c]:null,f=s[t.descriptor.droppableId],d=On({impact:r,draggable:t,draggables:o,afterCritical:a,droppable:u||f,viewport:i}),l=_(d,t.client.borderBox.center);return l},bs=function(e){var r=e.draggables,t=e.reason,n=e.lastImpact,i=e.home,a=e.viewport,o=e.onLiftImpact;if(!n.at||t!=="DROP"){var s=Rn({draggables:r,impact:o,destination:i,viewport:a,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=O({},n,{displaced:Le});return{impact:c,didDropInsideDroppable:!0}},xs=function(e){var r=e.getState,t=e.dispatch;return function(n){return function(i){if(i.type!=="DROP"){n(i);return}var a=r(),o=i.payload.reason;if(a.phase==="COLLECTING"){t(us({reason:o}));return}if(a.phase!=="IDLE"){var s=a.phase==="DROP_PENDING"&&a.isWaiting;s&&I(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||I();var c=a.critical,u=a.dimensions,f=u.draggables[a.critical.draggable.id],d=bs({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),l=d.impact,v=d.didDropInsideDroppable,g=v?qr(l):null,h=v?or(l):null,m={index:c.draggable.index,droppableId:c.droppable.id},b={draggableId:f.descriptor.id,type:f.descriptor.type,source:m,reason:o,mode:a.movementMode,destination:g,combine:h},y=hs({impact:l,draggable:f,dimensions:u,viewport:a.viewport,afterCritical:a.afterCritical}),C={critical:a.critical,afterCritical:a.afterCritical,result:b,impact:l},S=!le(a.current.client.offset,y)||!!b.combine;if(!S){t(Qr({completed:C}));return}var D=ms({current:a.current.client.offset,destination:y,reason:o}),x={newHomeClientOffset:y,dropDuration:D,completed:C};t(ds(x))}}}},Wn=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function ys(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}function ws(e){var r=e.onWindowScroll;function t(){r(Wn())}var n=Me(t),i=ys(n),a=se;function o(){return a!==se}function s(){o()&&I(),a=ne(window,[i])}function c(){o()||I(),n.cancel(),a(),a=se}return{start:s,stop:c,isActive:o}}var Ds=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},Cs=function(e){var r=ws({onWindowScroll:function(n){e.dispatch(as({newScroll:n}))}});return function(t){return function(n){!r.isActive()&&n.type==="INITIAL_PUBLISH"&&r.start(),r.isActive()&&Ds(n)&&r.stop(),t(n)}}},Ss=function(e){var r=!1,t=!1,n=setTimeout(function(){t=!0}),i=function(o){r||t||(r=!0,e(o),clearTimeout(n))};return i.wasCalled=function(){return r},i},Is=function(){var e=[],r=function(a){var o=$r(e,function(u){return u.timerId===a});o===-1&&I();var s=e.splice(o,1),c=s[0];c.callback()},t=function(a){var o=setTimeout(function(){return r(o)}),s={timerId:o,callback:a};e.push(s)},n=function(){if(e.length){var a=[].concat(e);e.length=0,a.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:t,flush:n}},Ns=function(r,t){return r==null&&t==null?!0:r==null||t==null?!1:r.droppableId===t.droppableId&&r.index===t.index},Es=function(r,t){return r==null&&t==null?!0:r==null||t==null?!1:r.draggableId===t.draggableId&&r.droppableId===t.droppableId},Ps=function(r,t){if(r===t)return!0;var n=r.draggable.id===t.draggable.id&&r.draggable.droppableId===t.draggable.droppableId&&r.draggable.type===t.draggable.type&&r.draggable.index===t.draggable.index,i=r.droppable.id===t.droppable.id&&r.droppable.type===t.droppable.type;return n&&i},Pe=function(r,t){t()},$e=function(r,t){return{draggableId:r.draggable.id,type:r.droppable.type,source:{droppableId:r.droppable.id,index:r.draggable.index},mode:t}},Ir=function(r,t,n,i){if(!r){n(i(t));return}var a=Ss(n),o={announce:a};r(t,o),a.wasCalled()||n(i(t))},As=function(e,r){var t=Is(),n=null,i=function(l,v){n&&I(),Pe("onBeforeCapture",function(){var g=e().onBeforeCapture;if(g){var h={draggableId:l,mode:v};g(h)}})},a=function(l,v){n&&I(),Pe("onBeforeDragStart",function(){var g=e().onBeforeDragStart;g&&g($e(l,v))})},o=function(l,v){n&&I();var g=$e(l,v);n={mode:v,lastCritical:l,lastLocation:g.source,lastCombine:null},t.add(function(){Pe("onDragStart",function(){return Ir(e().onDragStart,g,r,Je.onDragStart)})})},s=function(l,v){var g=qr(v),h=or(v);n||I();var m=!Ps(l,n.lastCritical);m&&(n.lastCritical=l);var b=!Ns(n.lastLocation,g);b&&(n.lastLocation=g);var y=!Es(n.lastCombine,h);if(y&&(n.lastCombine=h),!(!m&&!b&&!y)){var C=O({},$e(l,n.mode),{combine:h,destination:g});t.add(function(){Pe("onDragUpdate",function(){return Ir(e().onDragUpdate,C,r,Je.onDragUpdate)})})}},c=function(){n||I(),t.flush()},u=function(l){n||I(),n=null,Pe("onDragEnd",function(){return Ir(e().onDragEnd,l,r,Je.onDragEnd)})},f=function(){if(n){var l=O({},$e(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(l)}};return{beforeCapture:i,beforeStart:a,start:o,update:s,flush:c,drop:u,abort:f}},Bs=function(e,r){var t=As(e,r);return function(n){return function(i){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){t.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var o=a.payload.critical;t.beforeStart(o,a.payload.movementMode),i(a),t.start(o,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var s=a.payload.completed.result;t.flush(),i(a),t.drop(s);return}if(i(a),a.type==="FLUSH"){t.abort();return}var c=n.getState();c.phase==="DRAGGING"&&t.update(c.critical,c.impact)}}}},js=function(e){return function(r){return function(t){if(t.type!=="DROP_ANIMATION_FINISHED"){r(t);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&I(),e.dispatch(Qr({completed:n.completed}))}}},Rs=function(e){var r=null,t=null;function n(){t&&(cancelAnimationFrame(t),t=null),r&&(r(),r=null)}return function(i){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&n(),i(a),a.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(Fn())}};t=requestAnimationFrame(function(){t=null,r=ne(window,[o])})}}}},Os=function(e){return function(){return function(r){return function(t){(t.type==="DROP_COMPLETE"||t.type==="FLUSH"||t.type==="DROP_ANIMATE")&&e.stopPublishing(),r(t)}}}},Ms=function(e){var r=!1;return function(){return function(t){return function(n){if(n.type==="INITIAL_PUBLISH"){r=!0,e.tryRecordFocus(n.payload.critical.draggable.id),t(n),e.tryRestoreFocusRecorded();return}if(t(n),!!r){if(n.type==="FLUSH"){r=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){r=!1;var i=n.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},ks=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},Ls=function(e){return function(r){return function(t){return function(n){if(ks(n)){e.stop(),t(n);return}if(n.type==="INITIAL_PUBLISH"){t(n);var i=r.getState();i.phase!=="DRAGGING"&&I(),e.start(i);return}t(n),e.scroll(r.getState())}}}},Ts=function(e){return function(r){return function(t){if(r(t),t.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Tn({reason:n.reason})))}}}},Fs=ua,Gs=function(e){var r=e.dimensionMarshal,t=e.focusMarshal,n=e.styleMarshal,i=e.getResponders,a=e.announce,o=e.autoScroller;return da(Ko,Fs(pa(fs(n),Os(r),ps(r),xs,js,Rs,Ts,Ls(o),Cs,Ms(t),Bs(i,a))))},Nr=function(){return{additions:{},removals:{},modified:{}}};function Ws(e){var r=e.registry,t=e.callbacks,n=Nr(),i=null,a=function(){i||(t.collectionStarting(),i=requestAnimationFrame(function(){i=null;var f=n,d=f.additions,l=f.removals,v=f.modified,g=Object.keys(d).map(function(b){return r.draggable.getById(b).getDimension(q)}).sort(function(b,y){return b.descriptor.index-y.descriptor.index}),h=Object.keys(v).map(function(b){var y=r.droppable.getById(b),C=y.callbacks.getScrollWhileDragging();return{droppableId:b,scroll:C}}),m={additions:g,removals:Object.keys(l),modified:h};n=Nr(),t.publish(m)}))},o=function(f){var d=f.descriptor.id;n.additions[d]=f,n.modified[f.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],a()},s=function(f){var d=f.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],a()},c=function(){i&&(cancelAnimationFrame(i),i=null,n=Nr())};return{add:o,remove:s,stop:c}}var Un=function(e){var r=e.scrollHeight,t=e.scrollWidth,n=e.height,i=e.width,a=_({x:t,y:r},{x:i,y:n}),o={x:Math.max(0,a.x),y:Math.max(0,a.y)};return o},Hn=function(){var e=document.documentElement;return e||I(),e},$n=function(){var e=Hn(),r=Un({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return r},Us=function(){var e=Wn(),r=$n(),t=e.y,n=e.x,i=Hn(),a=i.clientWidth,o=i.clientHeight,s=n+a,c=t+o,u=ie({top:t,left:n,right:s,bottom:c}),f={frame:u,scroll:{initial:e,current:e,max:r,diff:{value:q,displacement:q}}};return f},Hs=function(e){var r=e.critical,t=e.scrollOptions,n=e.registry,i=Us(),a=i.scroll.current,o=r.droppable,s=n.droppable.getAllByType(o.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(a,t)}),c=n.draggable.getAllByType(r.draggable.type).map(function(d){return d.getDimension(a)}),u={draggables:bn(c),droppables:hn(s)},f={dimensions:u,critical:r,viewport:i};return f};function kt(e,r,t){if(t.descriptor.id===r.id||t.descriptor.type!==r.type)return!1;var n=e.droppable.getById(t.descriptor.droppableId);return n.descriptor.mode==="virtual"}var $s=function(e,r){var t=null,n=Ws({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:e}),i=function(v,g){e.droppable.exists(v)||I(),t&&r.updateDroppableIsEnabled({id:v,isEnabled:g})},a=function(v,g){t&&(e.droppable.exists(v)||I(),r.updateDroppableIsCombineEnabled({id:v,isCombineEnabled:g}))},o=function(v,g){t&&(e.droppable.exists(v)||I(),r.updateDroppableScroll({id:v,newScroll:g}))},s=function(v,g){t&&e.droppable.getById(v).callbacks.scroll(g)},c=function(){if(t){n.stop();var v=t.critical.droppable;e.droppable.getAllByType(v.type).forEach(function(g){return g.callbacks.dragStopped()}),t.unsubscribe(),t=null}},u=function(v){t||I();var g=t.critical.draggable;v.type==="ADDITION"&&kt(e,g,v.value)&&n.add(v.value),v.type==="REMOVAL"&&kt(e,g,v.value)&&n.remove(v.value)},f=function(v){t&&I();var g=e.draggable.getById(v.draggableId),h=e.droppable.getById(g.descriptor.droppableId),m={draggable:g.descriptor,droppable:h.descriptor},b=e.subscribe(u);return t={critical:m,unsubscribe:b},Hs({critical:m,registry:e,scrollOptions:v.scrollOptions})},d={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:s,updateDroppableScroll:o,startPublishing:f,stopPublishing:c};return d},qn=function(e,r){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===r?!1:e.completed.result.reason==="DROP"},qs=function(e){window.scrollBy(e.x,e.y)},Vs=$(function(e){return ir(e).filter(function(r){return!(!r.isEnabled||!r.frame)})}),zs=function(r,t){var n=ue(Vs(t),function(i){return i.frame||I(),Pn(i.frame.pageMarginBox)(r)});return n},Ys=function(e){var r=e.center,t=e.destination,n=e.droppables;if(t){var i=n[t];return i.frame?i:null}var a=zs(r,n);return a},ce={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(r){return Math.pow(r,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Js=function(e,r){var t=e[r.size]*ce.startFromPercentage,n=e[r.size]*ce.maxScrollAtPercentage,i={startScrollingFrom:t,maxScrollValueAt:n};return i},Vn=function(e){var r=e.startOfRange,t=e.endOfRange,n=e.current,i=t-r;if(i===0)return 0;var a=n-r,o=a/i;return o},et=1,Ks=function(e,r){if(e>r.startScrollingFrom)return 0;if(e<=r.maxScrollValueAt)return ce.maxPixelScroll;if(e===r.startScrollingFrom)return et;var t=Vn({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:e}),n=1-t,i=ce.maxPixelScroll*ce.ease(n);return Math.ceil(i)},Lt=ce.durationDampening.accelerateAt,Tt=ce.durationDampening.stopDampeningAt,Xs=function(e,r){var t=r,n=Tt,i=Date.now(),a=i-t;if(a>=Tt)return e;if(a<Lt)return et;var o=Vn({startOfRange:Lt,endOfRange:n,current:a}),s=e*ce.ease(o);return Math.ceil(s)},Ft=function(e){var r=e.distanceToEdge,t=e.thresholds,n=e.dragStartTime,i=e.shouldUseTimeDampening,a=Ks(r,t);return a===0?0:i?Math.max(Xs(a,n),et):a},Gt=function(e){var r=e.container,t=e.distanceToEdges,n=e.dragStartTime,i=e.axis,a=e.shouldUseTimeDampening,o=Js(r,i),s=t[i.end]<t[i.start];return s?Ft({distanceToEdge:t[i.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:a}):-1*Ft({distanceToEdge:t[i.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:a})},Qs=function(e){var r=e.container,t=e.subject,n=e.proposedScroll,i=t.height>r.height,a=t.width>r.width;return!a&&!i?n:a&&i?null:{x:a?0:n.x,y:i?0:n.y}},Zs=gn(function(e){return e===0?0:e}),zn=function(e){var r=e.dragStartTime,t=e.container,n=e.subject,i=e.center,a=e.shouldUseTimeDampening,o={top:i.y-t.top,right:t.right-i.x,bottom:t.bottom-i.y,left:i.x-t.left},s=Gt({container:t,distanceToEdges:o,dragStartTime:r,axis:Vr,shouldUseTimeDampening:a}),c=Gt({container:t,distanceToEdges:o,dragStartTime:r,axis:wn,shouldUseTimeDampening:a}),u=Zs({x:c,y:s});if(le(u,q))return null;var f=Qs({container:t,subject:n,proposedScroll:u});return f?le(f,q)?null:f:null},_s=gn(function(e){return e===0?0:e>0?1:-1}),rt=function(){var e=function(t,n){return t<0?t:t>n?t-n:0};return function(r){var t=r.current,n=r.max,i=r.change,a=V(t,i),o={x:e(a.x,n.x),y:e(a.y,n.y)};return le(o,q)?null:o}}(),Yn=function(r){var t=r.max,n=r.current,i=r.change,a={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=_s(i),s=rt({max:a,current:n,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},tt=function(r,t){return Yn({current:r.scroll.current,max:r.scroll.max,change:t})},el=function(r,t){if(!tt(r,t))return null;var n=r.scroll.max,i=r.scroll.current;return rt({current:i,max:n,change:t})},nt=function(r,t){var n=r.frame;return n?Yn({current:n.scroll.current,max:n.scroll.max,change:t}):!1},rl=function(r,t){var n=r.frame;return!n||!nt(r,t)?null:rt({current:n.scroll.current,max:n.scroll.max,change:t})},tl=function(e){var r=e.viewport,t=e.subject,n=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,o=zn({dragStartTime:i,container:r.frame,subject:t,center:n,shouldUseTimeDampening:a});return o&&tt(r,o)?o:null},nl=function(e){var r=e.droppable,t=e.subject,n=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,o=r.frame;if(!o)return null;var s=zn({dragStartTime:i,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:a});return s&&nt(r,s)?s:null},Wt=function(e){var r=e.state,t=e.dragStartTime,n=e.shouldUseTimeDampening,i=e.scrollWindow,a=e.scrollDroppable,o=r.current.page.borderBoxCenter,s=r.dimensions.draggables[r.critical.draggable.id],c=s.page.marginBox;if(r.isWindowScrollAllowed){var u=r.viewport,f=tl({dragStartTime:t,viewport:u,subject:c,center:o,shouldUseTimeDampening:n});if(f){i(f);return}}var d=Ys({center:o,destination:ee(r.impact),droppables:r.dimensions.droppables});if(d){var l=nl({dragStartTime:t,droppable:d,subject:c,center:o,shouldUseTimeDampening:n});l&&a(d.descriptor.id,l)}},al=function(e){var r=e.scrollWindow,t=e.scrollDroppable,n=Me(r),i=Me(t),a=null,o=function(f){a||I();var d=a,l=d.shouldUseTimeDampening,v=d.dragStartTime;Wt({state:f,scrollWindow:n,scrollDroppable:i,dragStartTime:v,shouldUseTimeDampening:l})},s=function(f){a&&I();var d=Date.now(),l=!1,v=function(){l=!0};Wt({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:v,scrollDroppable:v}),a={dragStartTime:d,shouldUseTimeDampening:l},l&&o(f)},c=function(){a&&(n.cancel(),i.cancel(),a=null)};return{start:s,stop:c,scroll:o}},il=function(e){var r=e.move,t=e.scrollDroppable,n=e.scrollWindow,i=function(u,f){var d=V(u.current.client.selection,f);r({client:d})},a=function(u,f){if(!nt(u,f))return f;var d=rl(u,f);if(!d)return t(u.descriptor.id,f),null;var l=_(f,d);t(u.descriptor.id,l);var v=_(f,l);return v},o=function(u,f,d){if(!u||!tt(f,d))return d;var l=el(f,d);if(!l)return n(d),null;var v=_(d,l);n(v);var g=_(d,v);return g},s=function(u){var f=u.scrollJumpRequest;if(f){var d=ee(u.impact);d||I();var l=a(u.dimensions.droppables[d],f);if(l){var v=u.viewport,g=o(u.isWindowScrollAllowed,v,l);g&&i(u,g)}}};return s},ol=function(e){var r=e.scrollDroppable,t=e.scrollWindow,n=e.move,i=al({scrollWindow:t,scrollDroppable:r}),a=il({move:n,scrollWindow:t,scrollDroppable:r}),o=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},s={scroll:o,start:i.start,stop:i.stop};return s},we="data-rbd",De=function(){var e=we+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Tr=function(){var e=we+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),sl=function(){var e=we+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Ut={contextId:we+"-scroll-container-context-id"},ll=function(r){return function(t){return"["+t+'="'+r+'"]'}},Ae=function(r,t){return r.map(function(n){var i=n.styles[t];return i?n.selector+" { "+i+" }":""}).join(" ")},cl="pointer-events: none;",dl=function(e){var r=ll(e),t=function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(De.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:cl,dropAnimating:s}}}(),n=function(){var s=`
      transition: `+Oe.outOfTheWay+`;
    `;return{selector:r(Tr.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}}(),i={selector:r(sl.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,t,i,a];return{always:Ae(o,"always"),resting:Ae(o,"resting"),dragging:Ae(o,"dragging"),dropAnimating:Ae(o,"dropAnimating"),userCancel:Ae(o,"userCancel")}},re=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,Er=function(){var r=document.querySelector("head");return r||I(),r},Ht=function(r){var t=document.createElement("style");return r&&t.setAttribute("nonce",r),t.type="text/css",t};function ul(e,r){var t=T(function(){return dl(e)},[e]),n=w.useRef(null),i=w.useRef(null),a=j($(function(d){var l=i.current;l||I(),l.textContent=d}),[]),o=j(function(d){var l=n.current;l||I(),l.textContent=d},[]);re(function(){!n.current&&!i.current||I();var d=Ht(r),l=Ht(r);return n.current=d,i.current=l,d.setAttribute(we+"-always",e),l.setAttribute(we+"-dynamic",e),Er().appendChild(d),Er().appendChild(l),o(t.always),a(t.resting),function(){var v=function(h){var m=h.current;m||I(),Er().removeChild(m),h.current=null};v(n),v(i)}},[r,o,a,t.always,t.resting,e]);var s=j(function(){return a(t.dragging)},[a,t.dragging]),c=j(function(d){if(d==="DROP"){a(t.dropAnimating);return}a(t.userCancel)},[a,t.dropAnimating,t.userCancel]),u=j(function(){i.current&&a(t.resting)},[a,t.resting]),f=T(function(){return{dragging:s,dropping:c,resting:u}},[s,c,u]);return f}var Jn=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function cr(e){return e instanceof Jn(e).HTMLElement}function pl(e,r){var t="["+De.contextId+'="'+e+'"]',n=mn(document.querySelectorAll(t));if(!n.length)return null;var i=ue(n,function(a){return a.getAttribute(De.draggableId)===r});return!i||!cr(i)?null:i}function fl(e){var r=w.useRef({}),t=w.useRef(null),n=w.useRef(null),i=w.useRef(!1),a=j(function(l,v){var g={id:l,focus:v};return r.current[l]=g,function(){var m=r.current,b=m[l];b!==g&&delete m[l]}},[]),o=j(function(l){var v=pl(e,l);v&&v!==document.activeElement&&v.focus()},[e]),s=j(function(l,v){t.current===l&&(t.current=v)},[]),c=j(function(){n.current||i.current&&(n.current=requestAnimationFrame(function(){n.current=null;var l=t.current;l&&o(l)}))},[o]),u=j(function(l){t.current=null;var v=document.activeElement;v&&v.getAttribute(De.draggableId)===l&&(t.current=l)},[]);re(function(){return i.current=!0,function(){i.current=!1;var l=n.current;l&&cancelAnimationFrame(l)}},[]);var f=T(function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:s}},[a,u,c,s]);return f}function vl(){var e={draggables:{},droppables:{}},r=[];function t(d){return r.push(d),function(){var v=r.indexOf(d);v!==-1&&r.splice(v,1)}}function n(d){r.length&&r.forEach(function(l){return l(d)})}function i(d){return e.draggables[d]||null}function a(d){var l=i(d);return l||I(),l}var o={register:function(l){e.draggables[l.descriptor.id]=l,n({type:"ADDITION",value:l})},update:function(l,v){var g=e.draggables[v.descriptor.id];g&&g.uniqueId===l.uniqueId&&(delete e.draggables[v.descriptor.id],e.draggables[l.descriptor.id]=l)},unregister:function(l){var v=l.descriptor.id,g=i(v);g&&l.uniqueId===g.uniqueId&&(delete e.draggables[v],n({type:"REMOVAL",value:l}))},getById:a,findById:i,exists:function(l){return!!i(l)},getAllByType:function(l){return er(e.draggables).filter(function(v){return v.descriptor.type===l})}};function s(d){return e.droppables[d]||null}function c(d){var l=s(d);return l||I(),l}var u={register:function(l){e.droppables[l.descriptor.id]=l},unregister:function(l){var v=s(l.descriptor.id);v&&l.uniqueId===v.uniqueId&&delete e.droppables[l.descriptor.id]},getById:c,findById:s,exists:function(l){return!!s(l)},getAllByType:function(l){return er(e.droppables).filter(function(v){return v.descriptor.type===l})}};function f(){e.draggables={},e.droppables={},r.length=0}return{draggable:o,droppable:u,subscribe:t,clean:f}}function gl(){var e=T(vl,[]);return w.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var at=F.createContext(null),tr=function(){var e=document.body;return e||I(),e},ml={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},hl=function(r){return"rbd-announcement-"+r};function bl(e){var r=T(function(){return hl(e)},[e]),t=w.useRef(null);w.useEffect(function(){var a=document.createElement("div");return t.current=a,a.id=r,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),O(a.style,ml),tr().appendChild(a),function(){setTimeout(function(){var c=tr();c.contains(a)&&c.removeChild(a),a===t.current&&(t.current=null)})}},[r]);var n=j(function(i){var a=t.current;if(a){a.textContent=i;return}},[]);return n}var xl=0,yl={separator:"::"};function it(e,r){return r===void 0&&(r=yl),T(function(){return""+e+r.separator+xl++},[r.separator,e])}function wl(e){var r=e.contextId,t=e.uniqueId;return"rbd-hidden-text-"+r+"-"+t}function Dl(e){var r=e.contextId,t=e.text,n=it("hidden-text",{separator:"-"}),i=T(function(){return wl({contextId:r,uniqueId:n})},[n,r]);return w.useEffect(function(){var o=document.createElement("div");return o.id=i,o.textContent=t,o.style.display="none",tr().appendChild(o),function(){var c=tr();c.contains(o)&&c.removeChild(o)}},[i,t]),i}var dr=F.createContext(null);function Kn(e){var r=w.useRef(e);return w.useEffect(function(){r.current=e}),r}function Cl(){var e=null;function r(){return!!e}function t(o){return o===e}function n(o){e&&I();var s={abandon:o};return e=s,s}function i(){e||I(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:r,isActive:t,claim:n,release:i,tryAbandon:a}}var Sl=9,Il=13,ot=27,Xn=32,Nl=33,El=34,Pl=35,Al=36,Bl=37,jl=38,Rl=39,Ol=40,qe,Ml=(qe={},qe[Il]=!0,qe[Sl]=!0,qe),Qn=function(e){Ml[e.keyCode]&&e.preventDefault()},ur=function(){var e="visibilitychange";if(typeof document>"u")return e;var r=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],t=ue(r,function(n){return"on"+n in document});return t||e}(),Zn=0,$t=5;function kl(e,r){return Math.abs(r.x-e.x)>=$t||Math.abs(r.y-e.y)>=$t}var qt={type:"IDLE"};function Ll(e){var r=e.cancel,t=e.completed,n=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(o){var s=o.button,c=o.clientX,u=o.clientY;if(s===Zn){var f={x:c,y:u},d=n();if(d.type==="DRAGGING"){o.preventDefault(),d.actions.move(f);return}d.type!=="PENDING"&&I();var l=d.point;if(kl(l,f)){o.preventDefault();var v=d.actions.fluidLift(f);i({type:"DRAGGING",actions:v})}}}},{eventName:"mouseup",fn:function(o){var s=n();if(s.type!=="DRAGGING"){r();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),r()}},{eventName:"keydown",fn:function(o){var s=n();if(s.type==="PENDING"){r();return}if(o.keyCode===ot){o.preventDefault(),r();return}Qn(o)}},{eventName:"resize",fn:r},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&r()}},{eventName:"webkitmouseforcedown",fn:function(o){var s=n();if(s.type==="IDLE"&&I(),s.actions.shouldRespectForcePress()){r();return}o.preventDefault()}},{eventName:ur,fn:r}]}function Tl(e){var r=w.useRef(qt),t=w.useRef(se),n=T(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===Zn&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var l=e.findClosestDraggableId(d);if(l){var v=e.tryGetLock(l,o,{sourceEvent:d});if(v){d.preventDefault();var g={x:d.clientX,y:d.clientY};t.current(),u(v,g)}}}}}},[e]),i=T(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var l=e.findClosestDraggableId(d);if(l){var v=e.findOptionsForDraggable(l);v&&(v.shouldRespectForcePress||e.canGetLock(l)&&d.preventDefault())}}}}},[e]),a=j(function(){var d={passive:!1,capture:!0};t.current=ne(window,[i,n],d)},[i,n]),o=j(function(){var f=r.current;f.type!=="IDLE"&&(r.current=qt,t.current(),a())},[a]),s=j(function(){var f=r.current;o(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[o]),c=j(function(){var d={capture:!0,passive:!1},l=Ll({cancel:s,completed:o,getPhase:function(){return r.current},setPhase:function(g){r.current=g}});t.current=ne(window,l,d)},[s,o]),u=j(function(d,l){r.current.type!=="IDLE"&&I(),r.current={type:"PENDING",point:l,actions:d},c()},[c]);re(function(){return a(),function(){t.current()}},[a])}var xe;function Fl(){}var Gl=(xe={},xe[El]=!0,xe[Nl]=!0,xe[Al]=!0,xe[Pl]=!0,xe);function Wl(e,r){function t(){r(),e.cancel()}function n(){r(),e.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===ot){a.preventDefault(),t();return}if(a.keyCode===Xn){a.preventDefault(),n();return}if(a.keyCode===Ol){a.preventDefault(),e.moveDown();return}if(a.keyCode===jl){a.preventDefault(),e.moveUp();return}if(a.keyCode===Rl){a.preventDefault(),e.moveRight();return}if(a.keyCode===Bl){a.preventDefault(),e.moveLeft();return}if(Gl[a.keyCode]){a.preventDefault();return}Qn(a)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:ur,fn:t}]}function Ul(e){var r=w.useRef(Fl),t=T(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==Xn)return;var o=e.findClosestDraggableId(a);if(!o)return;var s=e.tryGetLock(o,f,{sourceEvent:a});if(!s)return;a.preventDefault();var c=!0,u=s.snapLift();r.current();function f(){c||I(),c=!1,r.current(),n()}r.current=ne(window,Wl(u,f),{capture:!0,passive:!1})}}},[e]),n=j(function(){var a={passive:!1,capture:!0};r.current=ne(window,[t],a)},[t]);re(function(){return n(),function(){r.current()}},[n])}var Pr={type:"IDLE"},Hl=120,$l=.15;function ql(e){var r=e.cancel,t=e.getPhase;return[{eventName:"orientationchange",fn:r},{eventName:"resize",fn:r},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(t().type!=="DRAGGING"){r();return}i.keyCode===ot&&i.preventDefault(),r()}},{eventName:ur,fn:r}]}function Vl(e){var r=e.cancel,t=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var o=n();if(o.type!=="DRAGGING"){r();return}o.hasMoved=!0;var s=a.touches[0],c=s.clientX,u=s.clientY,f={x:c,y:u};a.preventDefault(),o.actions.move(f)}},{eventName:"touchend",fn:function(a){var o=n();if(o.type!=="DRAGGING"){r();return}a.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:function(a){if(n().type!=="DRAGGING"){r();return}a.preventDefault(),r()}},{eventName:"touchforcechange",fn:function(a){var o=n();o.type==="IDLE"&&I();var s=a.touches[0];if(s){var c=s.force>=$l;if(c){var u=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){u&&r();return}if(u){if(o.hasMoved){a.preventDefault();return}r();return}a.preventDefault()}}}},{eventName:ur,fn:r}]}function zl(e){var r=w.useRef(Pr),t=w.useRef(se),n=j(function(){return r.current},[]),i=j(function(v){r.current=v},[]),a=T(function(){return{eventName:"touchstart",fn:function(v){if(!v.defaultPrevented){var g=e.findClosestDraggableId(v);if(g){var h=e.tryGetLock(g,s,{sourceEvent:v});if(h){var m=v.touches[0],b=m.clientX,y=m.clientY,C={x:b,y};t.current(),d(h,C)}}}}}},[e]),o=j(function(){var v={capture:!0,passive:!1};t.current=ne(window,[a],v)},[a]),s=j(function(){var l=r.current;l.type!=="IDLE"&&(l.type==="PENDING"&&clearTimeout(l.longPressTimerId),i(Pr),t.current(),o())},[o,i]),c=j(function(){var l=r.current;s(),l.type==="DRAGGING"&&l.actions.cancel({shouldBlockNextClick:!0}),l.type==="PENDING"&&l.actions.abort()},[s]),u=j(function(){var v={capture:!0,passive:!1},g={cancel:c,completed:s,getPhase:n},h=ne(window,Vl(g),v),m=ne(window,ql(g),v);t.current=function(){h(),m()}},[c,n,s]),f=j(function(){var v=n();v.type!=="PENDING"&&I();var g=v.actions.fluidLift(v.point);i({type:"DRAGGING",actions:g,hasMoved:!1})},[n,i]),d=j(function(v,g){n().type!=="IDLE"&&I();var h=setTimeout(f,Hl);i({type:"PENDING",point:g,actions:v,longPressTimerId:h}),u()},[u,n,i,f]);re(function(){return o(),function(){t.current();var g=n();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),i(Pr))}},[n,o,i]),re(function(){var v=ne(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return v},[])}var Yl={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function _n(e,r){if(r==null)return!1;var t=!!Yl[r.tagName.toLowerCase()];if(t)return!0;var n=r.getAttribute("contenteditable");return n==="true"||n===""?!0:r===e?!1:_n(e,r.parentElement)}function Jl(e,r){var t=r.target;return cr(t)?_n(e,t):!1}var Kl=function(e){return ie(e.getBoundingClientRect()).center};function Xl(e){return e instanceof Jn(e).Element}var Ql=function(){var e="matches";if(typeof document>"u")return e;var r=[e,"msMatchesSelector","webkitMatchesSelector"],t=ue(r,function(n){return n in Element.prototype});return t||e}();function ea(e,r){return e==null?null:e[Ql](r)?e:ea(e.parentElement,r)}function Zl(e,r){return e.closest?e.closest(r):ea(e,r)}function _l(e){return"["+De.contextId+'="'+e+'"]'}function ec(e,r){var t=r.target;if(!Xl(t))return null;var n=_l(e),i=Zl(t,n);return!i||!cr(i)?null:i}function rc(e,r){var t=ec(e,r);return t?t.getAttribute(De.draggableId):null}function tc(e,r){var t="["+Tr.contextId+'="'+e+'"]',n=mn(document.querySelectorAll(t)),i=ue(n,function(a){return a.getAttribute(Tr.id)===r});return!i||!cr(i)?null:i}function nc(e){e.preventDefault()}function Ve(e){var r=e.expected,t=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||r!==t)}function ra(e){var r=e.lockAPI,t=e.store,n=e.registry,i=e.draggableId;if(r.isClaimed())return!1;var a=n.draggable.findById(i);return!(!a||!a.options.isEnabled||!qn(t.getState(),i))}function ac(e){var r=e.lockAPI,t=e.contextId,n=e.store,i=e.registry,a=e.draggableId,o=e.forceSensorStop,s=e.sourceEvent,c=ra({lockAPI:r,store:n,registry:i,draggableId:a});if(!c)return null;var u=i.draggable.getById(a),f=tc(t,u.descriptor.id);if(!f||s&&!u.options.canDragInteractiveElements&&Jl(f,s))return null;var d=r.claim(o||se),l="PRE_DRAG";function v(){return u.options.shouldRespectForcePress}function g(){return r.isActive(d)}function h(x,E){Ve({expected:x,phase:l,isLockActive:g,shouldWarn:!0})&&n.dispatch(E())}var m=h.bind(null,"DRAGGING");function b(x){function E(){r.release(),l="COMPLETED"}l!=="PRE_DRAG"&&(E(),l!=="PRE_DRAG"&&I()),n.dispatch(Qo(x.liftActionArgs)),l="DRAGGING";function A(R,k){if(k===void 0&&(k={shouldBlockNextClick:!1}),x.cleanup(),k.shouldBlockNextClick){var L=ne(window,[{eventName:"click",fn:nc,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(L)}E(),n.dispatch(Tn({reason:R}))}return O({isActive:function(){return Ve({expected:"DRAGGING",phase:l,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:v,drop:function(k){return A("DROP",k)},cancel:function(k){return A("CANCEL",k)}},x.actions)}function y(x){var E=Me(function(R){m(function(){return Ln({client:R})})}),A=b({liftActionArgs:{id:a,clientSelection:x,movementMode:"FLUID"},cleanup:function(){return E.cancel()},actions:{move:E}});return O({},A,{move:E})}function C(){var x={moveUp:function(){return m(os)},moveRight:function(){return m(ls)},moveDown:function(){return m(ss)},moveLeft:function(){return m(cs)}};return b({liftActionArgs:{id:a,clientSelection:Kl(f),movementMode:"SNAP"},cleanup:se,actions:x})}function S(){var x=Ve({expected:"PRE_DRAG",phase:l,isLockActive:g,shouldWarn:!0});x&&r.release()}var D={isActive:function(){return Ve({expected:"PRE_DRAG",phase:l,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:v,fluidLift:y,snapLift:C,abort:S};return D}var ic=[Tl,Ul,zl];function oc(e){var r=e.contextId,t=e.store,n=e.registry,i=e.customSensors,a=e.enableDefaultSensors,o=[].concat(a?ic:[],i||[]),s=w.useState(function(){return Cl()})[0],c=j(function(y,C){y.isDragging&&!C.isDragging&&s.tryAbandon()},[s]);re(function(){var y=t.getState(),C=t.subscribe(function(){var S=t.getState();c(y,S),y=S});return C},[s,t,c]),re(function(){return s.tryAbandon},[s.tryAbandon]);for(var u=j(function(b){return ra({lockAPI:s,registry:n,store:t,draggableId:b})},[s,n,t]),f=j(function(b,y,C){return ac({lockAPI:s,registry:n,contextId:r,store:t,draggableId:b,forceSensorStop:y,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null})},[r,s,n,t]),d=j(function(b){return rc(r,b)},[r]),l=j(function(b){var y=n.draggable.findById(b);return y?y.options:null},[n.draggable]),v=j(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Xr()))},[s,t]),g=j(s.isClaimed,[s]),h=T(function(){return{canGetLock:u,tryGetLock:f,findClosestDraggableId:d,findOptionsForDraggable:l,tryReleaseLock:v,isLockClaimed:g}},[u,f,d,l,v,g]),m=0;m<o.length;m++)o[m](h)}var sc=function(r){return{onBeforeCapture:r.onBeforeCapture,onBeforeDragStart:r.onBeforeDragStart,onDragStart:r.onDragStart,onDragEnd:r.onDragEnd,onDragUpdate:r.onDragUpdate}};function Be(e){return e.current||I(),e.current}function lc(e){var r=e.contextId,t=e.setCallbacks,n=e.sensors,i=e.nonce,a=e.dragHandleUsageInstructions,o=w.useRef(null),s=Kn(e),c=j(function(){return sc(s.current)},[s]),u=bl(r),f=Dl({contextId:r,text:a}),d=ul(r,i),l=j(function(R){Be(o).dispatch(R)},[]),v=T(function(){return ut({publishWhileDragging:_o,updateDroppableScroll:rs,updateDroppableIsEnabled:ts,updateDroppableIsCombineEnabled:ns,collectionStarting:es},l)},[l]),g=gl(),h=T(function(){return $s(g,v)},[g,v]),m=T(function(){return ol(O({scrollWindow:qs,scrollDroppable:h.scrollDroppable},ut({move:Ln},l)))},[h.scrollDroppable,l]),b=fl(r),y=T(function(){return Gs({announce:u,autoScroller:m,dimensionMarshal:h,focusMarshal:b,getResponders:c,styleMarshal:d})},[u,m,h,b,c,d]);o.current=y;var C=j(function(){var R=Be(o),k=R.getState();k.phase!=="IDLE"&&R.dispatch(Xr())},[]),S=j(function(){var R=Be(o).getState();return R.isDragging||R.phase==="DROP_ANIMATING"},[]),D=T(function(){return{isDragging:S,tryAbort:C}},[S,C]);t(D);var x=j(function(R){return qn(Be(o).getState(),R)},[]),E=j(function(){return ge(Be(o).getState())},[]),A=T(function(){return{marshal:h,focus:b,contextId:r,canLift:x,isMovementAllowed:E,dragHandleUsageInstructionsId:f,registry:g}},[r,h,f,b,x,E,g]);return oc({contextId:r,store:y,registry:g,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(function(){return C},[C]),F.createElement(dr.Provider,{value:A},F.createElement(Qa,{context:at,store:y},e.children))}var cc=0;function dc(){return T(function(){return""+cc++},[])}function uc(e){var r=dc(),t=e.dragHandleUsageInstructions||Je.dragHandleUsageInstructions;return F.createElement(Wi,null,function(n){return F.createElement(lc,{nonce:e.nonce,contextId:r,setCallbacks:n,dragHandleUsageInstructions:t,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var ta=function(r){return function(t){return r===t}},pc=ta("scroll"),fc=ta("auto"),Vt=function(r,t){return t(r.overflowX)||t(r.overflowY)},vc=function(r){var t=window.getComputedStyle(r),n={overflowX:t.overflowX,overflowY:t.overflowY};return Vt(n,pc)||Vt(n,fc)},gc=function(){return!1},mc=function e(r){return r==null?null:r===document.body?gc()?r:null:r===document.documentElement?null:vc(r)?r:e(r.parentElement)},Fr=function(e){return{x:e.scrollLeft,y:e.scrollTop}},hc=function e(r){if(!r)return!1;var t=window.getComputedStyle(r);return t.position==="fixed"?!0:e(r.parentElement)},bc=function(e){var r=mc(e),t=hc(e);return{closestScrollable:r,isFixedOnPage:t}},xc=function(e){var r=e.descriptor,t=e.isEnabled,n=e.isCombineEnabled,i=e.isFixedOnPage,a=e.direction,o=e.client,s=e.page,c=e.closest,u=function(){if(!c)return null;var v=c.scrollSize,g=c.client,h=Un({scrollHeight:v.scrollHeight,scrollWidth:v.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:g,scrollSize:v,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:h,diff:{value:q,displacement:q}}}}(),f=a==="vertical"?Vr:wn,d=ye({page:s,withPlaceholder:null,axis:f,frame:u}),l={descriptor:r,isCombineEnabled:n,isFixedOnPage:i,axis:f,isEnabled:t,client:o,page:s,frame:u,subject:d};return l},yc=function(r,t){var n=un(r);if(!t||r!==t)return n;var i=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,o=i+t.scrollHeight,s=a+t.scrollWidth,c={top:i,right:s,bottom:o,left:a},u=Wr(c,n.border),f=Ur({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return f},wc=function(e){var r=e.ref,t=e.descriptor,n=e.env,i=e.windowScroll,a=e.direction,o=e.isDropDisabled,s=e.isCombineEnabled,c=e.shouldClipSubject,u=n.closestScrollable,f=yc(r,u),d=Qe(f,i),l=function(){if(!u)return null;var g=un(u),h={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:g,page:Qe(g,i),scroll:Fr(u),scrollSize:h,shouldClipSubject:c}}(),v=xc({descriptor:t,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:a,client:f,page:d,closest:l});return v},Dc={passive:!1},Cc={passive:!0},zt=function(e){return e.shouldPublishImmediately?Dc:Cc};function nr(e){var r=w.useContext(e);return r||I(),r}var ze=function(r){return r&&r.env.closestScrollable||null};function Sc(e){var r=w.useRef(null),t=nr(dr),n=it("droppable"),i=t.registry,a=t.marshal,o=Kn(e),s=T(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=w.useRef(s),u=T(function(){return $(function(S,D){r.current||I();var x={x:S,y:D};a.updateDroppableScroll(s.id,x)})},[s.id,a]),f=j(function(){var S=r.current;return!S||!S.env.closestScrollable?q:Fr(S.env.closestScrollable)},[]),d=j(function(){var S=f();u(S.x,S.y)},[f,u]),l=T(function(){return Me(d)},[d]),v=j(function(){var S=r.current,D=ze(S);S&&D||I();var x=S.scrollOptions;if(x.shouldPublishImmediately){d();return}l()},[l,d]),g=j(function(S,D){r.current&&I();var x=o.current,E=x.getDroppableRef();E||I();var A=bc(E),R={ref:E,descriptor:s,env:A,scrollOptions:D};r.current=R;var k=wc({ref:E,descriptor:s,env:A,windowScroll:S,direction:x.direction,isDropDisabled:x.isDropDisabled,isCombineEnabled:x.isCombineEnabled,shouldClipSubject:!x.ignoreContainerClipping}),L=A.closestScrollable;return L&&(L.setAttribute(Ut.contextId,t.contextId),L.addEventListener("scroll",v,zt(R.scrollOptions))),k},[t.contextId,s,v,o]),h=j(function(){var S=r.current,D=ze(S);return S&&D||I(),Fr(D)},[]),m=j(function(){var S=r.current;S||I();var D=ze(S);r.current=null,D&&(l.cancel(),D.removeAttribute(Ut.contextId),D.removeEventListener("scroll",v,zt(S.scrollOptions)))},[v,l]),b=j(function(S){var D=r.current;D||I();var x=ze(D);x||I(),x.scrollTop+=S.y,x.scrollLeft+=S.x},[]),y=T(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:h,dragStopped:m,scroll:b}},[m,g,h,b]),C=T(function(){return{uniqueId:n,descriptor:s,callbacks:y}},[y,s,n]);re(function(){return c.current=C.descriptor,i.droppable.register(C),function(){r.current&&m(),i.droppable.unregister(C)}},[y,s,m,C,a,i.droppable]),re(function(){r.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),re(function(){r.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Ar(){}var Yt={width:0,height:0,margin:zi},Ic=function(r){var t=r.isAnimatingOpenOnMount,n=r.placeholder,i=r.animate;return t||i==="close"?Yt:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},Nc=function(r){var t=r.isAnimatingOpenOnMount,n=r.placeholder,i=r.animate,a=Ic({isAnimatingOpenOnMount:t,placeholder:n,animate:i});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Oe.placeholder:null}};function Ec(e){var r=w.useRef(null),t=j(function(){r.current&&(clearTimeout(r.current),r.current=null)},[]),n=e.animate,i=e.onTransitionEnd,a=e.onClose,o=e.contextId,s=w.useState(e.animate==="open"),c=s[0],u=s[1];w.useEffect(function(){return c?n!=="open"?(t(),u(!1),Ar):r.current?Ar:(r.current=setTimeout(function(){r.current=null,u(!1)}),t):Ar},[n,c,t]);var f=j(function(l){l.propertyName==="height"&&(i(),n==="close"&&a())},[n,a,i]),d=Nc({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return F.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":o,onTransitionEnd:f,ref:e.innerRef})}var Pc=F.memo(Ec),st=F.createContext(null),Ac=function(e){rn(r,e);function r(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}r.getDerivedStateFromProps=function(i,a){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var t=r.prototype;return t.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},r}(F.PureComponent),Jt={dragging:5e3,dropAnimating:4500},Bc=function(r,t){return t?Oe.drop(t.duration):r?Oe.snap:Oe.fluid},jc=function(r,t){return r?t?Fe.opacity.drop:Fe.opacity.combining:null},Rc=function(r){return r.forceShouldAnimate!=null?r.forceShouldAnimate:r.mode==="SNAP"};function Oc(e){var r=e.dimension,t=r.client,n=e.offset,i=e.combineWith,a=e.dropping,o=!!i,s=Rc(e),c=!!a,u=c?kr.drop(n,o):kr.moveTo(n),f={position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:Bc(s,a),transform:u,opacity:jc(o,c),zIndex:c?Jt.dropAnimating:Jt.dragging,pointerEvents:"none"};return f}function Mc(e){return{transform:kr.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function kc(e){return e.type==="DRAGGING"?Oc(e):Mc(e)}function Lc(e,r,t){t===void 0&&(t=q);var n=window.getComputedStyle(r),i=r.getBoundingClientRect(),a=dn(i,n),o=Qe(a,t),s={client:a,tagName:r.tagName.toLowerCase(),display:n.display},c={x:a.marginBox.width,y:a.marginBox.height},u={descriptor:e,placeholder:s,displaceBy:c,client:a,page:o};return u}function Tc(e){var r=it("draggable"),t=e.descriptor,n=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,o=e.shouldRespectForcePress,s=e.isEnabled,c=T(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:s}},[a,s,o]),u=j(function(v){var g=i();return g||I(),Lc(t,g,v)},[t,i]),f=T(function(){return{uniqueId:r,descriptor:t,options:c,getDimension:u}},[t,u,c,r]),d=w.useRef(f),l=w.useRef(!0);re(function(){return n.draggable.register(d.current),function(){return n.draggable.unregister(d.current)}},[n.draggable]),re(function(){if(l.current){l.current=!1;return}var v=d.current;d.current=f,n.draggable.update(f,v)},[f,n.draggable])}function Fc(e){e.preventDefault()}function Gc(e){var r=w.useRef(null),t=j(function(R){r.current=R},[]),n=j(function(){return r.current},[]),i=nr(dr),a=i.contextId,o=i.dragHandleUsageInstructionsId,s=i.registry,c=nr(st),u=c.type,f=c.droppableId,d=T(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:f}},[e.draggableId,e.index,u,f]),l=e.children,v=e.draggableId,g=e.isEnabled,h=e.shouldRespectForcePress,m=e.canDragInteractiveElements,b=e.isClone,y=e.mapped,C=e.dropAnimationFinished;if(!b){var S=T(function(){return{descriptor:d,registry:s,getDraggableRef:n,canDragInteractiveElements:m,shouldRespectForcePress:h,isEnabled:g}},[d,s,n,m,h,g]);Tc(S)}var D=T(function(){return g?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":v,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:Fc}:null},[a,o,v,g]),x=j(function(R){y.type==="DRAGGING"&&y.dropping&&R.propertyName==="transform"&&C()},[C,y]),E=T(function(){var R=kc(y),k=y.type==="DRAGGING"&&y.dropping?x:null,L={innerRef:t,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":v,style:R,onTransitionEnd:k},dragHandleProps:D};return L},[a,D,v,y,x,t]),A=T(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return l(E,y.snapshot,A)}var na=function(e,r){return e===r},aa=function(e){var r=e.combine,t=e.destination;return t?t.droppableId:r?r.droppableId:null},Wc=function(r){return r.combine?r.combine.draggableId:null},Uc=function(r){return r.at&&r.at.type==="COMBINE"?r.at.combine.draggableId:null};function Hc(){var e=$(function(i,a){return{x:i,y:a}}),r=$(function(i,a,o,s,c){return{isDragging:!0,isClone:a,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:o,combineWith:s,combineTargetFor:null}}),t=$(function(i,a,o,s,c,u,f){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:a,offset:i,dimension:o,forceShouldAnimate:f,snapshot:r(a,s,c,u,null)}}}),n=function(a,o){if(a.isDragging){if(a.critical.draggable.id!==o.draggableId)return null;var s=a.current.client.offset,c=a.dimensions.draggables[o.draggableId],u=ee(a.impact),f=Uc(a.impact),d=a.forceShouldAnimate;return t(e(s.x,s.y),a.movementMode,c,o.isClone,u,f,d)}if(a.phase==="DROP_ANIMATING"){var l=a.completed;if(l.result.draggableId!==o.draggableId)return null;var v=o.isClone,g=a.dimensions.draggables[o.draggableId],h=l.result,m=h.mode,b=aa(h),y=Wc(h),C=a.dropDuration,S={duration:C,curve:Zr.drop,moveTo:a.newHomeClientOffset,opacity:y?Fe.opacity.drop:null,scale:y?Fe.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:g,dropping:S,draggingOver:b,combineWith:y,mode:m,forceShouldAnimate:null,snapshot:r(m,v,b,y,S)}}}return null};return n}function ia(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var $c={mapped:{type:"SECONDARY",offset:q,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ia(null)}};function qc(){var e=$(function(o,s){return{x:o,y:s}}),r=$(ia),t=$(function(o,s,c){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:s,shouldAnimateDisplacement:c,snapshot:r(s)}}}),n=function(s){return s?t(q,s,!0):null},i=function(s,c,u,f){var d=u.displaced.visible[s],l=!!(f.inVirtualList&&f.effected[s]),v=or(u),g=v&&v.draggableId===s?c:null;if(!d){if(!l)return n(g);if(u.displaced.invisible[s])return null;var h=Ce(f.displacedBy.point),m=e(h.x,h.y);return t(m,g,!0)}if(l)return n(g);var b=u.displacedBy.point,y=e(b.x,b.y);return t(y,g,d.shouldAnimate)},a=function(s,c){if(s.isDragging)return s.critical.draggable.id===c.draggableId?null:i(c.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var u=s.completed;return u.result.draggableId===c.draggableId?null:i(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return a}var Vc=function(){var r=Hc(),t=qc(),n=function(a,o){return r(a,o)||t(a,o)||$c};return n},zc={dropAnimationFinished:Fn},Yc=ln(Vc,zc,null,{context:at,pure:!0,areStatePropsEqual:na})(Gc);function oa(e){var r=nr(st),t=r.isUsingCloneFor;return t===e.draggableId&&!e.isClone?null:F.createElement(Yc,e)}function Jc(e){var r=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,t=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return F.createElement(oa,O({},e,{isClone:!1,isEnabled:r,canDragInteractiveElements:t,shouldRespectForcePress:n}))}function Kc(e){var r=w.useContext(dr);r||I();var t=r.contextId,n=r.isMovementAllowed,i=w.useRef(null),a=w.useRef(null),o=e.children,s=e.droppableId,c=e.type,u=e.mode,f=e.direction,d=e.ignoreContainerClipping,l=e.isDropDisabled,v=e.isCombineEnabled,g=e.snapshot,h=e.useClone,m=e.updateViewportMaxScroll,b=e.getContainerForClone,y=j(function(){return i.current},[]),C=j(function(L){i.current=L},[]);j(function(){return a.current},[]);var S=j(function(L){a.current=L},[]),D=j(function(){n()&&m({maxScroll:$n()})},[n,m]);Sc({droppableId:s,type:c,mode:u,direction:f,isDropDisabled:l,isCombineEnabled:v,ignoreContainerClipping:d,getDroppableRef:y});var x=F.createElement(Ac,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(L){var z=L.onClose,P=L.data,W=L.animate;return F.createElement(Pc,{placeholder:P,onClose:z,innerRef:S,animate:W,contextId:t,onTransitionEnd:D})}),E=T(function(){return{innerRef:C,placeholder:x,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":t}}},[t,s,x,C]),A=h?h.dragging.draggableId:null,R=T(function(){return{droppableId:s,type:c,isUsingCloneFor:A}},[s,A,c]);function k(){if(!h)return null;var L=h.dragging,z=h.render,P=F.createElement(oa,{draggableId:L.draggableId,index:L.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(W,N){return z(W,N,L)});return ga.createPortal(P,b())}return F.createElement(st.Provider,{value:R},o(E,g),k())}var Br=function(r,t){return r===t.droppable.type},Kt=function(r,t){return t.draggables[r.draggable.id]},Xc=function(){var r={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=O({},r,{shouldAnimatePlaceholder:!1}),n=$(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),i=$(function(o,s,c,u,f,d){var l=f.descriptor.id,v=f.descriptor.droppableId===o;if(v){var g=d?{render:d,dragging:n(f.descriptor)}:null,h={isDraggingOver:c,draggingOverWith:c?l:null,draggingFromThisWith:l,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:h,useClone:g}}if(!s)return t;if(!u)return r;var m={isDraggingOver:c,draggingOverWith:l,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}}),a=function(s,c){var u=c.droppableId,f=c.type,d=!c.isDropDisabled,l=c.renderClone;if(s.isDragging){var v=s.critical;if(!Br(f,v))return t;var g=Kt(v,s.dimensions),h=ee(s.impact)===u;return i(u,d,h,h,g,l)}if(s.phase==="DROP_ANIMATING"){var m=s.completed;if(!Br(f,m.critical))return t;var b=Kt(m.critical,s.dimensions);return i(u,d,aa(m.result)===u,ee(m.impact)===u,b,l)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var y=s.completed;if(!Br(f,y.critical))return t;var C=ee(y.impact)===u,S=!!(y.impact.at&&y.impact.at.type==="COMBINE"),D=y.critical.droppable.id===u;return C?S?r:t:D?r:t}return t};return a},Qc={updateViewportMaxScroll:is};function Zc(){return document.body||I(),document.body}var _c={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Zc},sa=ln(Xc,Qc,null,{context:at,pure:!0,areStatePropsEqual:na})(Kc);sa.defaultProps=_c;const ed=({exerciseId:e})=>{const{getSupersetByExercise:r,breakSuperset:t,renameSuperset:n}=ar(),[i,a]=w.useState(!1),[o,s]=w.useState(!1),[c,u]=w.useState(""),f=w.useRef(null),d=r(e),l=!!d;w.useEffect(()=>{o&&d&&(u(d.name||"Superset"),setTimeout(()=>{var m;(m=f.current)==null||m.focus()},50))},[o,d]);const v=()=>{d&&(t(d.id),a(!1))},g=()=>{d&&c.trim()&&(n(d.id,c.trim()),s(!1),a(!1))},h=m=>{m.stopPropagation(),s(!0)};return w.useEffect(()=>{const m=b=>{var y;if(i){if(o&&((y=f.current)!=null&&y.contains(b.target)))return;a(!1),s(!1)}};return i&&setTimeout(()=>{document.addEventListener("click",m)},0),()=>{document.removeEventListener("click",m)}},[i,o]),l?p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:m=>{m.stopPropagation(),a(!i)},className:"flex items-center gap-1 px-2 py-1 text-xs text-[#2196F3] bg-[#2196F3]/10 rounded-full hover:bg-[#2196F3]/20 transition-colors","aria-label":"Superset Actions",children:[p.jsx("span",{children:(d==null?void 0:d.name)||"Superset"}),p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&p.jsx("div",{className:"absolute z-20 mt-1 right-0 bg-[#1a1a1a] border border-white/10 rounded-lg shadow-xl p-2 min-w-[180px]",children:o?p.jsxs("div",{className:"p-2",children:[p.jsx("input",{ref:f,type:"text",value:c,onChange:m=>u(m.target.value),className:"w-full px-2 py-1 bg-[#2a2a2a] text-white rounded border border-[#8B5CF6] focus:outline-none",placeholder:"Superset name",maxLength:30,onKeyDown:m=>{m.key==="Enter"?g():m.key==="Escape"&&s(!1)}}),p.jsxs("div",{className:"flex justify-end mt-2 gap-2",children:[p.jsx("button",{onClick:m=>{m.stopPropagation(),s(!1)},className:"text-xs text-gray-400 hover:text-white px-2 py-1 rounded transition-colors",children:"Cancel"}),p.jsx("button",{onClick:m=>{m.stopPropagation(),g()},className:"text-xs bg-[#8B5CF6] text-white px-2 py-1 rounded hover:bg-[#7C3AED] transition-colors",children:"Save"})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:m=>{m.stopPropagation(),v()},className:"flex w-full items-center gap-2 px-3 py-2 text-white hover:bg-white/10 rounded transition-colors text-left",children:[p.jsx("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Break Superset"]}),p.jsxs("button",{onClick:h,className:"flex w-full items-center gap-2 px-3 py-2 text-white hover:bg-white/10 rounded transition-colors text-left",children:[p.jsx("svg",{className:"w-4 h-4 text-[#8B5CF6]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Rename"]})]})})]}):null},rd=({exercises:e,onEditExercise:r,onDeleteExercise:t,onReorderExercises:n})=>{const{state:i,updateExerciseOrder:a}=ar(),o=c=>{if(!c.destination)return;const u=Array.from(e),[f]=u.splice(c.source.index,1);u.splice(c.destination.index,0,f),n(u);const d=u.map(l=>l.id||"").filter(l=>l!=="");a(d)};w.useEffect(()=>{const c=e.map(u=>u.id||"").filter(u=>u!=="");c.length>0&&a(c)},[e,a]);const s=F.useMemo(()=>{const c=[],u=new Set;return i.supersets.forEach(f=>{const d=[],l=[];f.exerciseIds.forEach(v=>{const g=e.findIndex(h=>h.id===v);g!==-1&&(d.push(e[g]),l.push(g),u.add(v))}),d.length>0&&c.push({superset:f,exercises:d,originalIndices:l})}),e.forEach((f,d)=>{f.id&&!u.has(f.id)&&c.push({superset:null,exercises:[f],originalIndices:[d]})}),c},[e,i.supersets]);return e.length===0?p.jsx("div",{className:"text-center py-8 text-gray-400",children:p.jsx("p",{children:"No exercises logged yet. Start by adding your first exercise!"})}):p.jsx(uc,{onDragEnd:o,children:p.jsx(sa,{droppableId:"exercises",children:c=>p.jsxs("div",{...c.droppableProps,ref:c.innerRef,className:"space-y-6",children:[s.map((u,f)=>p.jsx(Jc,{draggableId:u.exercises[0].id||`group-${f}`,index:f,children:(d,l)=>{var v;return p.jsxs("div",{ref:d.innerRef,...d.draggableProps,className:`transition-all duration-200 ${l.isDragging?"scale-105 shadow-2xl":""}`,children:[p.jsx("div",{...d.dragHandleProps,className:"mb-2 flex justify-center relative",children:p.jsx("div",{className:"w-12 h-1 bg-gray-400 rounded-full hover:bg-gray-300 cursor-grab active:cursor-grabbing"})}),u.superset?p.jsxs("div",{className:"relative bg-[#1a1a1a] border-l-4 border-[#2196F3] rounded-lg p-3 shadow-md mb-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-[#2196F3] rounded-full"}),p.jsxs("h3",{className:"text-sm font-medium text-white flex items-center",children:[p.jsx("span",{className:"text-[#2196F3]",children:"Superset:"}),p.jsx("span",{className:"ml-1",children:u.superset.name}),p.jsxs("span",{className:"ml-2 text-xs text-[#2196F3]/70",children:["(",u.exercises.length,")"]})]})]}),((v=u.exercises[0])==null?void 0:v.id)&&p.jsx("div",{className:"flex items-center",children:p.jsx(ed,{exerciseId:u.exercises[0].id})})]}),p.jsx("div",{className:"space-y-3",children:u.exercises.map((g,h)=>p.jsxs("div",{className:"relative",children:[h<u.exercises.length-1&&p.jsx("div",{className:"absolute -bottom-2 left-4 h-3 w-0.5 bg-[#2196F3]/40"}),p.jsx("div",{className:"transition-all duration-200 hover:bg-black/20 rounded-lg",children:p.jsx(pt,{exercise:g,exerciseNumber:f+1,subNumber:h+1,onEdit:()=>r(g),onDelete:()=>t(g),showActions:!0})})]},g.id||h))})]}):p.jsx("div",{className:"border-l-4 border-white/20 rounded-lg shadow-sm mb-4",children:p.jsx(pt,{exercise:u.exercises[0],exerciseNumber:f+1,onEdit:()=>r(u.exercises[0]),onDelete:()=>t(u.exercises[0]),showActions:!0})})]})}},u.exercises[0].id||`group-${f}`)),c.placeholder]})})})},td=()=>{const{state:e,cancelCreating:r,createSuperset:t}=ar(),[n,i]=w.useState(""),[a,o]=w.useState(!1);if(!e.isCreating||e.selectedExercises.length===0)return null;const s=()=>{if(e.selectedExercises.length<2){alert("Please select at least 2 exercises to create a superset");return}if(!a){o(!0);return}t(n||void 0),i(""),o(!1)},c=()=>{a?(o(!1),i("")):r()};return p.jsxs("div",{className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 z-50 bg-[#1a1a1a] rounded-lg border border-[#8B5CF6] shadow-lg shadow-[#8B5CF6]/20 p-4 w-11/12 max-w-md",children:[p.jsxs("div",{className:"mb-3 flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-medium text-white",children:"Create Superset"}),p.jsxs("span",{className:"text-sm bg-[#8B5CF6]/20 text-[#8B5CF6] px-2 py-1 rounded-full",children:[e.selectedExercises.length," selected"]})]}),a?p.jsx("div",{className:"mb-3",children:p.jsx("input",{type:"text",placeholder:"Superset name (optional)",value:n,onChange:u=>i(u.target.value),className:"w-full px-3 py-2 bg-[#2a2a2a] text-white rounded-lg border border-gray-600 focus:border-[#8B5CF6] focus:outline-none",maxLength:30,autoFocus:!0})}):p.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Select exercises and save to create a superset"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:s,disabled:e.selectedExercises.length<2,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-[#8B5CF6] text-white rounded-lg hover:bg-[#7C3AED] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a?"Save Superset":"Save"]}),p.jsxs("button",{onClick:c,className:"flex items-center justify-center gap-2 px-4 py-2 bg-[#2a2a2a] text-white rounded-lg hover:bg-[#3a3a3a] transition-colors",children:[p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]})]})]})},nd=e=>({id:e.id||jr(),exerciseName:e.exerciseName,sets:e.sets,timestamp:e.timestamp instanceof Date?e.timestamp:new Date(e.timestamp),deviceId:e.deviceId||""}),ad=()=>{const e=ma(),{user:r}=Qt(N=>N.auth),{removeExerciseFromSuperset:t,loadSupersetsForDate:n,saveSupersetsForDate:i}=ar(),a=w.useCallback(N=>{const B=new Date(N);return B.setHours(0,0,0,0),B},[]),o=w.useCallback((N,B)=>{const M=a(N),U=a(B);return M.getTime()===U.getTime()},[a]),s=w.useCallback(N=>{const B=a(N),M=new Date(B);return M.setHours(23,59,59,999),{startOfDay:B,endOfDay:M}},[a]),[c,u]=w.useState({showLogOptions:!1,showCalendar:!1,showSetLogger:!1,showImportModal:!1,showWorkoutSummary:!1,showMenu:!1,showProgramModal:!1}),f=w.useCallback((N,B)=>{u(M=>({...M,[N]:B}))},[]),d=w.useCallback(N=>{f("showCalendar",N??!c.showCalendar)},[c.showCalendar,f]),[l,v]=w.useState(()=>a(new Date)),[g,h]=w.useState([]),[m,b]=w.useState(!1),[y,C]=w.useState(null),S=w.useCallback((N,B)=>({id:N.id??jr(),exerciseName:N.exerciseName,sets:N.sets,timestamp:new Date(N.timestamp),userId:B,deviceId:N.deviceId||localStorage.getItem("device_id")||""}),[]),D=w.useCallback(async N=>{const B=r==null?void 0:r.id;if(!B){b(!1),h([]);return}const M=a(N);b(!0);const U=M.toISOString().split("T")[0];n(U);try{const X=ft(M).map(J=>S(J,B)),{startOfDay:H,endOfDay:Z}=s(M),Y=Zt(_t(Xt,"users",B,"exercises"),je("timestamp",">=",H),je("timestamp","<=",Z)),pe=(await en(Y)).docs.map(J=>{const Q=J.data();return S({id:J.id,exerciseName:Q.exerciseName,sets:Q.sets,timestamp:Q.timestamp.toDate(),deviceId:Q.deviceId},B)}),oe=X.filter(J=>!J.id||!pe.some(Q=>Q.id===J.id)),fe=[...pe,...oe];fe.sort((J,Q)=>J.timestamp instanceof Date&&Q.timestamp instanceof Date?J.timestamp.getTime()-Q.timestamp.getTime():0),h(fe)}catch(X){console.error("Error fetching exercises:",X);const H=ft(M).map(Z=>S(Z,B));h(H)}finally{b(!1)}},[r==null?void 0:r.id,o,a,s,S,n]);w.useEffect(()=>{l||v(new Date)},[l]);const x=w.useCallback(async N=>{const B=a(N);B&&(b(!0),v(B),await D(B),d(!1))},[a,D,d]);w.useEffect(()=>{r!=null&&r.id&&D(l)},[r==null?void 0:r.id,D,l]);const E=w.useCallback(N=>{d(!1)},[d]),A=w.useCallback(()=>{C(null),f("showSetLogger",!1)},[f]),R=w.useCallback(async(N,B)=>{if(!y||!(r!=null&&r.id)){console.error("Cannot save sets: missing exercise or user");return}try{console.log("ðŸ’¾ Saving sets for exercise:",{exerciseId:B,exerciseName:y.exerciseName,setCount:N.length});const M={...y,id:B||jr(),sets:N,timestamp:l},U=await Ye({exerciseName:M.exerciseName,userId:r.id,sets:N},l,M.id);console.log("âœ… Exercise saved to Firestore successfully"),await vt({...M,id:U,userId:r.id}),console.log("âœ… Exercise saved to local storage"),A(),await D(l)}catch(M){console.error("âŒ Error saving exercise sets:",M),alert("Failed to save exercise sets. Please try again.")}},[y,r,l,A,D]),k=async N=>{if(!(r!=null&&r.id)||!N.id){console.error("Cannot delete exercise: missing user ID or exercise ID",{userId:r==null?void 0:r.id,exerciseId:N.id}),alert("Cannot delete exercise: missing required information");return}if(window.confirm("Are you sure you want to delete this exercise?")){h(B=>B.filter(M=>M.id!==N.id));try{console.log("ðŸ—‘ï¸ Attempting to delete exercise:",{exerciseId:N.id,userId:r.id,exerciseName:N.exerciseName,timestamp:N.timestamp});try{await xa(N.id,r.id),console.log("âœ… Exercise deleted from Firestore successfully")}catch(B){throw console.error("âŒ Error deleting from Firestore:",B),h(M=>[...M,N]),B}try{const B=await ya(N.id);console.log("âœ… Exercise deleted from local storage:",B)}catch(B){console.warn("âš ï¸ Error deleting from local storage:",B)}t(N.id),h(B=>B.filter(M=>M.id!==N.id))}catch(B){console.error("âŒ Error deleting exercise:",B);const M=B instanceof Error?B.message:"Unknown error occurred";alert(`Failed to delete exercise: ${M}`),await D(l)}}},L=N=>{C(N),f("showSetLogger",!0)},z=w.useCallback(N=>{h(N);const B=l.toISOString().split("T")[0],M=new Date(l);M.setHours(12,0,0,0),N.forEach((U,X)=>{if(!U.id||!(r!=null&&r.id))return;const H=new Date(M);H.setMilliseconds(X*100);const Z={...U,timestamp:H,userId:r.id,id:U.id};vt(Z)}),i(B),console.log("âœ… Exercise order saved")},[l,r,i]),P=w.useCallback(N=>N?N.toLocaleDateString("no-NO",{day:"numeric",month:"long"}).toLowerCase():"",[]),W=async N=>{var M;const B=(M=N.target.files)==null?void 0:M[0];if(!(!B||!(r!=null&&r.id)))try{const U=await za(B);U&&U.length>0&&h(X=>[...X,...U.map(H=>S(H,r.id))]),f("showImportModal",!1)}catch(U){console.error("Error importing data:",U)}};return w.useEffect(()=>{if(r!=null&&r.id&&l){const N=setTimeout(()=>{D(l)},50);return()=>clearTimeout(N)}else h([]),b(!1)},[l,r==null?void 0:r.id]),w.useEffect(()=>{y&&!o(y.timestamp,l)&&A()},[l,y,o,A]),w.useEffect(()=>{console.log("Auth state:",{isAuthenticated:!!r,userId:r==null?void 0:r.id,hasRequiredFields:r?{hasId:!!r.id,hasEmail:!!r.email,hasFirstName:!!r.firstName,hasLastName:!!r.lastName,hasRole:!!r.role}:null})},[r]),p.jsxs("div",{className:"relative min-h-screen bg-black",children:[p.jsxs("header",{className:"flex items-center justify-between px-4 py-4 bg-black/95 backdrop-blur-sm fixed top-0 left-0 right-0 z-50 border-b border-white/10",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{className:"p-2 hover:bg-white/10 rounded-lg transition-colors",onClick:()=>u(N=>({...N,showMenu:!0})),"aria-label":"Open menu",children:p.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),p.jsx("h1",{className:"text-white text-xl font-medium",children:P(l)})]}),p.jsxs("div",{className:"flex items-center",children:["          ",p.jsx("button",{onClick:()=>d(),className:`p-2 rounded-lg transition-colors ${c.showCalendar?"bg-white/10":"hover:bg-white/10"}`,"aria-label":"Open calendar","aria-expanded":c.showCalendar,children:p.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]}),p.jsx("main",{className:"px-4 pb-24 pt-20",children:p.jsxs("div",{className:"relative flex flex-col h-full",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Exercise Log - ",l.toLocaleDateString()]}),p.jsx("button",{onClick:()=>d(),className:"px-4 py-2 text-white rounded-lg transition-colors","aria-label":"Toggle calendar","aria-expanded":c.showCalendar,children:c.showCalendar?"Hide Calendar":"Show Calendar"})]}),p.jsx("div",{className:"flex-grow",children:m?p.jsx("div",{className:"flex justify-center items-center h-32",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#8B5CF6]"})}):g.length===0?p.jsxs("div",{className:"text-center py-8 text-gray-400",children:[p.jsx("p",{className:"text-lg",children:"No exercises logged for this date"}),p.jsx("button",{onClick:()=>f("showLogOptions",!0),className:"mt-4 px-4 py-2 bg-[#8B5CF6] hover:bg-[#7C3AED] text-white rounded-lg transition-colors",children:"Add Exercise"})]}):p.jsx("div",{className:"space-y-4",children:p.jsx(rd,{exercises:g,onEditExercise:L,onDeleteExercise:k,onReorderExercises:z})})})]})}),c.showCalendar&&p.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50",children:["          ",p.jsx(Wa,{onClose:()=>d(!1),onSelectExercises:E,onDateSelect:x,selectedDate:l})]}),p.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:p.jsx("button",{onClick:()=>f("showLogOptions",!0),className:"w-16 h-16 bg-[#8B5CF6] hover:bg-[#7C3AED] rounded-full flex items-center justify-center text-white shadow-lg transition-colors","aria-label":"Add Exercise",children:p.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),c.showProgramModal&&p.jsx(Da,{isOpen:c.showProgramModal,onClose:()=>u(N=>({...N,showProgramModal:!1})),onSave:()=>u(N=>({...N,showProgramModal:!1}))}),p.jsx(td,{}),p.jsx(fa,{isOpen:c.showMenu,onClose:()=>f("showMenu",!1),onImport:()=>f("showImportModal",!0),onExport:()=>Va(g.map(nd)),onShowWorkoutSummary:()=>f("showWorkoutSummary",!0),onNavigateToday:()=>v(new Date),onNavigatePrograms:()=>{e("/programs")},onNavigateExercises:()=>{e("/exercises")},onNavigateDashboard:()=>{e("/dashboard")}}),c.showLogOptions&&p.jsx("div",{className:"fixed inset-0 bg-black/90 z-50",children:p.jsx(Ga,{onClose:()=>f("showLogOptions",!1),onExerciseAdded:()=>D(l),selectedDate:l})}),c.showSetLogger&&y&&y.id&&p.jsx("div",{className:"fixed inset-0 bg-black/90 z-50",children:p.jsx(Ia,{exercise:{id:y.id,name:y.exerciseName,sets:y.sets.map(N=>({reps:N.reps,weight:N.weight||0,difficulty:N.difficulty}))},onSave:R,onCancel:()=>f("showSetLogger",!1),isEditing:!0,previousSet:y.sets.length>0?y.sets[y.sets.length-1]:void 0,showPreviousSets:!0,useExerciseId:!0})}),c.showImportModal&&p.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50",children:p.jsxs("div",{className:"bg-[#1a1a1a] rounded-xl p-6 max-w-md w-full border border-white/10",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-xl text-white font-medium",children:"Import Exercise Data"}),p.jsx("button",{onClick:()=>f("showImportModal",!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:p.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsx("p",{className:"text-gray-300 mb-4",children:"Select a JSON backup file to import your exercise data."}),p.jsx("div",{className:"mb-6",children:p.jsx("input",{type:"file",accept:".json",onChange:W,className:"block w-full text-white p-3 rounded-xl bg-[#2a2a2a] border border-white/10 focus:outline-none focus:border-[#8B5CF6]"})}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{onClick:()=>f("showImportModal",!1),className:"px-6 py-3 bg-[#2a2a2a] text-white rounded-xl hover:bg-[#3a3a3a] transition-colors",children:"Cancel"})})]})}),c.showWorkoutSummary&&g.length>0&&p.jsx("div",{className:"fixed inset-0 bg-black/90 z-50",children:p.jsx(Ha,{exercises:g.map(N=>({id:N.id||"temp-id",exerciseName:N.exerciseName,sets:N.sets,timestamp:N.timestamp})),onClose:()=>f("showWorkoutSummary",!1)})})]})},fd=()=>p.jsx(wa,{fallback:p.jsx("div",{className:"text-white p-4",children:"Error loading exercises. Please try again."}),children:p.jsx(ba,{children:p.jsx(ad,{})})});export{fd as default};
//# sourceMappingURL=ExerciseLog-BKSI4C9r.js.map
