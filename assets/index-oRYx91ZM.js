const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-9L9507kO.js","assets/react-vendor-DQubVtpq.js","assets/types-lxi7azL2.js","assets/auth-DlnMWTUc.js","assets/firebase-vendor-D8cnFtZG.js","assets/Register-MZ9zQuXF.js","assets/ExerciseLog-BKSI4C9r.js","assets/ExerciseCard-BRQlGgSC.js","assets/ProgramModal-DK9YdCbu.js","assets/ExerciseSetLogger-DxgvFKo_.js","assets/CreateExerciseDialog-BGvh7GMo.js","assets/Dashboard-CyUS77gJ.js","assets/ProgramList-DpfF3G71.js","assets/TrashIcon-DAbwCWt1.js","assets/ProgramDetail-DRdSUgXx.js","assets/Debug-CtRm6Un-.js","assets/ExerciseOverview-BiT0ShrG.js"])))=>i.map(i=>d[i]);
import{r as Nt,a as hn,g as Nr,b as x,c as pn,H as mn,u as Cr,d as Ct,R as gn,e as re,N as vn,f as yn,h as bn}from"./react-vendor-DQubVtpq.js";import{_ as wn,C as xn,r as Ht,S as Sn,a as En,F as _n,g as Dr,b as Pn,c as jn,d as On,i as Rn,p as An,u as kn,e as In,f as St,h as Lr,j as se,k as $r,l as q,m as he,n as ie,w as ke,s as K,q as Tn,o as Nn,t as qe,v as tt,x as nt}from"./firebase-vendor-D8cnFtZG.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var ot={exports:{}},Te={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt;function Cn(){if(Kt)return Te;Kt=1;var e=Nt(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(a,u,c){var l,d={},h=null,m=null;c!==void 0&&(h=""+c),u.key!==void 0&&(h=""+u.key),u.ref!==void 0&&(m=u.ref);for(l in u)n.call(u,l)&&!o.hasOwnProperty(l)&&(d[l]=u[l]);if(a&&a.defaultProps)for(l in u=a.defaultProps,u)d[l]===void 0&&(d[l]=u[l]);return{$$typeof:t,type:a,key:h,ref:m,props:d,_owner:s.current}}return Te.Fragment=r,Te.jsx=i,Te.jsxs=i,Te}var Gt;function Dn(){return Gt||(Gt=1,ot.exports=Cn()),ot.exports}var f=Dn(),Fe={},Yt;function Ln(){if(Yt)return Fe;Yt=1;var e=hn();return Fe.createRoot=e.createRoot,Fe.hydrateRoot=e.hydrateRoot,Fe}var $n=Ln();const Mn=Nr($n);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="firebasestorage.googleapis.com",Un="storageBucket",Fn=2*60*1e3,Bn=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee extends _n{constructor(t,r,n=0){super(st(t),`Firebase Storage: ${r} (${st(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ee.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return st(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Q;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Q||(Q={}));function st(e){return"storage/"+e}function Wn(){const e="An unknown error occurred, please check the error payload for server response.";return new ee(Q.UNKNOWN,e)}function Vn(){return new ee(Q.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zn(){return new ee(Q.CANCELED,"User canceled the upload/download.")}function qn(e){return new ee(Q.INVALID_URL,"Invalid URL '"+e+"'.")}function Hn(e){return new ee(Q.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Xt(e){return new ee(Q.INVALID_ARGUMENT,e)}function Ur(){return new ee(Q.APP_DELETED,"The Firebase app was deleted.")}function Kn(e){return new ee(Q.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=J.makeFromUrl(t,r)}catch{return new J(t,"")}if(n.path==="")return n;throw Hn(t)}static makeFromUrl(t,r){let n=null;const s="([A-Za-z0-9.\\-_]+)";function o(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const i="(/(.*))?$",a=new RegExp("^gs://"+s+i,"i"),u={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const l="v[A-Za-z0-9_]+",d=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${l}/b/${s}/o${h}`,"i"),v={bucket:1,path:3},g=r===Mr?"(?:storage.googleapis.com|storage.cloud.google.com)":r,p="([^?#]*)",P=new RegExp(`^https?://${g}/${s}/${p}`,"i"),_=[{regex:a,indices:u,postModify:o},{regex:m,indices:v,postModify:c},{regex:P,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<_.length;R++){const b=_[R],k=b.regex.exec(t);if(k){const C=k[b.indices.bucket];let F=k[b.indices.path];F||(F=""),n=new J(C,F),b.postModify(n);break}}if(n==null)throw qn(t);return n}}class Gn{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(e,t,r){let n=1,s=null,o=null,i=!1,a=0;function u(){return a===2}let c=!1;function l(...p){c||(c=!0,t.apply(null,p))}function d(p){s=setTimeout(()=>{s=null,e(m,u())},p)}function h(){o&&clearTimeout(o)}function m(p,...P){if(c){h();return}if(p){h(),l.call(null,p,...P);return}if(u()||i){h(),l.call(null,p,...P);return}n<64&&(n*=2);let _;a===1?(a=2,_=0):_=(n+Math.random())*1e3,d(_)}let v=!1;function g(p){v||(v=!0,h(),!c&&(s!==null?(p||(a=2),clearTimeout(s),d(0)):p||(a=1)))}return d(0),o=setTimeout(()=>{i=!0,g(!0)},r),g}function Xn(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(e){return e!==void 0}function Jt(e,t,r,n){if(n<t)throw Xt(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw Xt(`Invalid value for '${e}'. Expected ${r} or less.`)}function Zn(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const s=t(n)+"="+t(e[n]);r=r+s+"&"}return r=r.slice(0,-1),r}var He;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(He||(He={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(e,t){const r=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return r||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,r,n,s,o,i,a,u,c,l,d,h=!0,m=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,g)=>{this.resolve_=v,this.reject_=g,this.start_()})}start_(){const t=(n,s)=>{if(s){n(!1,new Be(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const i=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&o.addUploadProgressListener(i),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(i),this.pendingConnection_=null;const a=o.getErrorCode()===He.NO_ERROR,u=o.getStatus();if(!a||Qn(u,this.additionalRetryCodes_)&&this.retry){const l=o.getErrorCode()===He.ABORT;n(!1,new Be(!1,null,l));return}const c=this.successCodes_.indexOf(u)!==-1;n(!0,new Be(c,o))})},r=(n,s)=>{const o=this.resolve_,i=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());Jn(u)?o(u):o()}catch(u){i(u)}else if(a!==null){const u=Wn();u.serverResponse=a.getErrorText(),this.errorCallback_?i(this.errorCallback_(a,u)):i(u)}else if(s.canceled){const u=this.appDelete_?Ur():zn();i(u)}else{const u=Vn();i(u)}};this.canceled_?r(!1,new Be(!1,null,!0)):this.backoffId_=Yn(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Xn(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Be{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function to(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function ro(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function no(e,t){t&&(e["X-Firebase-GMPID"]=t)}function oo(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function so(e,t,r,n,s,o,i=!0,a=!1){const u=Zn(e.urlParams),c=e.url+u,l=Object.assign({},e.headers);return no(l,t),to(l,r),ro(l,o),oo(l,n),new eo(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function ao(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,r){this._service=t,r instanceof J?this._location=r:this._location=J.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new Ke(t,r)}get root(){const t=new J(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ao(this._location.path)}get storage(){return this._service}get parent(){const t=io(this._location.path);if(t===null)return null;const r=new J(this._location.bucket,t);return new Ke(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw Kn(t)}}function Zt(e,t){const r=t==null?void 0:t[Un];return r==null?null:J.makeFromBucketSpec(r,e)}function co(e,t,r,n={}){e.host=`${t}:${r}`;const s=Rn(t);s&&(An(`https://${e.host}/b`),kn("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:o}=n;o&&(e._overrideAuthToken=typeof o=="string"?o:In(o,e.app.options.projectId))}class uo{constructor(t,r,n,s,o,i=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=i,this._bucket=null,this._host=Mr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Fn,this._maxUploadRetryTime=Bn,this._requests=new Set,s!=null?this._bucket=J.makeFromBucketSpec(s,this._host):this._bucket=Zt(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=J.makeFromBucketSpec(this._url,t):this._bucket=Zt(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Jt("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Jt("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ke(this,t)}_makeRequest(t,r,n,s,o=!0){if(this._deleted)return new Gn(Ur());{const i=so(t,this._appId,n,s,r,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(t,r){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,s).getPromise()}}const Qt="@firebase/storage",er="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="storage";function lo(e=Dr(),t){e=Pn(e);const n=jn(e,Fr).getImmediate({identifier:t}),s=On("storage");return s&&fo(n,...s),n}function fo(e,t,r,n={}){co(e,t,r,n)}function ho(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new uo(r,n,s,t,Sn)}function po(){wn(new xn(Fr,ho,"PUBLIC").setMultipleInstances(!0)),Ht(Qt,er,""),Ht(Qt,er,"esm2017")}po();const mo={apiKey:"AIzaSyDgA76WHz1JzwEc1YeazhKTUxqxHzhcP2c",authDomain:"session-logger-3619e.firebaseapp.com",projectId:"session-logger-3619e",storageBucket:"session-logger-3619e.firebasestorage.app",messagingSenderId:"936476651752",appId:"1:936476651752:web:7048bd9fcc902dc816595d",measurementId:"G-B6K0DDSVTH"},Dt=St().length?St()[0]:Lr(mo),Et=se(Dt),Ve=$r(Dt);lo(Dt);function X(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function pe(e){return!!e&&!!e[$]}function ae(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var s=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===_o}(e)||Array.isArray(e)||!!e[ar]||!!(!((t=e.constructor)===null||t===void 0)&&t[ar])||Lt(e)||$t(e))}function Ee(e,t,r){r===void 0&&(r=!1),Ie(e)===0?(r?Object.keys:Re)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,s){return t(s,n,e)})}function Ie(e){var t=e[$];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Lt(e)?2:$t(e)?3:0}function Oe(e,t){return Ie(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function go(e,t){return Ie(e)===2?e.get(t):e[t]}function Br(e,t,r){var n=Ie(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Wr(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Lt(e){return So&&e instanceof Map}function $t(e){return Eo&&e instanceof Set}function xe(e){return e.o||e.t}function Mt(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=zr(e);delete t[$];for(var r=Re(t),n=0;n<r.length;n++){var s=r[n],o=t[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Object.getPrototypeOf(e),t)}function Ut(e,t){return t===void 0&&(t=!1),Ft(e)||pe(e)||!ae(e)||(Ie(e)>1&&(e.set=e.add=e.clear=e.delete=vo),Object.freeze(e),t&&Ee(e,function(r,n){return Ut(n,!0)},!0)),e}function vo(){X(2)}function Ft(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Z(e){var t=Ot[e];return t||X(18,e),t}function yo(e,t){Ot[e]||(Ot[e]=t)}function _t(){return Le}function it(e,t){t&&(Z("Patches"),e.u=[],e.s=[],e.v=t)}function Ge(e){Pt(e),e.p.forEach(bo),e.p=null}function Pt(e){e===Le&&(Le=e.l)}function tr(e){return Le={p:[],l:Le,h:e,m:!0,_:0}}function bo(e){var t=e[$];t.i===0||t.i===1?t.j():t.g=!0}function at(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||Z("ES5").S(t,e,n),n?(r[$].P&&(Ge(t),X(4)),ae(e)&&(e=Ye(t,e),t.l||Xe(t,e)),t.u&&Z("Patches").M(r[$].t,e,t.u,t.s)):e=Ye(t,r,[]),Ge(t),t.u&&t.v(t.u,t.s),e!==Vr?e:void 0}function Ye(e,t,r){if(Ft(t))return t;var n=t[$];if(!n)return Ee(t,function(a,u){return rr(e,n,t,a,u,r)},!0),t;if(n.A!==e)return t;if(!n.P)return Xe(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var s=n.i===4||n.i===5?n.o=Mt(n.k):n.o,o=s,i=!1;n.i===3&&(o=new Set(s),s.clear(),i=!0),Ee(o,function(a,u){return rr(e,n,s,a,u,r,i)}),Xe(e,s,!1),r&&e.u&&Z("Patches").N(n,r,e.u,e.s)}return n.o}function rr(e,t,r,n,s,o,i){if(pe(s)){var a=Ye(e,s,o&&t&&t.i!==3&&!Oe(t.R,n)?o.concat(n):void 0);if(Br(r,n,a),!pe(a))return;e.m=!1}else i&&r.add(s);if(ae(s)&&!Ft(s)){if(!e.h.D&&e._<1)return;Ye(e,s),t&&t.A.l||Xe(e,s)}}function Xe(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&Ut(t,r)}function ct(e,t){var r=e[$];return(r?xe(r):e)[t]}function nr(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function ue(e){e.P||(e.P=!0,e.l&&ue(e.l))}function ut(e){e.o||(e.o=Mt(e.t))}function jt(e,t,r){var n=Lt(t)?Z("MapSet").F(t,r):$t(t)?Z("MapSet").T(t,r):e.O?function(s,o){var i=Array.isArray(s),a={i:i?1:0,A:o?o.A:_t(),P:!1,I:!1,R:{},l:o,t:s,k:null,o:null,j:null,C:!1},u=a,c=$e;i&&(u=[a],c=Ne);var l=Proxy.revocable(u,c),d=l.revoke,h=l.proxy;return a.k=h,a.j=d,h}(t,r):Z("ES5").J(t,r);return(r?r.A:_t()).p.push(n),n}function wo(e){return pe(e)||X(22,e),function t(r){if(!ae(r))return r;var n,s=r[$],o=Ie(r);if(s){if(!s.P&&(s.i<4||!Z("ES5").K(s)))return s.t;s.I=!0,n=or(r,o),s.I=!1}else n=or(r,o);return Ee(n,function(i,a){s&&go(s.t,i)===a||Br(n,i,t(a))}),o===3?new Set(n):n}(e)}function or(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Mt(e)}function xo(){function e(o,i){var a=s[o];return a?a.enumerable=i:s[o]=a={configurable:!0,enumerable:i,get:function(){var u=this[$];return $e.get(u,o)},set:function(u){var c=this[$];$e.set(c,o,u)}},a}function t(o){for(var i=o.length-1;i>=0;i--){var a=o[i][$];if(!a.P)switch(a.i){case 5:n(a)&&ue(a);break;case 4:r(a)&&ue(a)}}}function r(o){for(var i=o.t,a=o.k,u=Re(a),c=u.length-1;c>=0;c--){var l=u[c];if(l!==$){var d=i[l];if(d===void 0&&!Oe(i,l))return!0;var h=a[l],m=h&&h[$];if(m?m.t!==d:!Wr(h,d))return!0}}var v=!!i[$];return u.length!==Re(i).length+(v?0:1)}function n(o){var i=o.k;if(i.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(i,i.length-1);if(a&&!a.get)return!0;for(var u=0;u<i.length;u++)if(!i.hasOwnProperty(u))return!0;return!1}var s={};yo("ES5",{J:function(o,i){var a=Array.isArray(o),u=function(l,d){if(l){for(var h=Array(d.length),m=0;m<d.length;m++)Object.defineProperty(h,""+m,e(m,!0));return h}var v=zr(d);delete v[$];for(var g=Re(v),p=0;p<g.length;p++){var P=g[p];v[P]=e(P,l||!!v[P].enumerable)}return Object.create(Object.getPrototypeOf(d),v)}(a,o),c={i:a?5:4,A:i?i.A:_t(),P:!1,I:!1,R:{},l:i,t:o,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,$,{value:c,writable:!0}),u},S:function(o,i,a){a?pe(i)&&i[$].A===o&&t(o.p):(o.u&&function u(c){if(c&&typeof c=="object"){var l=c[$];if(l){var d=l.t,h=l.k,m=l.R,v=l.i;if(v===4)Ee(h,function(_){_!==$&&(d[_]!==void 0||Oe(d,_)?m[_]||u(h[_]):(m[_]=!0,ue(l)))}),Ee(d,function(_){h[_]!==void 0||Oe(h,_)||(m[_]=!1,ue(l))});else if(v===5){if(n(l)&&(ue(l),m.length=!0),h.length<d.length)for(var g=h.length;g<d.length;g++)m[g]=!1;else for(var p=d.length;p<h.length;p++)m[p]=!0;for(var P=Math.min(h.length,d.length),E=0;E<P;E++)h.hasOwnProperty(E)||(m[E]=!0),m[E]===void 0&&u(h[E])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?r(o):n(o)}})}var sr,Le,Bt=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",So=typeof Map<"u",Eo=typeof Set<"u",ir=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Vr=Bt?Symbol.for("immer-nothing"):((sr={})["immer-nothing"]=!0,sr),ar=Bt?Symbol.for("immer-draftable"):"__$immer_draftable",$=Bt?Symbol.for("immer-state"):"__$immer_state",_o=""+Object.prototype.constructor,Re=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,zr=Object.getOwnPropertyDescriptors||function(e){var t={};return Re(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},Ot={},$e={get:function(e,t){if(t===$)return e;var r=xe(e);if(!Oe(r,t))return function(s,o,i){var a,u=nr(o,i);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(s.k):void 0}(e,r,t);var n=r[t];return e.I||!ae(n)?n:n===ct(e.t,t)?(ut(e),e.o[t]=jt(e.A.h,n,e)):n},has:function(e,t){return t in xe(e)},ownKeys:function(e){return Reflect.ownKeys(xe(e))},set:function(e,t,r){var n=nr(xe(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var s=ct(xe(e),t),o=s==null?void 0:s[$];if(o&&o.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(Wr(r,s)&&(r!==void 0||Oe(e.t,t)))return!0;ut(e),ue(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return ct(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,ut(e),ue(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=xe(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){X(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){X(12)}},Ne={};Ee($e,function(e,t){Ne[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ne.deleteProperty=function(e,t){return Ne.set.call(this,e,t,void 0)},Ne.set=function(e,t,r){return $e.set.call(this,e[0],t,r,e[0])};var Po=function(){function e(r){var n=this;this.O=ir,this.D=!0,this.produce=function(s,o,i){if(typeof s=="function"&&typeof o!="function"){var a=o;o=s;var u=n;return function(g){var p=this;g===void 0&&(g=a);for(var P=arguments.length,E=Array(P>1?P-1:0),_=1;_<P;_++)E[_-1]=arguments[_];return u.produce(g,function(R){var b;return(b=o).call.apply(b,[p,R].concat(E))})}}var c;if(typeof o!="function"&&X(6),i!==void 0&&typeof i!="function"&&X(7),ae(s)){var l=tr(n),d=jt(n,s,void 0),h=!0;try{c=o(d),h=!1}finally{h?Ge(l):Pt(l)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(g){return it(l,i),at(g,l)},function(g){throw Ge(l),g}):(it(l,i),at(c,l))}if(!s||typeof s!="object"){if((c=o(s))===void 0&&(c=s),c===Vr&&(c=void 0),n.D&&Ut(c,!0),i){var m=[],v=[];Z("Patches").M(s,c,m,v),i(m,v)}return c}X(21,s)},this.produceWithPatches=function(s,o){if(typeof s=="function")return function(c){for(var l=arguments.length,d=Array(l>1?l-1:0),h=1;h<l;h++)d[h-1]=arguments[h];return n.produceWithPatches(c,function(m){return s.apply(void 0,[m].concat(d))})};var i,a,u=n.produce(s,o,function(c,l){i=c,a=l});return typeof Promise<"u"&&u instanceof Promise?u.then(function(c){return[c,i,a]}):[u,i,a]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){ae(r)||X(8),pe(r)&&(r=wo(r));var n=tr(this),s=jt(this,r,void 0);return s[$].C=!0,Pt(n),s},t.finishDraft=function(r,n){var s=r&&r[$],o=s.A;return it(o,n),at(void 0,o)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!ir&&X(20),this.O=r},t.applyPatches=function(r,n){var s;for(s=n.length-1;s>=0;s--){var o=n[s];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}s>-1&&(n=n.slice(s+1));var i=Z("Patches").$;return pe(r)?i(r,n):this.produce(r,function(a){return i(a,n)})},e}(),G=new Po,qr=G.produce;G.produceWithPatches.bind(G);G.setAutoFreeze.bind(G);G.setUseProxies.bind(G);G.applyPatches.bind(G);G.createDraft.bind(G);G.finishDraft.bind(G);function Me(e){"@babel/helpers - typeof";return Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Me(e)}function jo(e,t){if(Me(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Me(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oo(e){var t=jo(e,"string");return Me(t)=="symbol"?t:t+""}function Ro(e,t,r){return(t=Oo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cr(Object(r),!0).forEach(function(n){Ro(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var lr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),lt=function(){return Math.random().toString(36).substring(7).split("").join(".")},Je={INIT:"@@redux/INIT"+lt(),REPLACE:"@@redux/REPLACE"+lt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+lt()}};function Ao(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Hr(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(M(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(M(1));return r(Hr)(e,t)}if(typeof e!="function")throw new Error(M(2));var s=e,o=t,i=[],a=i,u=!1;function c(){a===i&&(a=i.slice())}function l(){if(u)throw new Error(M(3));return o}function d(g){if(typeof g!="function")throw new Error(M(4));if(u)throw new Error(M(5));var p=!0;return c(),a.push(g),function(){if(p){if(u)throw new Error(M(6));p=!1,c();var E=a.indexOf(g);a.splice(E,1),i=null}}}function h(g){if(!Ao(g))throw new Error(M(7));if(typeof g.type>"u")throw new Error(M(8));if(u)throw new Error(M(9));try{u=!0,o=s(o,g)}finally{u=!1}for(var p=i=a,P=0;P<p.length;P++){var E=p[P];E()}return g}function m(g){if(typeof g!="function")throw new Error(M(10));s=g,h({type:Je.REPLACE})}function v(){var g,p=d;return g={subscribe:function(E){if(typeof E!="object"||E===null)throw new Error(M(11));function _(){E.next&&E.next(l())}_();var R=p(_);return{unsubscribe:R}}},g[lr]=function(){return this},g}return h({type:Je.INIT}),n={dispatch:h,subscribe:d,getState:l,replaceReducer:m},n[lr]=v,n}function ko(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:Je.INIT});if(typeof n>"u")throw new Error(M(12));if(typeof r(void 0,{type:Je.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(M(13))})}function Io(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var s=t[n];typeof e[s]=="function"&&(r[s]=e[s])}var o=Object.keys(r),i;try{ko(r)}catch(a){i=a}return function(u,c){if(u===void 0&&(u={}),i)throw i;for(var l=!1,d={},h=0;h<o.length;h++){var m=o[h],v=r[m],g=u[m],p=v(g,c);if(typeof p>"u")throw c&&c.type,new Error(M(14));d[m]=p,l=l||p!==g}return l=l||o.length!==Object.keys(u).length,l?d:u}}function dr(e,t){return function(){return t(e.apply(this,arguments))}}function ra(e,t){if(typeof e=="function")return dr(e,t);if(typeof e!="object"||e===null)throw new Error(M(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=dr(s,t))}return r}function Ze(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function To(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),o=function(){throw new Error(M(15))},i={getState:s.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(u){return u(i)});return o=Ze.apply(void 0,a)(s.dispatch),ur(ur({},s),{},{dispatch:o})}}}function Kr(e){var t=function(n){var s=n.dispatch,o=n.getState;return function(i){return function(a){return typeof a=="function"?a(s,o,e):i(a)}}};return t}var Rt=Kr();Rt.withExtraArgument=Kr;var Gr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),No=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(o=c[0]&2?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],s=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ae=function(e,t){for(var r=0,n=t.length,s=e.length;r<n;r++,s++)e[s]=t[r];return e},Co=Object.defineProperty,Do=Object.defineProperties,Lo=Object.getOwnPropertyDescriptors,fr=Object.getOwnPropertySymbols,$o=Object.prototype.hasOwnProperty,Mo=Object.prototype.propertyIsEnumerable,hr=function(e,t,r){return t in e?Co(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},de=function(e,t){for(var r in t||(t={}))$o.call(t,r)&&hr(e,r,t[r]);if(fr)for(var n=0,s=fr(t);n<s.length;n++){var r=s[n];Mo.call(t,r)&&hr(e,r,t[r])}return e},dt=function(e,t){return Do(e,Lo(t))},Uo=function(e,t,r){return new Promise(function(n,s){var o=function(u){try{a(r.next(u))}catch(c){s(c)}},i=function(u){try{a(r.throw(u))}catch(c){s(c)}},a=function(u){return u.done?n(u.value):Promise.resolve(u.value).then(o,i)};a((r=r.apply(e,t)).next())})},Fo=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ze:Ze.apply(null,arguments)};function Bo(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}function fe(e,t){function r(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return de(de({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}var Wo=function(e){Gr(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var s=e.apply(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Ae([void 0],r[0].concat(this)))):new(t.bind.apply(t,Ae([void 0],r.concat(this))))},t}(Array),Vo=function(e){Gr(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var s=e.apply(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Ae([void 0],r[0].concat(this)))):new(t.bind.apply(t,Ae([void 0],r.concat(this))))},t}(Array);function At(e){return ae(e)?qr(e,function(){}):e}function zo(e){return typeof e=="boolean"}function qo(){return function(t){return Ho(t)}}function Ho(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var n=new Wo;return r&&(zo(r)?n.push(Rt):n.push(Rt.withExtraArgument(r.extraArgument))),n}function Ko(e){var t=qo(),r=e||{},n=r.reducer,s=n===void 0?void 0:n,o=r.middleware,i=o===void 0?t():o,a=r.devTools,u=a===void 0?!0:a,c=r.preloadedState,l=c===void 0?void 0:c,d=r.enhancers,h=d===void 0?void 0:d,m;if(typeof s=="function")m=s;else if(Bo(s))m=Io(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=i;typeof v=="function"&&(v=v(t));var g=To.apply(void 0,v),p=Ze;u&&(p=Fo(de({trace:!1},typeof u=="object"&&u)));var P=new Vo(g),E=P;Array.isArray(h)?E=Ae([g],h):typeof h=="function"&&(E=h(P));var _=p.apply(void 0,E);return Hr(m,l,_)}function Yr(e){var t={},r=[],n,s={addCase:function(o,i){var a=typeof o=="string"?o:o.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=i,s},addMatcher:function(o,i){return r.push({matcher:o,reducer:i}),s},addDefaultCase:function(o){return n=o,s}};return e(s),[t,r,n]}function Go(e){return typeof e=="function"}function Yo(e,t,r,n){r===void 0&&(r=[]);var s=typeof t=="function"?Yr(t):[t,r,n],o=s[0],i=s[1],a=s[2],u;if(Go(e))u=function(){return At(e())};else{var c=At(e);u=function(){return c}}function l(d,h){d===void 0&&(d=u());var m=Ae([o[h.type]],i.filter(function(v){var g=v.matcher;return g(h)}).map(function(v){var g=v.reducer;return g}));return m.filter(function(v){return!!v}).length===0&&(m=[a]),m.reduce(function(v,g){if(g)if(pe(v)){var p=v,P=g(p,h);return P===void 0?v:P}else{if(ae(v))return qr(v,function(E){return g(E,h)});var P=g(v,h);if(P===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return P}return v},d)}return l.getInitialState=u,l}function Xo(e,t){return e+"/"+t}function Jo(e){var t=e.name,r=typeof e.initialState=="function"?e.initialState:At(e.initialState),n=e.reducers||{},s=Object.keys(n),o={},i={},a={};s.forEach(function(l){var d=n[l],h=Xo(t,l),m,v;"reducer"in d?(m=d.reducer,v=d.prepare):m=d,o[l]=m,i[h]=m,a[l]=v?fe(h,v):fe(h)});function u(){var l=typeof e.extraReducers=="function"?Yr(e.extraReducers):[e.extraReducers],d=l[0],h=d===void 0?{}:d,m=l[1],v=m===void 0?[]:m,g=l[2],p=g===void 0?void 0:g,P=de(de({},h),i);return Yo(r,function(E){for(var _ in P)E.addCase(_,P[_]);for(var R=0,b=v;R<b.length;R++){var k=b[R];E.addMatcher(k.matcher,k.reducer)}p&&E.addDefaultCase(p)})}var c;return{name:t,reducer:function(l,d){return c||(c=u()),c(l,d)},actions:a,caseReducers:o,getInitialState:function(){return c||(c=u()),c.getInitialState()}}}var Zo="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Qo=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=Zo[Math.random()*64|0];return t},es=["name","message","stack","code"],ft=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),pr=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),ts=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=es;r<n.length;r++){var s=n[r];typeof e[s]=="string"&&(t[s]=e[s])}return t}return{message:String(e)}};(function(){function e(t,r,n){var s=fe(t+"/fulfilled",function(c,l,d,h){return{payload:c,meta:dt(de({},h||{}),{arg:d,requestId:l,requestStatus:"fulfilled"})}}),o=fe(t+"/pending",function(c,l,d){return{payload:void 0,meta:dt(de({},d||{}),{arg:l,requestId:c,requestStatus:"pending"})}}),i=fe(t+"/rejected",function(c,l,d,h,m){return{payload:h,error:(n&&n.serializeError||ts)(c||"Rejected"),meta:dt(de({},m||{}),{arg:d,requestId:l,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function u(c){return function(l,d,h){var m=n!=null&&n.idGenerator?n.idGenerator(c):Qo(),v=new a,g;function p(E){g=E,v.abort()}var P=function(){return Uo(this,null,function(){var E,_,R,b,k,C,F;return No(this,function(B){switch(B.label){case 0:return B.trys.push([0,4,,5]),b=(E=n==null?void 0:n.condition)==null?void 0:E.call(n,c,{getState:d,extra:h}),ns(b)?[4,b]:[3,2];case 1:b=B.sent(),B.label=2;case 2:if(b===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return k=new Promise(function(W,be){return v.signal.addEventListener("abort",function(){return be({name:"AbortError",message:g||"Aborted"})})}),l(o(m,c,(_=n==null?void 0:n.getPendingMeta)==null?void 0:_.call(n,{requestId:m,arg:c},{getState:d,extra:h}))),[4,Promise.race([k,Promise.resolve(r(c,{dispatch:l,getState:d,extra:h,requestId:m,signal:v.signal,abort:p,rejectWithValue:function(W,be){return new ft(W,be)},fulfillWithValue:function(W,be){return new pr(W,be)}})).then(function(W){if(W instanceof ft)throw W;return W instanceof pr?s(W.payload,m,c,W.meta):s(W,m,c)})])];case 3:return R=B.sent(),[3,5];case 4:return C=B.sent(),R=C instanceof ft?i(null,m,c,C.payload,C.meta):i(C,m,c),[3,5];case 5:return F=n&&!n.dispatchConditionRejection&&i.match(R)&&R.meta.condition,F||l(R),[2,R]}})})}();return Object.assign(P,{abort:p,requestId:m,arg:c,unwrap:function(){return P.then(rs)}})}}return Object.assign(u,{pending:o,rejected:i,fulfilled:s,typePrefix:t})}return e.withTypes=function(){return e},e})();function rs(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function ns(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Wt="listenerMiddleware";fe(Wt+"/add");fe(Wt+"/removeAll");fe(Wt+"/remove");var mr;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);xo();const os={user:null,isAuthenticated:!1,isLoading:!0,error:null},Xr=Jo({name:"auth",initialState:os,reducers:{setUser:(e,t)=>{e.user=t.payload,e.isAuthenticated=!!t.payload,e.isLoading=!1,e.error=null},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload,e.isLoading=!1},clearError:e=>{e.error=null},logout:e=>{e.user=null,e.isAuthenticated=!1,e.isLoading=!1,e.error=null}}}),{setUser:ht,setLoading:gr}=Xr.actions,ss=Xr.reducer;var Ce={exports:{}};/*! mobile-drag-drop 3.0.0-rc.0 | Copyright (c) 2022 Tim Ruffles | MIT License */var is=Ce.exports,vr;function as(){return vr||(vr=1,function(e,t){(function(r,n){n(t)})(is,function(r){var n="dnd-poly-",s=["none","copy","copyLink","copyMove","link","linkMove","move","all"],o=["none","copy","move","link"];function i(){var y=!1;try{var w=Object.defineProperty({},"passive",{get:function(){y=!0}});window.addEventListener("test",null,w)}catch{}return y}var a=i();function u(y){return y&&y.tagName}function c(y,w,S){document.addEventListener(y,w,!!a&&{passive:S})}function l(y,w){document.removeEventListener(y,w)}function d(y,w,S,j){j===void 0&&(j=!1);var O=a?{passive:!0,capture:j}:j;return y.addEventListener(w,S,O),{off:function(){y.removeEventListener(w,S,O)}}}function h(y){return y.length===0?0:y.reduce(function(w,S){return S+w},0)/y.length}function m(y,w){for(var S=0;S<y.changedTouches.length;S++)if(y.changedTouches[S].identifier===w)return!0;return!1}function v(y,w,S){for(var j=[],O=[],A=0;A<w.touches.length;A++){var I=w.touches[A];j.push(I[y+"X"]),O.push(I[y+"Y"])}S.x=h(j),S.y=h(O)}var g=["","-webkit-"];function p(y,I,S,j,O){var A=I.x,I=I.y;j&&(A+=j.x,I+=j.y),(O=O===void 0||O)&&(A-=parseInt(y.offsetWidth,10)/2,I-=parseInt(y.offsetHeight,10)/2);for(var L="translate3d("+A+"px,"+I+"px, 0)",D=0;D<g.length;D++){var V=g[D]+"transform";y.style[V]=L+" "+S[D]}}var P=(Object.defineProperty(E.prototype,"dropEffect",{get:function(){return this.t},set:function(y){this.i.mode!==0&&-1<s.indexOf(y)&&(this.t=y)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"types",{get:function(){if(this.i.mode!==0)return Object.freeze(this.i.types)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"effectAllowed",{get:function(){return this.i.effectAllowed},set:function(y){this.i.mode===2&&-1<s.indexOf(y)&&(this.i.effectAllowed=y)},enumerable:!1,configurable:!0}),E.prototype.setData=function(y,w){if(this.i.mode===2){if(-1<y.indexOf(" "))throw new Error("illegal arg: type contains space");this.i.data[y]=w,this.i.types.indexOf(y)===-1&&this.i.types.push(y)}},E.prototype.getData=function(y){if(this.i.mode===1||this.i.mode===2)return this.i.data[y]||""},E.prototype.clearData=function(y){this.i.mode===2&&(y&&this.i.data[y]?(delete this.i.data[y],-1<(y=this.i.types.indexOf(y))&&this.i.types.splice(y,1)):(this.i.data={},this.i.types=[]))},E.prototype.setDragImage=function(y,w,S){this.i.mode===2&&this.h(y,w,S)},E);function E(y,w){this.i=y,this.h=w,this.t=o[0]}function _(y,w){return y?y===s[0]?o[0]:y.indexOf(s[1])===0||y===s[7]?o[1]:y.indexOf(s[4])===0?o[3]:y===s[6]?o[2]:o[1]:w.nodeType===3&&w.tagName==="A"?o[3]:o[1]}function R(y,w,S,j,O,A,I){return I===void 0&&(I=null),O=function(L,D,V,U,Y,te,qt){I===void 0&&(qt=null);var Pe=S.changedTouches[0],U=new Event(y,{bubbles:!0,cancelable:U});return U.dataTransfer=te,U.relatedTarget=qt,U.screenX=Pe.screenX,U.screenY=Pe.screenY,U.clientX=Pe.clientX,U.clientY=Pe.clientY,U.pageX=Pe.pageX,U.pageY=Pe.pageY,L=L.getBoundingClientRect(),U.offsetX=U.clientX-L.left,U.offsetY=U.clientY-L.top,U}(w,0,0,A=A===void 0||A,document.defaultView,O,I),O=!w.dispatchEvent(O),j.mode=0,O}function b(y,w){if(!y||y===s[7])return w;if(w===o[1]){if(y.indexOf(o[1])===0)return o[1]}else if(w===o[3]){if(y.indexOf(o[3])===0||-1<y.indexOf("Link"))return o[3]}else if(w===o[2]&&(y.indexOf(o[2])===0||-1<y.indexOf("Move")))return o[2];return o[0]}var k=(C.prototype.o=function(){var y=this;this.u=1,this.l=o[0],this.v={data:{},effectAllowed:void 0,mode:3,types:[]},this.p={x:null,y:null},this.g={x:null,y:null};var w=this.m;if(this.I=new P(this.v,function(A,I,L){w=A,typeof I!="number"&&typeof L!="number"||(y.j={x:I||0,y:L||0})}),this.v.mode=2,this.I.dropEffect=o[0],R("dragstart",this.m,this.k,this.v,this.I))return this.u=3,this.C(),!1;v("page",this.k,this.g);var S,j,O=this.S.dragImageSetup(w);return this.A=(S=O,g.map(function(A){return A=S.style[A+"transform"],A&&A!=="none"?A.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),O.style.position="absolute",O.style.left="0px",O.style.top="0px",O.style.zIndex="999999",O.classList.add("dnd-poly-drag-image"),O.classList.add("dnd-poly-icon"),this.O=O,this.j||(this.S.dragImageOffset?this.j={x:this.S.dragImageOffset.x,y:this.S.dragImageOffset.y}:this.S.dragImageCenterOnTouch?(j=getComputedStyle(w),this.j={x:0-parseInt(j.marginLeft,10),y:0-parseInt(j.marginTop,10)}):(O=w.getBoundingClientRect(),j=getComputedStyle(w),this.j={x:O.left-this.M.clientX-parseInt(j.marginLeft,10)+O.width/2,y:O.top-this.M.clientY-parseInt(j.marginTop,10)+O.height/2})),p(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch),document.body.appendChild(this.O),this.D=window.setInterval(function(){y.F||(y.F=!0,y.N(),y.F=!1)},this.S.iterationInterval),!0},C.prototype.C=function(){this.D&&(clearInterval(this.D),this.D=null),l("touchmove",this.P),l("touchend",this.T),l("touchcancel",this.T),this.O&&(this.O.parentNode.removeChild(this.O),this.O=null),this.L(this.S,this.k,this.u)},C.prototype._=function(y){var w=this;if(m(y,this.M.identifier)!==!1){if(this.k=y,this.u===0){var S=void 0;if(this.S.dragStartConditionOverride)try{S=this.S.dragStartConditionOverride(y)}catch{S=!1}else S=y.touches.length===1;return S?void(this.o()===!0&&(this.H.preventDefault(),y.preventDefault())):void this.C()}if(y.preventDefault(),v("client",y,this.p),v("page",y,this.g),this.S.dragImageTranslateOverride)try{var j=!1;if(this.S.dragImageTranslateOverride(y,{x:this.p.x,y:this.p.y},this.V,function(O,A){w.O&&(j=!0,w.p.x+=O,w.p.y+=A,w.g.x+=O,w.g.y+=A,p(w.O,w.g,w.A,w.j,w.S.dragImageCenterOnTouch))}),j)return}catch{}p(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch)}},C.prototype.X=function(y){if(m(y,this.M.identifier)!==!1){if(this.S.dragImageTranslateOverride)try{this.S.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch{}this.u!==0?(y.preventDefault(),this.u=y.type==="touchcancel"?3:2):this.C()}},C.prototype.N=function(){var y=this,w=this.l;this.v.mode=3,this.I.dropEffect=o[0];var S,j,O,A,I,L=R("drag",this.m,this.k,this.v,this.I);if(L&&(this.l=o[0]),L||this.u===2||this.u===3)return this.Y(this.u)?(A=this.m,S=this.O,j=this.A,V=function(){y.q()},void((I=getComputedStyle(A)).visibility!=="hidden"&&I.display!=="none"?(S.classList.add("dnd-poly-snapback"),O=getComputedStyle(S),L=parseFloat(O.transitionDuration),isNaN(L)||L===0?V():((A={x:(D=A.getBoundingClientRect()).left,y:D.top}).x+=document.body.scrollLeft||document.documentElement.scrollLeft,A.y+=document.body.scrollTop||document.documentElement.scrollTop,A.x-=parseInt(I.marginLeft,10),A.y-=parseInt(I.marginTop,10),D=parseFloat(O.transitionDelay),D=Math.round(1e3*(L+D)),p(S,A,j,void 0,!1),setTimeout(V,D))):V())):void this.q();var D=this.S.elementFromPoint(this.p.x,this.p.y),V=this.B;D!==this.V&&D!==this.B&&(this.V=D,this.B!==null&&(this.v.mode=3,this.I.dropEffect=o[0],R("dragexit",this.B,this.k,this.v,this.I,!1)),this.V===null?this.B=this.V:(this.v.mode=3,this.I.dropEffect=_(this.v.effectAllowed,this.m),R("dragenter",this.V,this.k,this.v,this.I)?(this.B=this.V,this.l=b(this.I.effectAllowed,this.I.dropEffect)):this.V!==document.body&&(this.B=document.body))),V!==this.B&&u(V)&&(this.v.mode=3,this.I.dropEffect=o[0],R("dragleave",V,this.k,this.v,this.I,!1,this.B)),u(this.B)&&(this.v.mode=3,this.I.dropEffect=_(this.v.effectAllowed,this.m),R("dragover",this.B,this.k,this.v,this.I)===!1?this.l=o[0]:this.l=b(this.I.effectAllowed,this.I.dropEffect)),w!==this.l&&this.O.classList.remove(n+w),w=n+this.l,this.O.classList.add(w)},C.prototype.Y=function(y){return y=this.l===o[0]||this.B===null||y===3,y?u(this.B)&&(this.v.mode=3,this.I.dropEffect=o[0],R("dragleave",this.B,this.k,this.v,this.I,!1)):u(this.B)&&(this.v.mode=1,this.I.dropEffect=this.l,R("drop",this.B,this.k,this.v,this.I)===!0?this.l=this.I.dropEffect:this.l=o[0]),y},C.prototype.q=function(){this.v.mode=3,this.I.dropEffect=this.l,R("dragend",this.m,this.k,this.v,this.I,!1),this.u=2,this.C()},C);function C(y,w,S,j){this.H=y,this.S=w,this.m=S,this.L=j,this.u=0,this.V=null,this.B=null,this.k=y,this.M=y.changedTouches[0],this.P=this._.bind(this),this.T=this.X.bind(this),c("touchmove",this.P,!1),c("touchend",this.T,!1),c("touchcancel",this.T,!1)}var F,B={iterationInterval:150,tryFindDraggableTarget:function(y){for(var w=0,S=y.composedPath();w<S.length;w++){var j=S[w];do if(j.draggable!==!1&&(j.draggable===!0||j.getAttribute&&j.getAttribute("draggable")==="true"))return j;while((j=j.parentNode)&&j!==document.body)}},dragImageSetup:function(y){var w=y.cloneNode(!0);return function S(j,O){if(j.nodeType===1){for(var A,I,L=getComputedStyle(j),D=0;D<L.length;D++){var V=L[D];O.style.setProperty(V,L.getPropertyValue(V),L.getPropertyPriority(V))}O.style.pointerEvents="none",O.removeAttribute("id"),O.removeAttribute("class"),O.removeAttribute("draggable"),O.nodeName==="CANVAS"&&(A=O,I=(I=j).getContext("2d").getImageData(0,0,I.width,I.height),A.getContext("2d").putImageData(I,0,0))}if(j.hasChildNodes())for(D=0;D<j.childNodes.length;D++)S(j.childNodes[D],O.childNodes[D]);(function zt(Y){if(Y instanceof HTMLElement&&(Y.style.pointerEvents="none"),Y.children&&Y.children.length)for(var te=0;te<Y.children.length;te++)zt(Y.children[te]);if(Y.shadowRoot&&Y.shadowRoot.children.length)for(te=0;te<Y.shadowRoot.children.length;te++)zt(Y.shadowRoot.children[te])})(O)}(y,w),w},elementFromPoint:function(y,w){var S=document.elementFromPoint(y,w);if(S){for(;S.shadowRoot;){var j=S.shadowRoot.elementFromPoint(y,w);if(j===null||j===S)break;S=j}return S}}};function W(y){if(!F){var w=B.tryFindDraggableTarget(y);if(w)try{F=new k(y,B,w,Vt)}catch(S){throw Vt(B,y,3),S}}}function be(y){function w(D){O.off(),A.off(),I.off(),L.off(),S&&S.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(j)}var S=y.target;S&&S.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var j=window.setTimeout(function(){O.off(),A.off(),I.off(),L.off(),W(y)},B.holdToDrag),O=d(S,"touchend",w),A=d(S,"touchcancel",w),I=d(S,"touchmove",w),L=d(window,"scroll",w,!0)}function Vt(y,w,S){if(S===0&&y.defaultActionOverride)try{y.defaultActionOverride(w),w.defaultPrevented}catch{}F=null}r.polyfill=function(y){if(y&&Object.keys(y).forEach(function(S){B[S]=y[S]}),!B.forceApply&&(w=(w=!!window.chrome||/chrome/i.test(navigator.userAgent),{dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||w&&"ontouchstart"in document.documentElement)}),w.userAgentSupportingNativeDnD&&w.draggable&&w.dragEvents))return!1;var w;return B.holdToDrag?c("touchstart",be,!1):c("touchstart",W,!1),!0},r.supportsPassiveEventListener=i,Object.defineProperty(r,"G",{value:!0})})}(Ce,Ce.exports)),Ce.exports}var cs=as();const us=()=>{const[e,t]=x.useState(!1);x.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{t(!0)})},[]);const r=()=>{window.location.reload()};return e?f.jsxs("div",{className:"fixed bottom-4 left-4 right-4 bg-purple-600 text-white p-4 rounded-lg shadow-lg flex justify-between items-center z-50",children:[f.jsx("span",{children:"New version available!"}),f.jsx("button",{onClick:r,className:"bg-white text-purple-600 px-4 py-2 rounded-md",children:"Update"})]}):null};var pt={exports:{}},mt={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yr;function ls(){if(yr)return mt;yr=1;var e=Nt();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function a(d,h){var m=h(),v=n({inst:{value:m,getSnapshot:h}}),g=v[0].inst,p=v[1];return o(function(){g.value=m,g.getSnapshot=h,u(g)&&p({inst:g})},[d,m,h]),s(function(){return u(g)&&p({inst:g}),d(function(){u(g)&&p({inst:g})})},[d]),i(m),m}function u(d){var h=d.getSnapshot;d=d.value;try{var m=h();return!r(d,m)}catch{return!0}}function c(d,h){return h()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return mt.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:l,mt}var br;function Jr(){return br||(br=1,pt.exports=ls()),pt.exports}Jr();var gt={exports:{}},vt={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wr;function ds(){if(wr)return vt;wr=1;var e=Nt(),t=Jr();function r(c,l){return c===l&&(c!==0||1/c===1/l)||c!==c&&l!==l}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,o=e.useRef,i=e.useEffect,a=e.useMemo,u=e.useDebugValue;return vt.useSyncExternalStoreWithSelector=function(c,l,d,h,m){var v=o(null);if(v.current===null){var g={hasValue:!1,value:null};v.current=g}else g=v.current;v=a(function(){function P(k){if(!E){if(E=!0,_=k,k=h(k),m!==void 0&&g.hasValue){var C=g.value;if(m(C,k))return R=C}return R=k}if(C=R,n(_,k))return C;var F=h(k);return m!==void 0&&m(C,F)?(_=k,C):(_=k,R=F)}var E=!1,_,R,b=d===void 0?null:d;return[function(){return P(l())},b===null?void 0:function(){return P(b())}]},[l,d,h,m]);var p=s(c,v[0],v[1]);return i(function(){g.hasValue=!0,g.value=p},[p]),u(p),p},vt}var xr;function fs(){return xr||(xr=1,gt.exports=ds()),gt.exports}var hs=fs();function ps(e){e()}let Zr=ps;const ms=e=>Zr=e,gs=()=>Zr,Sr=Symbol.for("react-redux-context"),Er=typeof globalThis<"u"?globalThis:{};function vs(){var e;if(!x.createContext)return{};const t=(e=Er[Sr])!=null?e:Er[Sr]=new Map;let r=t.get(x.createContext);return r||(r=x.createContext(null),t.set(x.createContext,r)),r}const Qe=vs();function Qr(e=Qe){return function(){return x.useContext(e)}}const ys=Qr(),bs=()=>{throw new Error("uSES not initialized!")};let en=bs;const ws=e=>{en=e},xs=(e,t)=>e===t;function Ss(e=Qe){const t=e===Qe?ys:Qr(e);return function(n,s={}){const{equalityFn:o=xs,stabilityCheck:i=void 0,noopCheck:a=void 0}=typeof s=="function"?{equalityFn:s}:s,{store:u,subscription:c,getServerState:l,stabilityCheck:d,noopCheck:h}=t();x.useRef(!0);const m=x.useCallback({[n.name](g){return n(g)}}[n.name],[n,d,i]),v=en(c.addNestedSub,u.getState,l||u.getState,m,o);return x.useDebugValue(v),v}}const Es=Ss();var yt={exports:{}},T={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _r;function _s(){if(_r)return T;_r=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,p=e?Symbol.for("react.fundamental"):60117,P=e?Symbol.for("react.responder"):60118,E=e?Symbol.for("react.scope"):60119;function _(b){if(typeof b=="object"&&b!==null){var k=b.$$typeof;switch(k){case t:switch(b=b.type,b){case u:case c:case n:case o:case s:case d:return b;default:switch(b=b&&b.$$typeof,b){case a:case l:case v:case m:case i:return b;default:return k}}case r:return k}}}function R(b){return _(b)===c}return T.AsyncMode=u,T.ConcurrentMode=c,T.ContextConsumer=a,T.ContextProvider=i,T.Element=t,T.ForwardRef=l,T.Fragment=n,T.Lazy=v,T.Memo=m,T.Portal=r,T.Profiler=o,T.StrictMode=s,T.Suspense=d,T.isAsyncMode=function(b){return R(b)||_(b)===u},T.isConcurrentMode=R,T.isContextConsumer=function(b){return _(b)===a},T.isContextProvider=function(b){return _(b)===i},T.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},T.isForwardRef=function(b){return _(b)===l},T.isFragment=function(b){return _(b)===n},T.isLazy=function(b){return _(b)===v},T.isMemo=function(b){return _(b)===m},T.isPortal=function(b){return _(b)===r},T.isProfiler=function(b){return _(b)===o},T.isStrictMode=function(b){return _(b)===s},T.isSuspense=function(b){return _(b)===d},T.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===c||b===o||b===s||b===d||b===h||typeof b=="object"&&b!==null&&(b.$$typeof===v||b.$$typeof===m||b.$$typeof===i||b.$$typeof===a||b.$$typeof===l||b.$$typeof===p||b.$$typeof===P||b.$$typeof===E||b.$$typeof===g)},T.typeOf=_,T}var Pr;function Ps(){return Pr||(Pr=1,yt.exports=_s()),yt.exports}var bt,jr;function js(){if(jr)return bt;jr=1;var e=Ps(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=n,o[e.Memo]=s;function i(v){return e.isMemo(v)?s:o[v.$$typeof]||t}var a=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;function m(v,g,p){if(typeof g!="string"){if(h){var P=d(g);P&&P!==h&&m(v,P,p)}var E=u(g);c&&(E=E.concat(c(g)));for(var _=i(v),R=i(g),b=0;b<E.length;++b){var k=E[b];if(!r[k]&&!(p&&p[k])&&!(R&&R[k])&&!(_&&_[k])){var C=l(g,k);try{a(v,k,C)}catch{}}}}return v}return bt=m,bt}var Os=js();const na=Nr(Os);var wt={exports:{}},N={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or;function Rs(){if(Or)return N;Or=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),a=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),l=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function g(p){if(typeof p=="object"&&p!==null){var P=p.$$typeof;switch(P){case e:switch(p=p.type,p){case r:case s:case n:case c:case l:return p;default:switch(p=p&&p.$$typeof,p){case a:case i:case u:case h:case d:case o:return p;default:return P}}case t:return P}}}return N.ContextConsumer=i,N.ContextProvider=o,N.Element=e,N.ForwardRef=u,N.Fragment=r,N.Lazy=h,N.Memo=d,N.Portal=t,N.Profiler=s,N.StrictMode=n,N.Suspense=c,N.SuspenseList=l,N.isAsyncMode=function(){return!1},N.isConcurrentMode=function(){return!1},N.isContextConsumer=function(p){return g(p)===i},N.isContextProvider=function(p){return g(p)===o},N.isElement=function(p){return typeof p=="object"&&p!==null&&p.$$typeof===e},N.isForwardRef=function(p){return g(p)===u},N.isFragment=function(p){return g(p)===r},N.isLazy=function(p){return g(p)===h},N.isMemo=function(p){return g(p)===d},N.isPortal=function(p){return g(p)===t},N.isProfiler=function(p){return g(p)===s},N.isStrictMode=function(p){return g(p)===n},N.isSuspense=function(p){return g(p)===c},N.isSuspenseList=function(p){return g(p)===l},N.isValidElementType=function(p){return typeof p=="string"||typeof p=="function"||p===r||p===s||p===n||p===c||p===l||p===m||typeof p=="object"&&p!==null&&(p.$$typeof===h||p.$$typeof===d||p.$$typeof===o||p.$$typeof===i||p.$$typeof===u||p.$$typeof===v||p.getModuleId!==void 0)},N.typeOf=g,N}var Rr;function As(){return Rr||(Rr=1,wt.exports=Rs()),wt.exports}As();function ks(){const e=gs();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0,o=r={callback:n,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!s||t===null||(s=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const Ar={notify(){},get:()=>[]};function Is(e,t){let r,n=Ar,s=0,o=!1;function i(g){l();const p=n.subscribe(g);let P=!1;return()=>{P||(P=!0,p(),d())}}function a(){n.notify()}function u(){v.onStateChange&&v.onStateChange()}function c(){return o}function l(){s++,r||(r=e.subscribe(u),n=ks())}function d(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=Ar)}function h(){o||(o=!0,l())}function m(){o&&(o=!1,d())}const v={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return v}const Ts=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ns=Ts?x.useLayoutEffect:x.useEffect;function Cs({store:e,context:t,children:r,serverState:n,stabilityCheck:s="once",noopCheck:o="once"}){const i=x.useMemo(()=>{const c=Is(e);return{store:e,subscription:c,getServerState:n?()=>n:void 0,stabilityCheck:s,noopCheck:o}},[e,n,s,o]),a=x.useMemo(()=>e.getState(),[e]);Ns(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const u=t||Qe;return x.createElement(u.Provider,{value:i},r)}ws(hs.useSyncExternalStoreWithSelector);ms(pn.unstable_batchedUpdates);const Ds={ignoredActions:["auth/setUser"],ignoredActionPaths:["payload.createdAt","payload.updatedAt"],ignoredPaths:["auth.user.createdAt","auth.user.updatedAt"]},je=Ko({reducer:{auth:ss},middleware:e=>e({serializableCheck:Ds})}),Ls={apiKey:"AIzaSyDgA76WHz1JzwEc1YeazhKTUxqxHzhcP2c",authDomain:"session-logger-3619e.firebaseapp.com",projectId:"session-logger-3619e",storageBucket:"session-logger-3619e.firebasestorage.app",messagingSenderId:"936476651752",appId:"1:936476651752:web:7048bd9fcc902dc816595d"},tn=St().length?Dr():Lr(Ls),H=$r(tn);se(tn);const me="programs";async function ge(){const e=se(),t=e.currentUser;if(!t||!t.uid)throw new Error("User must be logged in");if(await new Promise(r=>setTimeout(r,100)),e.currentUser!==t)throw new Error("Auth state changed unexpectedly");return{uid:t.uid}}function kt(e){if(Array.isArray(e))return e.map(kt);if(e&&typeof e=="object"){const t={};return Object.entries(e).forEach(([r,n])=>{n!==void 0&&(t[r]=kt(n))}),t}return e}class ne extends Error{constructor(t){super(t),this.name="ProgramValidationError"}}function rn(e,t=!1){var r;if(!((r=e.name)!=null&&r.trim()))throw new ne("Program name is required");if(!e.level)throw new ne("Program level is required");if(!t&&!e.id)throw new ne("Program ID is required for existing programs");if(!e.userId)throw new ne("Program must have a userId");e.sessions&&e.sessions.forEach((n,s)=>{var o;if(!((o=n.name)!=null&&o.trim()))throw new ne(`Session ${s+1} must have a name`);if(!Array.isArray(n.exercises))throw new ne(`Session ${s+1} must have an exercises array`);n.exercises.forEach((i,a)=>{var u;if(!((u=i.name)!=null&&u.trim()))throw new ne(`Exercise ${a+1} in session ${s+1} must have a name`);if(typeof i.sets!="number"||i.sets<1)throw new ne(`Exercise ${a+1} in session ${s+1} must have valid sets`);if(typeof i.reps!="number"||i.reps<0)throw new ne(`Exercise ${a+1} in session ${s+1} must have valid reps`)})})}const nn=async()=>{try{const e=await ge();console.log("[programService] Fetching programs for user:",e.uid);const t=ie(H,me),r=Tn(t,Nn("userId","==",e.uid)),n=await qe(r);if(n.empty)return console.log("[programService] No programs found for user:",e.uid),[];const o=(await Promise.all(n.docs.map(async i=>{try{const a=i.data();console.log(`[programService] Fetching sessions for program: ${i.id}`);const u=ie(H,`${me}/${i.id}/sessions`),c=await qe(u);console.log(`[programService] Found ${c.size} sessions for program: ${i.id}`);const l=c.docs.map(d=>{const h=d.data();return console.log(`[programService] Processing session: ${d.id}`,h),{id:d.id,name:h.name,exercises:(h.exercises||[]).map(m=>({id:m.id||crypto.randomUUID(),name:m.name,sets:m.sets||3,reps:m.reps||10,weight:m.weight||0,setsData:m.setsData||Array(m.sets||3).fill({reps:m.reps||10,weight:m.weight||0,difficulty:"MODERATE"})})),userId:e.uid,order:h.order??0}}).sort((d,h)=>(d.order??0)-(h.order??0));return{id:i.id,...a,sessions:l,userId:e.uid}}catch(a){return console.error(`[programService] Error fetching sessions for program ${i.id}:`,a),null}}))).filter(i=>i!==null);return console.log("[programService] Successfully fetched programs:",o.length),o}catch(e){throw console.error("[programService] Error fetching programs:",e),e}};function xt(e){return e&&e.toDate?e.toDate().toISOString():new Date().toISOString()}const on=async e=>{var t,r;try{const n=await ge();if(!n||!n.uid)throw new Error("Invalid user state");console.log("[programService] Creating program with auth:",{userId:n.uid,programUserId:e.userId,match:n.uid===e.userId});const s=ke(H),o=q(ie(H,me)),i=K(),a=kt({...e,createdBy:n.uid,userId:n.uid,createdAt:i,updatedAt:i,sessions:(t=e.sessions)==null?void 0:t.map(c=>({...c,userId:n.uid,createdAt:i}))}),u={...a,id:o.id,createdAt:xt(i),updatedAt:xt(i),sessions:(r=a.sessions)==null?void 0:r.map(c=>({...c,createdAt:xt(i)}))};if(rn(u,!0),a.userId!==n.uid)throw console.error("[programService] User ID mismatch:",{expected:n.uid,received:a.userId}),new Error("User ID mismatch");s.set(o,a),console.log("[programService] Committing program creation batch"),await s.commit(),console.log("[programService] Program created successfully with ID:",o.id)}catch(n){throw console.error("[programService] Error in createProgram:",n),n}},$s=async(e,t)=>{try{const r=await ge();if(rn(t),t.userId!==r.uid)throw new Error("You can only update your own programs");const n=K(),s=q(H,me,e),o=ke(H),{sessions:i,...a}=t;o.set(s,{...a,updatedAt:n},{merge:!0}),(await qe(ie(s,"sessions"))).docs.forEach(c=>{o.delete(c.ref)}),i.forEach((c,l)=>{const d=q(ie(s,"sessions"));o.set(d,{...c,id:d.id,order:c.order??l,userId:r.uid,programId:e})}),await o.commit(),console.log("[programService] Program updated successfully:",e)}catch(r){throw console.error("[programService] Error updating program:",r),r}},Ms=async e=>{try{const t=await ge(),r=q(H,me,e),n=await he(r);if(!n.exists())throw new Error("Program not found");if(n.data().userId!==t.uid)throw new Error("You can only delete your own programs");const o=ke(H);(await qe(ie(r,"sessions"))).docs.forEach(a=>{o.delete(a.ref)}),o.delete(r),await o.commit(),console.log("[programService] Program deleted successfully:",e)}catch(t){throw console.error("[programService] Error deleting program:",t),t}},oa=async(e,t)=>{try{const r=await ge();console.log("[programService] Deleting session:",{programId:e,sessionId:t});const n=q(H,me,e),s=await he(n);if(!s.exists())throw new Error("Program not found");if(s.data().userId!==r.uid)throw new Error("You can only delete sessions from your own programs");const i=q(ie(n,"sessions"),t);if(!(await he(i)).exists())throw new Error("Session not found");const u=ke(H);u.delete(i),u.update(n,{updatedAt:K()}),await u.commit(),console.log("[programService] Session deleted successfully:",{programId:e,sessionId:t})}catch(r){throw console.error("[programService] Error deleting session:",r),r}},sa=async(e,t)=>{try{const r=await ge();console.log("[programService] Creating new session:",{programId:e,sessionName:t.name,exerciseCount:t.exercises.length});const n=q(H,me,e),s=await he(n);if(!s.exists())throw new Error("Program not found");if(s.data().userId!==r.uid)throw new Error("You can only add sessions to your own programs");const i=t.exercises.map(d=>{var v,g;const h=!d.id||d.id.startsWith("temp-")?crypto.randomUUID():d.id,m=d.setsData?d.setsData.map(p=>({reps:p.reps||d.reps||10,weight:typeof p.weight=="number"?p.weight:d.weight||0,difficulty:p.difficulty||"MODERATE"})):Array(d.sets||3).fill({reps:d.reps||10,weight:d.weight||0,difficulty:"MODERATE"});return{id:h,name:d.name,sets:m.length,reps:((v=m[0])==null?void 0:v.reps)||d.reps||10,weight:((g=m[0])==null?void 0:g.weight)||d.weight||0,setsData:m}}),a=ie(n,"sessions"),u=q(a),c={id:u.id,name:t.name,exercises:i,order:t.order??0,userId:r.uid,programId:e,createdAt:K(),updatedAt:K()},l=ke(H);return l.set(u,c),l.update(n,{updatedAt:K()}),await l.commit(),console.log("[programService] Session created successfully:",{programId:e,sessionId:u.id,sessionName:t.name,exerciseCount:i.length}),u.id}catch(r){throw console.error("[programService] Error creating session:",r),r}},Us=async(e,t,r)=>{try{const n=await ge();console.log("[programService] Updating session exercises:",{programId:e,sessionId:t,exerciseCount:r.length});const s=q(H,me,e),o=await he(s);if(!o.exists())throw new Error("Program not found");if(o.data().userId!==n.uid)throw new Error("You can only update your own programs");const a=ie(s,"sessions"),u=q(a,t),c=await he(u);c.exists()||console.log("[programService] Session not found, creating new session:",t);const l=r.map(m=>{var p,P;const v=!m.id||m.id.startsWith("temp-")?crypto.randomUUID():m.id,g=m.setsData?m.setsData.map(E=>({reps:E.reps||m.reps||10,weight:typeof E.weight=="number"?E.weight:m.weight||0,difficulty:E.difficulty||"MODERATE"})):Array(m.sets||3).fill({reps:m.reps||10,weight:m.weight||0,difficulty:"MODERATE"});return{id:v,name:m.name,sets:g.length,reps:((p=g[0])==null?void 0:p.reps)||m.reps||10,weight:((P=g[0])==null?void 0:P.weight)||m.weight||0,setsData:g}}),d=ke(H),h={exercises:l,updatedAt:K(),userId:n.uid,name:c.exists()?c.data().name:"New Session",order:c.exists()?c.data().order:0,programId:e};d.set(u,h,{merge:!0}),d.update(s,{updatedAt:K()}),await d.commit(),console.log("[programService] Session updated successfully:",{programId:e,sessionId:t,exerciseCount:l.length,sessionData:h}),console.log("[programService] Session exercises updated successfully:",{programId:e,sessionId:t,exerciseCount:l.length})}catch(n){throw console.error("[programService] Error updating session exercises:",n),n}},Fs=async()=>{var r,n;const e=await ge(),t={name:"Test Strength Program",description:"A test program to verify permissions",level:"beginner",createdBy:e.uid,userId:e.uid,sessions:[{id:"temp-"+Date.now(),name:"Day 1 - Push",userId:e.uid,exercises:[{id:"1",name:"Bench Press",sets:3,reps:10,weight:60}]}]};console.log("[TEST] Creating test program with data:",{name:t.name,userId:t.userId,level:t.level,sessionCount:t.sessions.length});try{const s=se();console.log("[TEST] Current auth state:",{isAuthenticated:!!s.currentUser,userId:(r=s.currentUser)==null?void 0:r.uid,email:(n=s.currentUser)==null?void 0:n.email}),await on(t),console.log("[TEST] Test program created successfully");const o=await nn();if(console.log("[TEST] Retrieved programs:",o),o.length>0){const i=o[o.length-1];console.log("[TEST] Last program details:",{id:i.id,userId:i.userId,sessions:i.sessions.map(a=>({id:a.id,userId:a.userId,name:a.name}))})}}catch(s){throw console.error("[TEST] Error in test:",s),s}},sn=x.createContext(void 0),Bs=({children:e})=>{const[t,r]=x.useState([]),[n,s]=x.useState(!0),[o,i]=x.useState(null),[a,u]=x.useState(Et.currentUser);x.useEffect(()=>{const v=tt(Et,g=>{u(g)});return()=>v()},[]);const c=x.useCallback(async()=>{if(!a){r([]),s(!1);return}s(!0),i(null);try{console.log("[ProgramsContext] Fetching programs for user:",a.uid);const v=await nn();console.log("[ProgramsContext] Fetched programs:",{count:v.length,programs:v.map(g=>{var p;return{id:g.id,name:g.name,sessionCount:((p=g.sessions)==null?void 0:p.length)||0}})}),r(v)}catch(v){const g=v instanceof Error?v.message:"Failed to fetch programs";console.error("[ProgramsContext] Error fetching programs:",v),i(g)}finally{s(!1)}},[a]);x.useEffect(()=>{a&&(console.log("[ProgramsContext] User changed, refreshing programs"),c())},[c,a]);const l=async v=>{if(!a)throw new Error("User not authenticated");s(!0),i(null);try{console.log("[ProgramsContext] Creating program:",v),await on({...v,userId:a.uid}),console.log("[ProgramsContext] Program created successfully"),await c()}catch(g){const p=g instanceof Error?g.message:"Failed to create program";throw console.error("[ProgramsContext] Error creating program:",g),i(p),g}finally{s(!1)}},d=async(v,g)=>{await $s(v,g),c()},h=async(v,g,p)=>{await Us(v,g,p),c()},m=async v=>{await Ms(v),c()};return f.jsx(sn.Provider,{value:{programs:t,isLoading:n,error:o,refresh:c,addProgram:l,updateProgram:d,updateSessionInProgram:h,deleteProgram:m},children:e})},an=()=>{const e=x.useContext(sn);if(e===void 0)throw new Error("usePrograms must be used within a ProgramsProvider");return e};let Ws={data:""},Vs=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Ws,zs=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,qs=/\/\*[^]*?\*\/|  +/g,kr=/\n+/g,le=(e,t)=>{let r="",n="",s="";for(let o in e){let i=e[o];o[0]=="@"?o[1]=="i"?r=o+" "+i+";":n+=o[1]=="f"?le(i,o):o+"{"+le(i,o[1]=="k"?"":t)+"}":typeof i=="object"?n+=le(i,t?t.replace(/([^,])+/g,a=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,a):a?a+" "+u:u)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=le.p?le.p(o,i):o+":"+i+";")}return r+(t&&s?t+"{"+s+"}":s)+n},oe={},cn=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+cn(e[r]);return t}return e},Hs=(e,t,r,n,s)=>{let o=cn(e),i=oe[o]||(oe[o]=(u=>{let c=0,l=11;for(;c<u.length;)l=101*l+u.charCodeAt(c++)>>>0;return"go"+l})(o));if(!oe[i]){let u=o!==e?e:(c=>{let l,d,h=[{}];for(;l=zs.exec(c.replace(qs,""));)l[4]?h.shift():l[3]?(d=l[3].replace(kr," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][l[1]]=l[2].replace(kr," ").trim();return h[0]})(e);oe[i]=le(s?{["@keyframes "+i]:u}:u,r?"":"."+i)}let a=r&&oe.g?oe.g:null;return r&&(oe.g=oe[i]),((u,c,l,d)=>{d?c.data=c.data.replace(d,u):c.data.indexOf(u)===-1&&(c.data=l?u+c.data:c.data+u)})(oe[i],t,n,a),i},Ks=(e,t,r)=>e.reduce((n,s,o)=>{let i=t[o];if(i&&i.call){let a=i(r),u=a&&a.props&&a.props.className||/^go/.test(a)&&a;i=u?"."+u:a&&typeof a=="object"?a.props?"":le(a,""):a===!1?"":a}return n+s+(i??"")},"");function rt(e){let t=this||{},r=e.call?e(t.p):e;return Hs(r.unshift?r.raw?Ks(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,Vs(t.target),t.g,t.o,t.k)}let un,It,Tt;rt.bind({g:1});let ce=rt.bind({k:1});function Gs(e,t,r,n){le.p=t,un=e,It=r,Tt=n}function ve(e,t){let r=this||{};return function(){let n=arguments;function s(o,i){let a=Object.assign({},o),u=a.className||s.className;r.p=Object.assign({theme:It&&It()},a),r.o=/ *go\d+/.test(u),a.className=rt.apply(r,n)+(u?" "+u:"");let c=e;return e[0]&&(c=a.as||e,delete a.as),Tt&&c[0]&&Tt(a),un(c,a)}return s}}var Ys=e=>typeof e=="function",et=(e,t)=>Ys(e)?e(t):e,Xs=(()=>{let e=0;return()=>(++e).toString()})(),ln=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Js=20,dn=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Js)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return dn(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},ze=[],Se={toasts:[],pausedAt:void 0},_e=e=>{Se=dn(Se,e),ze.forEach(t=>{t(Se)})},Zs={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Qs=(e={})=>{let[t,r]=x.useState(Se),n=x.useRef(Se);x.useEffect(()=>(n.current!==Se&&r(Se),ze.push(r),()=>{let o=ze.indexOf(r);o>-1&&ze.splice(o,1)}),[]);let s=t.toasts.map(o=>{var i,a,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((i=e[o.type])==null?void 0:i.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((a=e[o.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||Zs[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...t,toasts:s}},ei=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Xs()}),Ue=e=>(t,r)=>{let n=ei(t,e,r);return _e({type:2,toast:n}),n.id},z=(e,t)=>Ue("blank")(e,t);z.error=Ue("error");z.success=Ue("success");z.loading=Ue("loading");z.custom=Ue("custom");z.dismiss=e=>{_e({type:3,toastId:e})};z.remove=e=>_e({type:4,toastId:e});z.promise=(e,t,r)=>{let n=z.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let o=t.success?et(t.success,s):void 0;return o?z.success(o,{id:n,...r,...r==null?void 0:r.success}):z.dismiss(n),s}).catch(s=>{let o=t.error?et(t.error,s):void 0;o?z.error(o,{id:n,...r,...r==null?void 0:r.error}):z.dismiss(n)}),e};var ti=(e,t)=>{_e({type:1,toast:{id:e,height:t}})},ri=()=>{_e({type:5,time:Date.now()})},De=new Map,ni=1e3,oi=(e,t=ni)=>{if(De.has(e))return;let r=setTimeout(()=>{De.delete(e),_e({type:4,toastId:e})},t);De.set(e,r)},si=e=>{let{toasts:t,pausedAt:r}=Qs(e);x.useEffect(()=>{if(r)return;let o=Date.now(),i=t.map(a=>{if(a.duration===1/0)return;let u=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(u<0){a.visible&&z.dismiss(a.id);return}return setTimeout(()=>z.dismiss(a.id),u)});return()=>{i.forEach(a=>a&&clearTimeout(a))}},[t,r]);let n=x.useCallback(()=>{r&&_e({type:6,time:Date.now()})},[r]),s=x.useCallback((o,i)=>{let{reverseOrder:a=!1,gutter:u=8,defaultPosition:c}=i||{},l=t.filter(m=>(m.position||c)===(o.position||c)&&m.height),d=l.findIndex(m=>m.id===o.id),h=l.filter((m,v)=>v<d&&m.visible).length;return l.filter(m=>m.visible).slice(...a?[h+1]:[0,h]).reduce((m,v)=>m+(v.height||0)+u,0)},[t]);return x.useEffect(()=>{t.forEach(o=>{if(o.dismissed)oi(o.id,o.removeDelay);else{let i=De.get(o.id);i&&(clearTimeout(i),De.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:ti,startPause:ri,endPause:n,calculateOffset:s}}},ii=ce`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ai=ce`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ci=ce`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ui=ve("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ii} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ai} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ci} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,li=ce`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,di=ve("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${li} 1s linear infinite;
`,fi=ce`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,hi=ce`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,pi=ve("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fi} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${hi} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mi=ve("div")`
  position: absolute;
`,gi=ve("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,vi=ce`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yi=ve("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${vi} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,bi=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?x.createElement(yi,null,t):t:r==="blank"?null:x.createElement(gi,null,x.createElement(di,{...n}),r!=="loading"&&x.createElement(mi,null,r==="error"?x.createElement(ui,{...n}):x.createElement(pi,{...n})))},wi=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,xi=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Si="0%{opacity:0;} 100%{opacity:1;}",Ei="0%{opacity:1;} 100%{opacity:0;}",_i=ve("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Pi=ve("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ji=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=ln()?[Si,Ei]:[wi(r),xi(r)];return{animation:t?`${ce(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ce(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Oi=x.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?ji(e.position||t||"top-center",e.visible):{opacity:0},o=x.createElement(bi,{toast:e}),i=x.createElement(Pi,{...e.ariaProps},et(e.message,e));return x.createElement(_i,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:o,message:i}):x.createElement(x.Fragment,null,o,i))});Gs(x.createElement);var Ri=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let o=x.useCallback(i=>{if(i){let a=()=>{let u=i.getBoundingClientRect().height;n(e,u)};a(),new MutationObserver(a).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return x.createElement("div",{ref:o,className:t,style:r},s)},Ai=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ln()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},ki=rt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,We=16,Ii=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:o,containerClassName:i})=>{let{toasts:a,handlers:u}=si(r);return x.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:We,left:We,right:We,bottom:We,pointerEvents:"none",...o},className:i,onMouseEnter:u.startPause,onMouseLeave:u.endPause},a.map(c=>{let l=c.position||t,d=u.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),h=Ai(l,d);return x.createElement(Ri,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?ki:"",style:h},c.type==="custom"?et(c.message,c):s?s(c):x.createElement(Oi,{toast:c,position:l}))}))};const Ti=({children:e})=>f.jsx(Cs,{store:je,children:f.jsx(mn,{children:f.jsxs(Bs,{children:[e,f.jsx(Ii,{position:"top-center",toastOptions:{duration:2e3,style:{background:"#2a2a2a",color:"#fff"}}})]})})}),Ni=({isOpen:e,onClose:t})=>{const[r]=x.useState([{id:"darkMode",label:"Dark Mode",type:"switch",value:!0},{id:"defaultIncrements",label:"Default Weight Increments",type:"select",value:2.5,options:[{label:"1.0 kg",value:1},{label:"2.5 kg",value:2.5},{label:"5.0 kg",value:5}]}]);return e?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",children:f.jsx("div",{className:"fixed inset-y-0 right-0 max-w-sm w-full bg-bg-primary animate-slide-in-right",children:f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsx("div",{className:"p-4 border-b border-border",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Settings"}),f.jsx("button",{onClick:t,className:"p-2 hover:bg-bg-secondary rounded-full transition-colors",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:f.jsx("div",{className:"space-y-4",children:r.map(n=>{var s;return f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-text-primary",children:n.label}),n.type==="switch"?f.jsx("button",{className:`w-12 h-6 rounded-full transition-colors ${n.value?"bg-accent-primary":"bg-bg-tertiary"}`,children:f.jsx("div",{className:`w-5 h-5 rounded-full bg-white transform transition-transform ${n.value?"translate-x-6":"translate-x-1"}`})}):n.type==="select"?f.jsx("select",{value:n.value,className:"bg-bg-tertiary text-text-primary px-3 py-1 rounded-md",children:(s=n.options)==null?void 0:s.map(o=>f.jsx("option",{value:o.value,children:o.label},o.value))}):null]},n.id)})})}),f.jsx("div",{className:"p-4 border-t border-border",children:f.jsx("div",{className:"text-sm text-text-secondary text-center",children:"App Version 1.0.0"})})]})})}):null},Ci=({isOpen:e,onClose:t})=>e?f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg shadow-xl max-w-md w-full p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold text-white",children:"Superset Guide"}),f.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-lg transition-colors","aria-label":"Close guide",children:f.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"space-y-4 text-gray-300",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-white mb-2",children:"What is a Superset?"}),f.jsx("p",{className:"text-sm",children:"A superset is when you perform two or more exercises back-to-back with little to no rest between them. This increases intensity and saves time."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-white mb-2",children:"How to Create a Superset:"}),f.jsxs("ol",{className:"text-sm space-y-1 list-decimal list-inside",children:[f.jsx("li",{children:"Add at least 2 exercises to your workout"}),f.jsx("li",{children:'Click "Create Superset" button'}),f.jsx("li",{children:"Select the exercises you want to group"}),f.jsx("li",{children:"Give your superset a name (optional)"}),f.jsx("li",{children:'Click "Create" to finalize'})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-white mb-2",children:"Best Practices:"}),f.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[f.jsx("li",{children:"Group 2-3 exercises maximum"}),f.jsx("li",{children:"Use opposing muscle groups (e.g., chest + back)"}),f.jsx("li",{children:"Keep rest between exercises minimal (10-30s)"}),f.jsx("li",{children:"Rest normally between superset rounds"})]})]}),f.jsxs("div",{className:"bg-[#2196F3]/10 border border-[#2196F3] rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("svg",{className:"w-4 h-4 text-[#2196F3]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"text-sm font-medium text-white",children:"Tip"})]}),f.jsx("p",{className:"text-sm text-gray-300",children:"Exercises in a superset will be highlighted with a blue border and connected visually."})]})]}),f.jsx("button",{onClick:t,className:"w-full mt-6 px-4 py-2 bg-[#8B5CF6] text-white rounded-lg hover:bg-[#7C3AED] transition-colors",children:"Got it!"})]})}):null,Di=({isOpen:e,onClose:t,onImport:r,onExport:n,onShowWorkoutSummary:s,onNavigateToday:o,onNavigatePrograms:i,onNavigateExercises:a,onNavigateDashboard:u})=>{const[c,l]=x.useState(!1),[d,h]=x.useState(!1);return e?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 transition-opacity",onClick:t}),f.jsxs("div",{className:"fixed left-0 top-0 bottom-0 w-72 bg-[#23272F] z-50 shadow-xl flex flex-col translate-x-0 transition-transform duration-300 ease-in-out",children:[f.jsx("div",{className:"p-4 border-b border-[#3E4652]",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-[#F2F3F7] text-xl font-medium",children:"GYM KEEPER"}),f.jsx("button",{onClick:t,className:"p-2 hover:bg-[#2D3440] rounded-full transition-colors","aria-label":"Close Menu",children:f.jsx("svg",{className:"w-5 h-5 text-[#B0B8C1] hover:text-[#F2F3F7] transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-4",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-4 py-3 text-[#F2F3F7] hover:bg-[#2D3440] rounded-lg transition-colors",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Exercise Log"]}),u&&f.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-4 py-3 text-[#F2F3F7] hover:bg-[#2D3440] rounded-lg transition-colors",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Dashboard"]}),f.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 text-[#F2F3F7] hover:bg-[#2D3440] rounded-lg transition-colors",children:[f.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2a4 4 0 014-4h6"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"})]}),"Programs"]}),f.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 px-4 py-3 text-[#F2F3F7] hover:bg-[#2D3440] rounded-lg transition-colors",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Exercise Database"]})]}),f.jsxs("div",{className:"pt-4 border-t border-[#3E4652] space-y-1",children:[f.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 text-text-primary hover:bg-bg-secondary rounded-lg transition-colors",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Workout Summary"]}),f.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-3 text-text-primary hover:bg-bg-secondary rounded-lg transition-colors",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Data"]}),f.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-4 py-3 text-text-primary hover:bg-bg-secondary rounded-lg transition-colors",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Import Data"]}),f.jsxs("button",{onClick:()=>l(!0),className:"w-full flex items-center gap-3 px-4 py-3 text-text-primary hover:bg-bg-secondary rounded-lg transition-colors",children:[f.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]}),f.jsxs("button",{onClick:()=>h(!0),className:"w-full flex items-center gap-3 px-4 py-3 text-text-primary hover:bg-bg-secondary rounded-lg transition-colors",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Superset Guide"]})]})]})]}),f.jsx(Ni,{isOpen:c,onClose:()=>l(!1)}),f.jsx(Ci,{isOpen:d,onClose:()=>h(!1)})]}):null},Li=({children:e})=>{const[t,r]=x.useState(!1),n=Cr(),s=Ct(),o=["/"].includes(n.pathname),i=()=>{},a=()=>{},u=()=>{},c=l=>{r(!1),s(l)};return f.jsxs("div",{className:`min-h-screen flex flex-col ${o?"bg-bg-primary":"bg-bg-secondary"}`,children:[f.jsx("button",{onClick:()=>r(!0),className:"fixed top-4 left-4 z-30 p-2 rounded-full bg-bg-primary hover:bg-bg-secondary shadow-lg","aria-label":"Open Menu",children:f.jsx("svg",{className:"w-6 h-6 text-text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),f.jsx("main",{className:"flex-1 relative",children:f.jsx("div",{className:"container mx-auto px-4 py-6 pb-20",children:e})}),f.jsx(Di,{isOpen:t,onClose:()=>r(!1),onImport:a,onExport:i,onShowWorkoutSummary:u,onNavigateToday:()=>c("/"),onNavigatePrograms:()=>c("/programs"),onNavigateExercises:()=>c("/exercises?showCreate=true")})]})},$i="modulepreload",Mi=function(e){return"/"+e},Ir={},ye=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let i=function(c){return Promise.all(c.map(l=>Promise.resolve(l).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=i(r.map(c=>{if(c=Mi(c),c in Ir)return;Ir[c]=!0;const l=c.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":$i,l||(h.as="script"),h.crossOrigin="",h.href=c,u&&h.setAttribute("nonce",u),document.head.appendChild(h),l)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},Ui=()=>{const{id:e}=yn(),{programs:t,updateProgram:r}=an(),n=Ct(),s=t.find(o=>o.id===e);return s?f.jsx(fn,{program:s,onBack:()=>n("/programs"),onUpdate:o=>r(s.id,o)}):f.jsx("div",{className:"text-white p-4",children:"Program not found"})},Fi=()=>{const e=Ct(),t=Cr(),{programs:r}=an(),n=t.state;return r.length?f.jsx(fn,{program:r[0],selectionMode:!0,onBack:()=>e("/"),onUpdate:s=>{if(n!=null&&n.onSelect){const o=s.sessions.flatMap(i=>i.exercises.map(a=>({exercise:{id:a.id,name:a.name,description:"",type:"strength",category:"compound",primaryMuscles:[],secondaryMuscles:[],instructions:[],defaultUnit:"kg",metrics:{trackWeight:!0,trackReps:!0}},sets:a.setsData||[]})));n.onSelect(o)}e("/")}}):f.jsx("div",{className:"text-white p-4",children:"No programs found"})},Bi=x.lazy(()=>ye(()=>import("./Login-9L9507kO.js"),__vite__mapDeps([0,1,2,3,4]))),Wi=x.lazy(()=>ye(()=>import("./Register-MZ9zQuXF.js"),__vite__mapDeps([5,1,2,3,4]))),Vi=x.lazy(()=>ye(()=>import("./ExerciseLog-BKSI4C9r.js"),__vite__mapDeps([6,1,7,4,8,9,10,3]))),zi=x.lazy(()=>ye(()=>import("./Dashboard-CyUS77gJ.js"),__vite__mapDeps([11,1,7,4]))),qi=x.lazy(()=>ye(()=>import("./ProgramList-DpfF3G71.js"),__vite__mapDeps([12,1,8,4,13]))),fn=x.lazy(()=>ye(()=>import("./ProgramDetail-DRdSUgXx.js"),__vite__mapDeps([14,1,9,10,4,3,13]))),Hi=x.lazy(()=>ye(()=>import("./Debug-CtRm6Un-.js"),__vite__mapDeps([15,1,4]))),Ki=x.lazy(()=>ye(()=>import("./ExerciseOverview-BiT0ShrG.js"),__vite__mapDeps([16,1,4,10,3]))),we=({children:e})=>{const{isAuthenticated:t,isLoading:r}=Es(n=>n.auth);return console.log("ProtectedRoute:",{isAuthenticated:t,isLoading:r}),r?f.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-black",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600"}),f.jsx("div",{className:"ml-3 text-white",children:"Loading authentication..."})]}):t?f.jsx(f.Fragment,{children:e}):f.jsx(vn,{to:"/login"})},Gi=()=>(console.log("AppRoutes rendering"),f.jsx(x.Suspense,{fallback:f.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-black",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600"}),f.jsx("div",{className:"ml-3 text-white",children:"Loading..."})]}),children:f.jsxs(gn,{children:[f.jsx(re,{path:"/login",element:f.jsx(Bi,{})}),f.jsx(re,{path:"/register",element:f.jsx(Wi,{})}),f.jsx(re,{path:"/",element:f.jsx(we,{children:f.jsx(Vi,{})})}),f.jsx(re,{path:"/dashboard",element:f.jsx(we,{children:f.jsx(zi,{})})}),f.jsx(re,{path:"/exercises",element:f.jsx(we,{children:f.jsx(Ki,{})})}),f.jsx(re,{path:"/programs",element:f.jsx(we,{children:f.jsx(qi,{})})}),f.jsx(re,{path:"/programs/:id",element:f.jsx(we,{children:f.jsx(Ui,{})})}),f.jsx(re,{path:"/program-selection",element:f.jsx(we,{children:f.jsx(Fi,{})})}),f.jsx(re,{path:"/debug",element:f.jsx(we,{children:f.jsx(Hi,{})})})]})}));cs.polyfill();if("serviceWorker"in navigator){window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("ServiceWorker registration successful"),t.addEventListener("updatefound",()=>{const r=t.installing;r&&r.addEventListener("statechange",()=>{r.state==="installed"&&navigator.serviceWorker.controller&&window.dispatchEvent(new CustomEvent("swUpdated"))})})}).catch(t=>{console.error("ServiceWorker registration failed:",t)})});let e=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{e||(e=!0,window.location.reload())})}var Tr;(Tr=navigator.serviceWorker)==null||Tr.addEventListener("message",e=>{e.data&&e.data.type==="CACHE_UPDATED"&&console.log("Cache updated:",e.data.url)});const Yi=()=>{const[e,t]=x.useState(!1);return x.useEffect(()=>{console.log("[Auth] Initializing auth state..."),je.dispatch(gr(!0));const r=tt(Et,async n=>{console.log("[Auth] Auth state changed:",n==null?void 0:n.uid);try{if(n){const s=await he(q(Ve,"users",n.uid)),o=s.exists()?s.data():{email:n.email};je.dispatch(ht({id:n.uid,email:n.email||o.email||"",firstName:o.firstName||"",lastName:o.lastName||"",role:o.role||"athlete",createdAt:o.createdAt?new Date(o.createdAt):new Date,updatedAt:o.updatedAt?new Date(o.updatedAt):new Date})),console.log("[Auth] User authenticated:",n.uid)}else je.dispatch(ht(null)),console.log("[Auth] No user authenticated")}catch(s){console.error("[Auth] Error handling auth state change:",s),je.dispatch(ht(null))}finally{je.dispatch(gr(!1)),t(!0)}});return()=>{console.log("[Auth] Cleaning up auth listener"),r()}},[]),e?f.jsxs(Ti,{children:[f.jsx(us,{}),f.jsx(Li,{children:f.jsx(Gi,{})})]}):f.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.2em"},children:"Initializing..."})},Xi=()=>{var t,r;const e=se();console.log("[AUTH DEBUG] Current auth state:",{currentUser:e.currentUser,uid:(t=e.currentUser)==null?void 0:t.uid,email:(r=e.currentUser)==null?void 0:r.email,isSignedIn:!!e.currentUser}),tt(e,n=>{n?console.log("[AUTH DEBUG] User signed in:",{uid:n.uid,email:n.email,emailVerified:n.emailVerified,isAnonymous:n.isAnonymous}):console.log("[AUTH DEBUG] User signed out")})},Ji=async()=>{var e,t;try{const r=se();if(!r.currentUser)throw new Error("No user is currently signed in. Please sign in first.");console.log("[TEST] Testing program creation with user:",{uid:r.currentUser.uid,email:r.currentUser.email}),await Fs(),console.log("[TEST] Program creation successful!")}catch(r){console.error("[TEST] Program creation failed:",r);const n=se();throw console.log("[TEST DEBUG] Auth state during error:",{hasUser:!!n.currentUser,uid:(e=n.currentUser)==null?void 0:e.uid,email:(t=n.currentUser)==null?void 0:t.email}),r}};typeof window<"u"&&(window.debugAuth=Xi,window.testProgramCreation=Ji,window.testSimpleAuth=()=>{const e=se(),t=e.currentUser;console.log("[SIMPLE AUTH TEST]",{hasUser:!!t,uid:t==null?void 0:t.uid,email:t==null?void 0:t.email,emailVerified:t==null?void 0:t.emailVerified,authIsLoaded:e.config!=null})});const Zi=async()=>new Promise((e,t)=>{const r=se(),n=async s=>{if(!s){t(new Error("No user authenticated"));return}console.log("[PERMISSION TEST] Testing with user:",{uid:s.uid,email:s.email,emailVerified:s.emailVerified});try{const o=q(Ve,"test","permissions-test");console.log("[PERMISSION TEST] Attempting to write test document..."),await nt(o,{message:"Testing permissions",userId:s.uid,timestamp:K()}),console.log("[PERMISSION TEST]  Successfully wrote test document"),console.log("[PERMISSION TEST] Attempting to read test document...");const i=await he(o);console.log("[PERMISSION TEST]  Successfully read test document:",i.exists());const a=q(Ve,"programs","test-program-"+Date.now());console.log("[PERMISSION TEST] Attempting to write program document..."),await nt(a,{name:"Test Program",description:"Testing program creation permissions",level:"beginner",userId:s.uid,createdBy:s.uid,createdAt:K(),updatedAt:K(),sessions:[],isPublic:!1,tags:[]}),console.log("[PERMISSION TEST]  Successfully wrote program document");const u=q(Ve,`programs/${a.id}/sessions`,"test-session-"+Date.now());console.log("[PERMISSION TEST] Attempting to write session document..."),await nt(u,{name:"Test Session",exercises:[],order:0,userId:s.uid,programId:a.id,createdAt:K(),updatedAt:K()}),console.log("[PERMISSION TEST]  Successfully wrote session document"),e({success:!0,message:"All permission tests passed!",user:{uid:s.uid,email:s.email}})}catch(o){console.error("[PERMISSION TEST]  Permission test failed:",o),t(o)}};if(r.currentUser)n(r.currentUser);else{console.log("[PERMISSION TEST] Waiting for user authentication...");const s=tt(r,o=>{s(),n(o)})}});typeof window<"u"&&(window.testFirestorePermissions=Zi);"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered:",e)}).catch(e=>{console.log("SW registration failed:",e)})});const Qi=Mn.createRoot(document.getElementById("root"));Qi.render(f.jsx(bn.StrictMode,{children:f.jsx(Yi,{})}));export{Qe as R,Di as S,Me as _,Et as a,Es as b,ra as c,Ve as d,Hr as e,Ze as f,To as g,na as h,oa as i,f as j,sa as k,z as l,gr as m,ys as n,Qr as o,ht as s,an as u};
//# sourceMappingURL=index-oRYx91ZM.js.map
