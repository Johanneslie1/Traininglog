const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-S5Nropk_.js","assets/auth-Bzg5Hh_J.js","assets/Register-OaMUjXQp.js"])))=>i.map(i=>d[i]);
function XT(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function qc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jf={exports:{}},Ka={},Bf={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function JT(){if(cy)return De;cy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function I(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,O={};function A(V,W,_e){this.props=V,this.context=W,this.refs=O,this.updater=_e||k}A.prototype.isReactComponent={},A.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},A.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Q(){}Q.prototype=A.prototype;function H(V,W,_e){this.props=V,this.context=W,this.refs=O,this.updater=_e||k}var q=H.prototype=new Q;q.constructor=H,D(q,A.prototype),q.isPureReactComponent=!0;var ne=Array.isArray,K=Object.prototype.hasOwnProperty,ce={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function R(V,W,_e){var Ie,Pe={},Ve=null,be=null;if(W!=null)for(Ie in W.ref!==void 0&&(be=W.ref),W.key!==void 0&&(Ve=""+W.key),W)K.call(W,Ie)&&!N.hasOwnProperty(Ie)&&(Pe[Ie]=W[Ie]);var Ce=arguments.length-2;if(Ce===1)Pe.children=_e;else if(1<Ce){for(var Ge=Array(Ce),Tt=0;Tt<Ce;Tt++)Ge[Tt]=arguments[Tt+2];Pe.children=Ge}if(V&&V.defaultProps)for(Ie in Ce=V.defaultProps,Ce)Pe[Ie]===void 0&&(Pe[Ie]=Ce[Ie]);return{$$typeof:n,type:V,key:Ve,ref:be,props:Pe,_owner:ce.current}}function C(V,W){return{$$typeof:n,type:V.type,key:W,ref:V.ref,props:V.props,_owner:V._owner}}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function M(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(_e){return W[_e]})}var F=/\/+/g;function T(V,W){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):W.toString(36)}function J(V,W,_e,Ie,Pe){var Ve=typeof V;(Ve==="undefined"||Ve==="boolean")&&(V=null);var be=!1;if(V===null)be=!0;else switch(Ve){case"string":case"number":be=!0;break;case"object":switch(V.$$typeof){case n:case e:be=!0}}if(be)return be=V,Pe=Pe(be),V=Ie===""?"."+T(be,0):Ie,ne(Pe)?(_e="",V!=null&&(_e=V.replace(F,"$&/")+"/"),J(Pe,W,_e,"",function(Tt){return Tt})):Pe!=null&&(x(Pe)&&(Pe=C(Pe,_e+(!Pe.key||be&&be.key===Pe.key?"":(""+Pe.key).replace(F,"$&/")+"/")+V)),W.push(Pe)),1;if(be=0,Ie=Ie===""?".":Ie+":",ne(V))for(var Ce=0;Ce<V.length;Ce++){Ve=V[Ce];var Ge=Ie+T(Ve,Ce);be+=J(Ve,W,_e,Ge,Pe)}else if(Ge=I(V),typeof Ge=="function")for(V=Ge.call(V),Ce=0;!(Ve=V.next()).done;)Ve=Ve.value,Ge=Ie+T(Ve,Ce++),be+=J(Ve,W,_e,Ge,Pe);else if(Ve==="object")throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return be}function le(V,W,_e){if(V==null)return V;var Ie=[],Pe=0;return J(V,Ie,"","",function(Ve){return W.call(_e,Ve,Pe++)}),Ie}function fe(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(_e){(V._status===0||V._status===-1)&&(V._status=1,V._result=_e)},function(_e){(V._status===0||V._status===-1)&&(V._status=2,V._result=_e)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var ae={current:null},G={transition:null},se={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:G,ReactCurrentOwner:ce};function re(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:le,forEach:function(V,W,_e){le(V,function(){W.apply(this,arguments)},_e)},count:function(V){var W=0;return le(V,function(){W++}),W},toArray:function(V){return le(V,function(W){return W})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},De.Component=A,De.Fragment=t,De.Profiler=o,De.PureComponent=H,De.StrictMode=i,De.Suspense=p,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,De.act=re,De.cloneElement=function(V,W,_e){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Ie=D({},V.props),Pe=V.key,Ve=V.ref,be=V._owner;if(W!=null){if(W.ref!==void 0&&(Ve=W.ref,be=ce.current),W.key!==void 0&&(Pe=""+W.key),V.type&&V.type.defaultProps)var Ce=V.type.defaultProps;for(Ge in W)K.call(W,Ge)&&!N.hasOwnProperty(Ge)&&(Ie[Ge]=W[Ge]===void 0&&Ce!==void 0?Ce[Ge]:W[Ge])}var Ge=arguments.length-2;if(Ge===1)Ie.children=_e;else if(1<Ge){Ce=Array(Ge);for(var Tt=0;Tt<Ge;Tt++)Ce[Tt]=arguments[Tt+2];Ie.children=Ce}return{$$typeof:n,type:V.type,key:Pe,ref:Ve,props:Ie,_owner:be}},De.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},De.createElement=R,De.createFactory=function(V){var W=R.bind(null,V);return W.type=V,W},De.createRef=function(){return{current:null}},De.forwardRef=function(V){return{$$typeof:f,render:V}},De.isValidElement=x,De.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:fe}},De.memo=function(V,W){return{$$typeof:g,type:V,compare:W===void 0?null:W}},De.startTransition=function(V){var W=G.transition;G.transition={};try{V()}finally{G.transition=W}},De.unstable_act=re,De.useCallback=function(V,W){return ae.current.useCallback(V,W)},De.useContext=function(V){return ae.current.useContext(V)},De.useDebugValue=function(){},De.useDeferredValue=function(V){return ae.current.useDeferredValue(V)},De.useEffect=function(V,W){return ae.current.useEffect(V,W)},De.useId=function(){return ae.current.useId()},De.useImperativeHandle=function(V,W,_e){return ae.current.useImperativeHandle(V,W,_e)},De.useInsertionEffect=function(V,W){return ae.current.useInsertionEffect(V,W)},De.useLayoutEffect=function(V,W){return ae.current.useLayoutEffect(V,W)},De.useMemo=function(V,W){return ae.current.useMemo(V,W)},De.useReducer=function(V,W,_e){return ae.current.useReducer(V,W,_e)},De.useRef=function(V){return ae.current.useRef(V)},De.useState=function(V){return ae.current.useState(V)},De.useSyncExternalStore=function(V,W,_e){return ae.current.useSyncExternalStore(V,W,_e)},De.useTransition=function(){return ae.current.useTransition()},De.version="18.3.1",De}var hy;function Tl(){return hy||(hy=1,Bf.exports=JT()),Bf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function ZT(){if(fy)return Ka;fy=1;var n=Tl(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,g){var _,E={},I=null,k=null;g!==void 0&&(I=""+g),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(k=p.ref);for(_ in p)i.call(p,_)&&!a.hasOwnProperty(_)&&(E[_]=p[_]);if(f&&f.defaultProps)for(_ in p=f.defaultProps,p)E[_]===void 0&&(E[_]=p[_]);return{$$typeof:e,type:f,key:I,ref:k,props:E,_owner:o.current}}return Ka.Fragment=t,Ka.jsx=c,Ka.jsxs=c,Ka}var dy;function eI(){return dy||(dy=1,jf.exports=ZT()),jf.exports}var Se=eI(),ue=Tl();const M_=qc(ue),tI=XT({__proto__:null,default:M_},[ue]);var Ju={},zf={exports:{}},nn={},$f={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function nI(){return py||(py=1,function(n){function e(G,se){var re=G.length;G.push(se);e:for(;0<re;){var V=re-1>>>1,W=G[V];if(0<o(W,se))G[V]=se,G[re]=W,re=V;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var se=G[0],re=G.pop();if(re!==se){G[0]=re;e:for(var V=0,W=G.length,_e=W>>>1;V<_e;){var Ie=2*(V+1)-1,Pe=G[Ie],Ve=Ie+1,be=G[Ve];if(0>o(Pe,re))Ve<W&&0>o(be,Pe)?(G[V]=be,G[Ve]=re,V=Ve):(G[V]=Pe,G[Ie]=re,V=Ie);else if(Ve<W&&0>o(be,re))G[V]=be,G[Ve]=re,V=Ve;else break e}}return se}function o(G,se){var re=G.sortIndex-se.sortIndex;return re!==0?re:G.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],g=[],_=1,E=null,I=3,k=!1,D=!1,O=!1,A=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(G){for(var se=t(g);se!==null;){if(se.callback===null)i(g);else if(se.startTime<=G)i(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=t(g)}}function ne(G){if(O=!1,q(G),!D)if(t(p)!==null)D=!0,fe(K);else{var se=t(g);se!==null&&ae(ne,se.startTime-G)}}function K(G,se){D=!1,O&&(O=!1,Q(R),R=-1),k=!0;var re=I;try{for(q(se),E=t(p);E!==null&&(!(E.expirationTime>se)||G&&!M());){var V=E.callback;if(typeof V=="function"){E.callback=null,I=E.priorityLevel;var W=V(E.expirationTime<=se);se=n.unstable_now(),typeof W=="function"?E.callback=W:E===t(p)&&i(p),q(se)}else i(p);E=t(p)}if(E!==null)var _e=!0;else{var Ie=t(g);Ie!==null&&ae(ne,Ie.startTime-se),_e=!1}return _e}finally{E=null,I=re,k=!1}}var ce=!1,N=null,R=-1,C=5,x=-1;function M(){return!(n.unstable_now()-x<C)}function F(){if(N!==null){var G=n.unstable_now();x=G;var se=!0;try{se=N(!0,G)}finally{se?T():(ce=!1,N=null)}}else ce=!1}var T;if(typeof H=="function")T=function(){H(F)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,le=J.port2;J.port1.onmessage=F,T=function(){le.postMessage(null)}}else T=function(){A(F,0)};function fe(G){N=G,ce||(ce=!0,T())}function ae(G,se){R=A(function(){G(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){D||k||(D=!0,fe(K))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(G){switch(I){case 1:case 2:case 3:var se=3;break;default:se=I}var re=I;I=se;try{return G()}finally{I=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=I;I=G;try{return se()}finally{I=re}},n.unstable_scheduleCallback=function(G,se,re){var V=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?V+re:V):re=V,G){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=re+W,G={id:_++,callback:se,priorityLevel:G,startTime:re,expirationTime:W,sortIndex:-1},re>V?(G.sortIndex=re,e(g,G),t(p)===null&&G===t(g)&&(O?(Q(R),R=-1):O=!0,ae(ne,re-V))):(G.sortIndex=W,e(p,G),D||k||(D=!0,fe(K))),G},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(G){var se=I;return function(){var re=I;I=se;try{return G.apply(this,arguments)}finally{I=re}}}}(Wf)),Wf}var my;function rI(){return my||(my=1,$f.exports=nI()),$f.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function iI(){if(gy)return nn;gy=1;var n=Tl(),e=rI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function I(r){return p.call(E,r)?!0:p.call(_,r)?!1:g.test(r)?E[r]=!0:(_[r]=!0,!1)}function k(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function D(r,s,l,h){if(s===null||typeof s>"u"||k(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function O(r,s,l,h,d,y,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=w}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){A[r]=new O(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];A[s]=new O(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){A[r]=new O(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){A[r]=new O(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){A[r]=new O(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){A[r]=new O(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){A[r]=new O(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){A[r]=new O(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){A[r]=new O(r,5,!1,r.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function H(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(Q,H);A[s]=new O(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(Q,H);A[s]=new O(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(Q,H);A[s]=new O(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){A[r]=new O(r,1,!1,r.toLowerCase(),null,!1,!1)}),A.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){A[r]=new O(r,1,!1,r.toLowerCase(),null,!0,!0)});function q(r,s,l,h){var d=A.hasOwnProperty(s)?A[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D(s,l,d,h)&&(l=null),h||d===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):d.mustUseProperty?r[d.propertyName]=l===null?d.type===3?!1:"":l:(s=d.attributeName,h=d.attributeNamespace,l===null?r.removeAttribute(s):(d=d.type,l=d===3||d===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),ce=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),G=Symbol.iterator;function se(r){return r===null||typeof r!="object"?null:(r=G&&r[G]||r["@@iterator"],typeof r=="function"?r:null)}var re=Object.assign,V;function W(r){if(V===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||""}return`
`+V+r}var _e=!1;function Ie(r,s){if(!r||_e)return"";_e=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){h=z}r.call(s.prototype)}else{try{throw Error()}catch(z){h=z}r()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),y=h.stack.split(`
`),w=d.length-1,P=y.length-1;1<=w&&0<=P&&d[w]!==y[P];)P--;for(;1<=w&&0<=P;w--,P--)if(d[w]!==y[P]){if(w!==1||P!==1)do if(w--,P--,0>P||d[w]!==y[P]){var b=`
`+d[w].replace(" at new "," at ");return r.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",r.displayName)),b}while(1<=w&&0<=P);break}}}finally{_e=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?W(r):""}function Pe(r){switch(r.tag){case 5:return W(r.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return r=Ie(r.type,!1),r;case 11:return r=Ie(r.type.render,!1),r;case 1:return r=Ie(r.type,!0),r;default:return""}}function Ve(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case ce:return"Portal";case C:return"Profiler";case R:return"StrictMode";case T:return"Suspense";case J:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case le:return s=r.displayName||null,s!==null?s:Ve(r.type)||"Memo";case fe:s=r._payload,r=r._init;try{return Ve(r(s))}catch{}}return null}function be(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ce(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ge(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(r){var s=Ge(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){h=""+w,y.call(this,w)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function gr(r){r._valueTracker||(r._valueTracker=Tt(r))}function bs(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Ge(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function $r(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ui(r,s){var l=s.checked;return re({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ds(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Ce(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Zo(r,s){s=s.checked,s!=null&&q(r,"checked",s,!1)}function ea(r,s){Zo(r,s);var l=Ce(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Vs(r,s.type,l):s.hasOwnProperty("defaultValue")&&Vs(r,s.type,Ce(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ml(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Vs(r,s,l){(s!=="number"||$r(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var yr=Array.isArray;function vr(r,s,l,h){if(r=r.options,s){s={};for(var d=0;d<l.length;d++)s["$"+l[d]]=!0;for(l=0;l<r.length;l++)d=s.hasOwnProperty("$"+r[l].value),r[l].selected!==d&&(r[l].selected=d),d&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Ce(l),s=null,d=0;d<r.length;d++){if(r[d].value===l){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function ta(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ls(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(yr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Ce(l)}}function Ms(r,s){var l=Ce(s.value),h=Ce(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function na(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function mt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?mt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _r,ra=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(_r=_r||document.createElement("div"),_r.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=_r.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Wr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bi=["Webkit","ms","Moz","O"];Object.keys(ji).forEach(function(r){Bi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ji[s]=ji[r]})});function ia(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ji.hasOwnProperty(r)&&ji[r]?(""+s).trim():s+"px"}function sa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,d=ia(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,d):r[l]=d}}var oa=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aa(r,s){if(s){if(oa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function la(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zi=null;function Fs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Us=null,mn=null,Kn=null;function js(r){if(r=xa(r)){if(typeof Us!="function")throw Error(t(280));var s=r.stateNode;s&&(s=du(s),Us(r.stateNode,r.type,s))}}function Gn(r){mn?Kn?Kn.push(r):Kn=[r]:mn=r}function ua(){if(mn){var r=mn,s=Kn;if(Kn=mn=null,js(r),s)for(r=0;r<s.length;r++)js(s[r])}}function $i(r,s){return r(s)}function ca(){}var Er=!1;function ha(r,s,l){if(Er)return r(s,l);Er=!0;try{return $i(r,s,l)}finally{Er=!1,(mn!==null||Kn!==null)&&(ca(),ua())}}function at(r,s){var l=r.stateNode;if(l===null)return null;var h=du(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Bs=!1;if(f)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{Bs=!1}function Wi(r,s,l,h,d,y,w,P,b){var z=Array.prototype.slice.call(arguments,3);try{s.apply(l,z)}catch(ee){this.onError(ee)}}var Hi=!1,zs=null,Pn=!1,fa=null,dh={onError:function(r){Hi=!0,zs=r}};function $s(r,s,l,h,d,y,w,P,b){Hi=!1,zs=null,Wi.apply(dh,arguments)}function Fl(r,s,l,h,d,y,w,P,b){if($s.apply(this,arguments),Hi){if(Hi){var z=zs;Hi=!1,zs=null}else throw Error(t(198));Pn||(Pn=!0,fa=z)}}function Cn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function qi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function kn(r){if(Cn(r)!==r)throw Error(t(188))}function Ul(r){var s=r.alternate;if(!s){if(s=Cn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var d=l.return;if(d===null)break;var y=d.alternate;if(y===null){if(h=d.return,h!==null){l=h;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===l)return kn(d),r;if(y===h)return kn(d),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=d,h=y;else{for(var w=!1,P=d.child;P;){if(P===l){w=!0,l=d,h=y;break}if(P===h){w=!0,h=d,l=y;break}P=P.sibling}if(!w){for(P=y.child;P;){if(P===l){w=!0,l=y,h=d;break}if(P===h){w=!0,h=y,l=d;break}P=P.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function da(r){return r=Ul(r),r!==null?Ws(r):null}function Ws(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ws(r);if(s!==null)return s;r=r.sibling}return null}var Hs=e.unstable_scheduleCallback,pa=e.unstable_cancelCallback,jl=e.unstable_shouldYield,ph=e.unstable_requestPaint,Qe=e.unstable_now,Bl=e.unstable_getCurrentPriorityLevel,Ki=e.unstable_ImmediatePriority,Hr=e.unstable_UserBlockingPriority,gn=e.unstable_NormalPriority,ma=e.unstable_LowPriority,zl=e.unstable_IdlePriority,Gi=null,on=null;function $l(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Gi,r,void 0,(r.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Hl,ga=Math.log,Wl=Math.LN2;function Hl(r){return r>>>=0,r===0?32:31-(ga(r)/Wl|0)|0}var qs=64,Ks=4194304;function qr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Qi(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,d=r.suspendedLanes,y=r.pingedLanes,w=l&268435455;if(w!==0){var P=w&~d;P!==0?h=qr(P):(y&=w,y!==0&&(h=qr(y)))}else w=l&~d,w!==0?h=qr(w):y!==0&&(h=qr(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&d)===0&&(d=h&-h,y=s&-s,d>=y||d===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-Wt(s),d=1<<l,h|=r[l],s&=~d;return h}function mh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wr(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes;0<y;){var w=31-Wt(y),P=1<<w,b=d[w];b===-1?((P&l)===0||(P&h)!==0)&&(d[w]=mh(P,s)):b<=s&&(r.expiredLanes|=P),y&=~P}}function an(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Yi(){var r=qs;return qs<<=1,(qs&4194240)===0&&(qs=64),r}function Kr(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Gr(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Wt(s),r[s]=l}function Ke(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var d=31-Wt(l),y=1<<d;s[d]=0,h[d]=-1,r[d]=-1,l&=~y}}function Qr(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-Wt(l),d=1<<h;d&s|r[h]&s&&(r[h]|=s),l&=~d}}var Fe=0;function Yr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var ql,Gs,Kl,Gl,Ql,ya=!1,Qn=[],Ct=null,Nn=null,On=null,Xr=new Map,yn=new Map,Yn=[],gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yl(r,s){switch(r){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Xr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yn.delete(s.pointerId)}}function Qt(r,s,l,h,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[d]},s!==null&&(s=xa(s),s!==null&&Gs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function yh(r,s,l,h,d){switch(s){case"focusin":return Ct=Qt(Ct,r,s,l,h,d),!0;case"dragenter":return Nn=Qt(Nn,r,s,l,h,d),!0;case"mouseover":return On=Qt(On,r,s,l,h,d),!0;case"pointerover":var y=d.pointerId;return Xr.set(y,Qt(Xr.get(y)||null,r,s,l,h,d)),!0;case"gotpointercapture":return y=d.pointerId,yn.set(y,Qt(yn.get(y)||null,r,s,l,h,d)),!0}return!1}function Xl(r){var s=ts(r.target);if(s!==null){var l=Cn(s);if(l!==null){if(s=l.tag,s===13){if(s=qi(l),s!==null){r.blockedOn=s,Ql(r.priority,function(){Kl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Tr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Qs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);zi=h,l.target.dispatchEvent(h),zi=null}else return s=xa(l),s!==null&&Gs(s),r.blockedOn=l,!1;s.shift()}return!0}function Xi(r,s,l){Tr(r)&&l.delete(s)}function Jl(){ya=!1,Ct!==null&&Tr(Ct)&&(Ct=null),Nn!==null&&Tr(Nn)&&(Nn=null),On!==null&&Tr(On)&&(On=null),Xr.forEach(Xi),yn.forEach(Xi)}function xn(r,s){r.blockedOn===s&&(r.blockedOn=null,ya||(ya=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jl)))}function bn(r){function s(d){return xn(d,r)}if(0<Qn.length){xn(Qn[0],r);for(var l=1;l<Qn.length;l++){var h=Qn[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Ct!==null&&xn(Ct,r),Nn!==null&&xn(Nn,r),On!==null&&xn(On,r),Xr.forEach(s),yn.forEach(s),l=0;l<Yn.length;l++)h=Yn[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<Yn.length&&(l=Yn[0],l.blockedOn===null);)Xl(l),l.blockedOn===null&&Yn.shift()}var Ir=ne.ReactCurrentBatchConfig,Jr=!0;function et(r,s,l,h){var d=Fe,y=Ir.transition;Ir.transition=null;try{Fe=1,va(r,s,l,h)}finally{Fe=d,Ir.transition=y}}function vh(r,s,l,h){var d=Fe,y=Ir.transition;Ir.transition=null;try{Fe=4,va(r,s,l,h)}finally{Fe=d,Ir.transition=y}}function va(r,s,l,h){if(Jr){var d=Qs(r,s,l,h);if(d===null)kh(r,s,h,Ji,l),Yl(r,h);else if(yh(d,r,s,l,h))h.stopPropagation();else if(Yl(r,h),s&4&&-1<gh.indexOf(r)){for(;d!==null;){var y=xa(d);if(y!==null&&ql(y),y=Qs(r,s,l,h),y===null&&kh(r,s,h,Ji,l),y===d)break;d=y}d!==null&&h.stopPropagation()}else kh(r,s,h,null,l)}}var Ji=null;function Qs(r,s,l,h){if(Ji=null,r=Fs(h),r=ts(r),r!==null)if(s=Cn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=qi(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ji=r,null}function _a(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bl()){case Ki:return 1;case Hr:return 4;case gn:case ma:return 16;case zl:return 536870912;default:return 16}default:return 16}}var ln=null,Ys=null,Yt=null;function Ea(){if(Yt)return Yt;var r,s=Ys,l=s.length,h,d="value"in ln?ln.value:ln.textContent,y=d.length;for(r=0;r<l&&s[r]===d[r];r++);var w=l-r;for(h=1;h<=w&&s[l-h]===d[y-h];h++);return Yt=d.slice(r,1<h?1-h:void 0)}function Xs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Xn(){return!0}function wa(){return!1}function kt(r){function s(l,h,d,y,w){this._reactName=l,this._targetInst=d,this.type=h,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(l=r[P],this[P]=l?l(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xn:wa,this.isPropagationStopped=wa,this}return re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),s}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=kt(Dn),Jn=re({},Dn,{view:0,detail:0}),_h=kt(Jn),Zs,Sr,Zr,Zi=re({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Zr&&(Zr&&r.type==="mousemove"?(Zs=r.screenX-Zr.screenX,Sr=r.screenY-Zr.screenY):Sr=Zs=0,Zr=r),Zs)},movementY:function(r){return"movementY"in r?r.movementY:Sr}}),eo=kt(Zi),Ta=re({},Zi,{dataTransfer:0}),Zl=kt(Ta),to=re({},Jn,{relatedTarget:0}),no=kt(to),eu=re({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ar=kt(eu),tu=re({},Dn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),nu=kt(tu),ru=re({},Dn,{data:0}),Ia=kt(ru),ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function su(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=iu[r])?!!s[r]:!1}function Zn(){return su}var u=re({},Jn,{key:function(r){if(r.key){var s=ro[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Xs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ht[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zn,charCode:function(r){return r.type==="keypress"?Xs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Xs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=kt(u),v=re({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=kt(v),U=re({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zn}),$=kt(U),oe=re({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=kt(oe),yt=re({},Zi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=kt(yt),It=[9,13,27,32],ct=f&&"CompositionEvent"in window,vn=null;f&&"documentMode"in document&&(vn=document.documentMode);var un=f&&"TextEvent"in window&&!vn,es=f&&(!ct||vn&&8<vn&&11>=vn),io=" ",im=!1;function sm(r,s){switch(r){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function om(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var so=!1;function Gw(r,s){switch(r){case"compositionend":return om(s);case"keypress":return s.which!==32?null:(im=!0,io);case"textInput":return r=s.data,r===io&&im?null:r;default:return null}}function Qw(r,s){if(so)return r==="compositionend"||!ct&&sm(r,s)?(r=Ea(),Yt=Ys=ln=null,so=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return es&&s.locale!=="ko"?null:s.data;default:return null}}var Yw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function am(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Yw[r.type]:s==="textarea"}function lm(r,s,l,h){Gn(h),s=cu(s,"onChange"),0<s.length&&(l=new Js("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var Sa=null,Aa=null;function Xw(r){Rm(r,0)}function ou(r){var s=co(r);if(bs(s))return r}function Jw(r,s){if(r==="change")return s}var um=!1;if(f){var Eh;if(f){var wh="oninput"in document;if(!wh){var cm=document.createElement("div");cm.setAttribute("oninput","return;"),wh=typeof cm.oninput=="function"}Eh=wh}else Eh=!1;um=Eh&&(!document.documentMode||9<document.documentMode)}function hm(){Sa&&(Sa.detachEvent("onpropertychange",fm),Aa=Sa=null)}function fm(r){if(r.propertyName==="value"&&ou(Aa)){var s=[];lm(s,Aa,r,Fs(r)),ha(Xw,s)}}function Zw(r,s,l){r==="focusin"?(hm(),Sa=s,Aa=l,Sa.attachEvent("onpropertychange",fm)):r==="focusout"&&hm()}function eT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ou(Aa)}function tT(r,s){if(r==="click")return ou(s)}function nT(r,s){if(r==="input"||r==="change")return ou(s)}function rT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Vn=typeof Object.is=="function"?Object.is:rT;function Ra(r,s){if(Vn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var d=l[h];if(!p.call(s,d)||!Vn(r[d],s[d]))return!1}return!0}function dm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function pm(r,s){var l=dm(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=dm(l)}}function mm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?mm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function gm(){for(var r=window,s=$r();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=$r(r.document)}return s}function Th(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function iT(r){var s=gm(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&mm(l.ownerDocument.documentElement,l)){if(h!==null&&Th(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=l.textContent.length,y=Math.min(h.start,d);h=h.end===void 0?y:Math.min(h.end,d),!r.extend&&y>h&&(d=h,h=y,y=d),d=pm(l,y);var w=pm(l,h);d&&w&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var sT=f&&"documentMode"in document&&11>=document.documentMode,oo=null,Ih=null,Pa=null,Sh=!1;function ym(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Sh||oo==null||oo!==$r(h)||(h=oo,"selectionStart"in h&&Th(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Pa&&Ra(Pa,h)||(Pa=h,h=cu(Ih,"onSelect"),0<h.length&&(s=new Js("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=oo)))}function au(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var ao={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},Ah={},vm={};f&&(vm=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function lu(r){if(Ah[r])return Ah[r];if(!ao[r])return r;var s=ao[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in vm)return Ah[r]=s[l];return r}var _m=lu("animationend"),Em=lu("animationiteration"),wm=lu("animationstart"),Tm=lu("transitionend"),Im=new Map,Sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(r,s){Im.set(r,s),a(s,[r])}for(var Rh=0;Rh<Sm.length;Rh++){var Ph=Sm[Rh],oT=Ph.toLowerCase(),aT=Ph[0].toUpperCase()+Ph.slice(1);ei(oT,"on"+aT)}ei(_m,"onAnimationEnd"),ei(Em,"onAnimationIteration"),ei(wm,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(Tm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function Am(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,Fl(h,s,void 0,r),r.currentTarget=null}function Rm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],d=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var w=h.length-1;0<=w;w--){var P=h[w],b=P.instance,z=P.currentTarget;if(P=P.listener,b!==y&&d.isPropagationStopped())break e;Am(d,P,z),y=b}else for(w=0;w<h.length;w++){if(P=h[w],b=P.instance,z=P.currentTarget,P=P.listener,b!==y&&d.isPropagationStopped())break e;Am(d,P,z),y=b}}}if(Pn)throw r=fa,Pn=!1,fa=null,r}function Xe(r,s){var l=s[Vh];l===void 0&&(l=s[Vh]=new Set);var h=r+"__bubble";l.has(h)||(Pm(s,r,2,!1),l.add(h))}function Ch(r,s,l){var h=0;s&&(h|=4),Pm(l,r,h,s)}var uu="_reactListening"+Math.random().toString(36).slice(2);function ka(r){if(!r[uu]){r[uu]=!0,i.forEach(function(l){l!=="selectionchange"&&(lT.has(l)||Ch(l,!1,r),Ch(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[uu]||(s[uu]=!0,Ch("selectionchange",!1,s))}}function Pm(r,s,l,h){switch(_a(s)){case 1:var d=et;break;case 4:d=vh;break;default:d=va}l=d.bind(null,s,l,r),d=void 0,!Bs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,l,{capture:!0,passive:d}):r.addEventListener(s,l,!0):d!==void 0?r.addEventListener(s,l,{passive:d}):r.addEventListener(s,l,!1)}function kh(r,s,l,h,d){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var P=h.stateNode.containerInfo;if(P===d||P.nodeType===8&&P.parentNode===d)break;if(w===4)for(w=h.return;w!==null;){var b=w.tag;if((b===3||b===4)&&(b=w.stateNode.containerInfo,b===d||b.nodeType===8&&b.parentNode===d))return;w=w.return}for(;P!==null;){if(w=ts(P),w===null)return;if(b=w.tag,b===5||b===6){h=y=w;continue e}P=P.parentNode}}h=h.return}ha(function(){var z=y,ee=Fs(l),te=[];e:{var Z=Im.get(r);if(Z!==void 0){var he=Js,ge=r;switch(r){case"keypress":if(Xs(l)===0)break e;case"keydown":case"keyup":he=m;break;case"focusin":ge="focus",he=no;break;case"focusout":ge="blur",he=no;break;case"beforeblur":case"afterblur":he=no;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Zl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=$;break;case _m:case Em:case wm:he=Ar;break;case Tm:he=qe;break;case"scroll":he=_h;break;case"wheel":he=Ue;break;case"copy":case"cut":case"paste":he=nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=S}var ye=(s&4)!==0,lt=!ye&&r==="scroll",j=ye?Z!==null?Z+"Capture":null:Z;ye=[];for(var L=z,B;L!==null;){B=L;var ie=B.stateNode;if(B.tag===5&&ie!==null&&(B=ie,j!==null&&(ie=at(L,j),ie!=null&&ye.push(Na(L,ie,B)))),lt)break;L=L.return}0<ye.length&&(Z=new he(Z,ge,null,l,ee),te.push({event:Z,listeners:ye}))}}if((s&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",he=r==="mouseout"||r==="pointerout",Z&&l!==zi&&(ge=l.relatedTarget||l.fromElement)&&(ts(ge)||ge[Rr]))break e;if((he||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,he?(ge=l.relatedTarget||l.toElement,he=z,ge=ge?ts(ge):null,ge!==null&&(lt=Cn(ge),ge!==lt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(he=null,ge=z),he!==ge)){if(ye=eo,ie="onMouseLeave",j="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(ye=S,ie="onPointerLeave",j="onPointerEnter",L="pointer"),lt=he==null?Z:co(he),B=ge==null?Z:co(ge),Z=new ye(ie,L+"leave",he,l,ee),Z.target=lt,Z.relatedTarget=B,ie=null,ts(ee)===z&&(ye=new ye(j,L+"enter",ge,l,ee),ye.target=B,ye.relatedTarget=lt,ie=ye),lt=ie,he&&ge)t:{for(ye=he,j=ge,L=0,B=ye;B;B=lo(B))L++;for(B=0,ie=j;ie;ie=lo(ie))B++;for(;0<L-B;)ye=lo(ye),L--;for(;0<B-L;)j=lo(j),B--;for(;L--;){if(ye===j||j!==null&&ye===j.alternate)break t;ye=lo(ye),j=lo(j)}ye=null}else ye=null;he!==null&&Cm(te,Z,he,ye,!1),ge!==null&&lt!==null&&Cm(te,lt,ge,ye,!0)}}e:{if(Z=z?co(z):window,he=Z.nodeName&&Z.nodeName.toLowerCase(),he==="select"||he==="input"&&Z.type==="file")var ve=Jw;else if(am(Z))if(um)ve=nT;else{ve=eT;var we=Zw}else(he=Z.nodeName)&&he.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ve=tT);if(ve&&(ve=ve(r,z))){lm(te,ve,l,ee);break e}we&&we(r,Z,z),r==="focusout"&&(we=Z._wrapperState)&&we.controlled&&Z.type==="number"&&Vs(Z,"number",Z.value)}switch(we=z?co(z):window,r){case"focusin":(am(we)||we.contentEditable==="true")&&(oo=we,Ih=z,Pa=null);break;case"focusout":Pa=Ih=oo=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,ym(te,l,ee);break;case"selectionchange":if(sT)break;case"keydown":case"keyup":ym(te,l,ee)}var Te;if(ct)e:{switch(r){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else so?sm(r,l)&&(ke="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(es&&l.locale!=="ko"&&(so||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&so&&(Te=Ea()):(ln=ee,Ys="value"in ln?ln.value:ln.textContent,so=!0)),we=cu(z,ke),0<we.length&&(ke=new Ia(ke,r,null,l,ee),te.push({event:ke,listeners:we}),Te?ke.data=Te:(Te=om(l),Te!==null&&(ke.data=Te)))),(Te=un?Gw(r,l):Qw(r,l))&&(z=cu(z,"onBeforeInput"),0<z.length&&(ee=new Ia("onBeforeInput","beforeinput",null,l,ee),te.push({event:ee,listeners:z}),ee.data=Te))}Rm(te,s)})}function Na(r,s,l){return{instance:r,listener:s,currentTarget:l}}function cu(r,s){for(var l=s+"Capture",h=[];r!==null;){var d=r,y=d.stateNode;d.tag===5&&y!==null&&(d=y,y=at(r,l),y!=null&&h.unshift(Na(r,y,d)),y=at(r,s),y!=null&&h.push(Na(r,y,d))),r=r.return}return h}function lo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Cm(r,s,l,h,d){for(var y=s._reactName,w=[];l!==null&&l!==h;){var P=l,b=P.alternate,z=P.stateNode;if(b!==null&&b===h)break;P.tag===5&&z!==null&&(P=z,d?(b=at(l,y),b!=null&&w.unshift(Na(l,b,P))):d||(b=at(l,y),b!=null&&w.push(Na(l,b,P)))),l=l.return}w.length!==0&&r.push({event:s,listeners:w})}var uT=/\r\n?/g,cT=/\u0000|\uFFFD/g;function km(r){return(typeof r=="string"?r:""+r).replace(uT,`
`).replace(cT,"")}function hu(r,s,l){if(s=km(s),km(r)!==s&&l)throw Error(t(425))}function fu(){}var Nh=null,Oh=null;function xh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bh=typeof setTimeout=="function"?setTimeout:void 0,hT=typeof clearTimeout=="function"?clearTimeout:void 0,Nm=typeof Promise=="function"?Promise:void 0,fT=typeof queueMicrotask=="function"?queueMicrotask:typeof Nm<"u"?function(r){return Nm.resolve(null).then(r).catch(dT)}:bh;function dT(r){setTimeout(function(){throw r})}function Dh(r,s){var l=s,h=0;do{var d=l.nextSibling;if(r.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(h===0){r.removeChild(d),bn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=d}while(l);bn(s)}function ti(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Om(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var uo=Math.random().toString(36).slice(2),er="__reactFiber$"+uo,Oa="__reactProps$"+uo,Rr="__reactContainer$"+uo,Vh="__reactEvents$"+uo,pT="__reactListeners$"+uo,mT="__reactHandles$"+uo;function ts(r){var s=r[er];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Rr]||l[er]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Om(r);r!==null;){if(l=r[er])return l;r=Om(r)}return s}r=l,l=r.parentNode}return null}function xa(r){return r=r[er]||r[Rr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function co(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function du(r){return r[Oa]||null}var Lh=[],ho=-1;function ni(r){return{current:r}}function Je(r){0>ho||(r.current=Lh[ho],Lh[ho]=null,ho--)}function Ye(r,s){ho++,Lh[ho]=r.current,r.current=s}var ri={},Lt=ni(ri),Xt=ni(!1),ns=ri;function fo(r,s){var l=r.type.contextTypes;if(!l)return ri;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},y;for(y in l)d[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function Jt(r){return r=r.childContextTypes,r!=null}function pu(){Je(Xt),Je(Lt)}function xm(r,s,l){if(Lt.current!==ri)throw Error(t(168));Ye(Lt,s),Ye(Xt,l)}function bm(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(t(108,be(r)||"Unknown",d));return re({},l,h)}function mu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ri,ns=Lt.current,Ye(Lt,r),Ye(Xt,Xt.current),!0}function Dm(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=bm(r,s,ns),h.__reactInternalMemoizedMergedChildContext=r,Je(Xt),Je(Lt),Ye(Lt,r)):Je(Xt),Ye(Xt,l)}var Pr=null,gu=!1,Mh=!1;function Vm(r){Pr===null?Pr=[r]:Pr.push(r)}function gT(r){gu=!0,Vm(r)}function ii(){if(!Mh&&Pr!==null){Mh=!0;var r=0,s=Fe;try{var l=Pr;for(Fe=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Pr=null,gu=!1}catch(d){throw Pr!==null&&(Pr=Pr.slice(r+1)),Hs(Ki,ii),d}finally{Fe=s,Mh=!1}}return null}var po=[],mo=0,yu=null,vu=0,_n=[],En=0,rs=null,Cr=1,kr="";function is(r,s){po[mo++]=vu,po[mo++]=yu,yu=r,vu=s}function Lm(r,s,l){_n[En++]=Cr,_n[En++]=kr,_n[En++]=rs,rs=r;var h=Cr;r=kr;var d=32-Wt(h)-1;h&=~(1<<d),l+=1;var y=32-Wt(s)+d;if(30<y){var w=d-d%5;y=(h&(1<<w)-1).toString(32),h>>=w,d-=w,Cr=1<<32-Wt(s)+d|l<<d|h,kr=y+r}else Cr=1<<y|l<<d|h,kr=r}function Fh(r){r.return!==null&&(is(r,1),Lm(r,1,0))}function Uh(r){for(;r===yu;)yu=po[--mo],po[mo]=null,vu=po[--mo],po[mo]=null;for(;r===rs;)rs=_n[--En],_n[En]=null,kr=_n[--En],_n[En]=null,Cr=_n[--En],_n[En]=null}var cn=null,hn=null,tt=!1,Ln=null;function Mm(r,s){var l=Sn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Fm(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,cn=r,hn=ti(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,cn=r,hn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=rs!==null?{id:Cr,overflow:kr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Sn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,cn=r,hn=null,!0):!1;default:return!1}}function jh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Bh(r){if(tt){var s=hn;if(s){var l=s;if(!Fm(r,s)){if(jh(r))throw Error(t(418));s=ti(l.nextSibling);var h=cn;s&&Fm(r,s)?Mm(h,l):(r.flags=r.flags&-4097|2,tt=!1,cn=r)}}else{if(jh(r))throw Error(t(418));r.flags=r.flags&-4097|2,tt=!1,cn=r}}}function Um(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;cn=r}function _u(r){if(r!==cn)return!1;if(!tt)return Um(r),tt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!xh(r.type,r.memoizedProps)),s&&(s=hn)){if(jh(r))throw jm(),Error(t(418));for(;s;)Mm(r,s),s=ti(s.nextSibling)}if(Um(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){hn=ti(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}hn=null}}else hn=cn?ti(r.stateNode.nextSibling):null;return!0}function jm(){for(var r=hn;r;)r=ti(r.nextSibling)}function go(){hn=cn=null,tt=!1}function zh(r){Ln===null?Ln=[r]:Ln.push(r)}var yT=ne.ReactCurrentBatchConfig;function ba(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var d=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(w){var P=d.refs;w===null?delete P[y]:P[y]=w},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Eu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Bm(r){var s=r._init;return s(r._payload)}function zm(r){function s(j,L){if(r){var B=j.deletions;B===null?(j.deletions=[L],j.flags|=16):B.push(L)}}function l(j,L){if(!r)return null;for(;L!==null;)s(j,L),L=L.sibling;return null}function h(j,L){for(j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function d(j,L){return j=fi(j,L),j.index=0,j.sibling=null,j}function y(j,L,B){return j.index=B,r?(B=j.alternate,B!==null?(B=B.index,B<L?(j.flags|=2,L):B):(j.flags|=2,L)):(j.flags|=1048576,L)}function w(j){return r&&j.alternate===null&&(j.flags|=2),j}function P(j,L,B,ie){return L===null||L.tag!==6?(L=Df(B,j.mode,ie),L.return=j,L):(L=d(L,B),L.return=j,L)}function b(j,L,B,ie){var ve=B.type;return ve===N?ee(j,L,B.props.children,ie,B.key):L!==null&&(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===fe&&Bm(ve)===L.type)?(ie=d(L,B.props),ie.ref=ba(j,L,B),ie.return=j,ie):(ie=Wu(B.type,B.key,B.props,null,j.mode,ie),ie.ref=ba(j,L,B),ie.return=j,ie)}function z(j,L,B,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=Vf(B,j.mode,ie),L.return=j,L):(L=d(L,B.children||[]),L.return=j,L)}function ee(j,L,B,ie,ve){return L===null||L.tag!==7?(L=fs(B,j.mode,ie,ve),L.return=j,L):(L=d(L,B),L.return=j,L)}function te(j,L,B){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Df(""+L,j.mode,B),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case K:return B=Wu(L.type,L.key,L.props,null,j.mode,B),B.ref=ba(j,null,L),B.return=j,B;case ce:return L=Vf(L,j.mode,B),L.return=j,L;case fe:var ie=L._init;return te(j,ie(L._payload),B)}if(yr(L)||se(L))return L=fs(L,j.mode,B,null),L.return=j,L;Eu(j,L)}return null}function Z(j,L,B,ie){var ve=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ve!==null?null:P(j,L,""+B,ie);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case K:return B.key===ve?b(j,L,B,ie):null;case ce:return B.key===ve?z(j,L,B,ie):null;case fe:return ve=B._init,Z(j,L,ve(B._payload),ie)}if(yr(B)||se(B))return ve!==null?null:ee(j,L,B,ie,null);Eu(j,B)}return null}function he(j,L,B,ie,ve){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return j=j.get(B)||null,P(L,j,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case K:return j=j.get(ie.key===null?B:ie.key)||null,b(L,j,ie,ve);case ce:return j=j.get(ie.key===null?B:ie.key)||null,z(L,j,ie,ve);case fe:var we=ie._init;return he(j,L,B,we(ie._payload),ve)}if(yr(ie)||se(ie))return j=j.get(B)||null,ee(L,j,ie,ve,null);Eu(L,ie)}return null}function ge(j,L,B,ie){for(var ve=null,we=null,Te=L,ke=L=0,Rt=null;Te!==null&&ke<B.length;ke++){Te.index>ke?(Rt=Te,Te=null):Rt=Te.sibling;var ze=Z(j,Te,B[ke],ie);if(ze===null){Te===null&&(Te=Rt);break}r&&Te&&ze.alternate===null&&s(j,Te),L=y(ze,L,ke),we===null?ve=ze:we.sibling=ze,we=ze,Te=Rt}if(ke===B.length)return l(j,Te),tt&&is(j,ke),ve;if(Te===null){for(;ke<B.length;ke++)Te=te(j,B[ke],ie),Te!==null&&(L=y(Te,L,ke),we===null?ve=Te:we.sibling=Te,we=Te);return tt&&is(j,ke),ve}for(Te=h(j,Te);ke<B.length;ke++)Rt=he(Te,j,ke,B[ke],ie),Rt!==null&&(r&&Rt.alternate!==null&&Te.delete(Rt.key===null?ke:Rt.key),L=y(Rt,L,ke),we===null?ve=Rt:we.sibling=Rt,we=Rt);return r&&Te.forEach(function(di){return s(j,di)}),tt&&is(j,ke),ve}function ye(j,L,B,ie){var ve=se(B);if(typeof ve!="function")throw Error(t(150));if(B=ve.call(B),B==null)throw Error(t(151));for(var we=ve=null,Te=L,ke=L=0,Rt=null,ze=B.next();Te!==null&&!ze.done;ke++,ze=B.next()){Te.index>ke?(Rt=Te,Te=null):Rt=Te.sibling;var di=Z(j,Te,ze.value,ie);if(di===null){Te===null&&(Te=Rt);break}r&&Te&&di.alternate===null&&s(j,Te),L=y(di,L,ke),we===null?ve=di:we.sibling=di,we=di,Te=Rt}if(ze.done)return l(j,Te),tt&&is(j,ke),ve;if(Te===null){for(;!ze.done;ke++,ze=B.next())ze=te(j,ze.value,ie),ze!==null&&(L=y(ze,L,ke),we===null?ve=ze:we.sibling=ze,we=ze);return tt&&is(j,ke),ve}for(Te=h(j,Te);!ze.done;ke++,ze=B.next())ze=he(Te,j,ke,ze.value,ie),ze!==null&&(r&&ze.alternate!==null&&Te.delete(ze.key===null?ke:ze.key),L=y(ze,L,ke),we===null?ve=ze:we.sibling=ze,we=ze);return r&&Te.forEach(function(YT){return s(j,YT)}),tt&&is(j,ke),ve}function lt(j,L,B,ie){if(typeof B=="object"&&B!==null&&B.type===N&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case K:e:{for(var ve=B.key,we=L;we!==null;){if(we.key===ve){if(ve=B.type,ve===N){if(we.tag===7){l(j,we.sibling),L=d(we,B.props.children),L.return=j,j=L;break e}}else if(we.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===fe&&Bm(ve)===we.type){l(j,we.sibling),L=d(we,B.props),L.ref=ba(j,we,B),L.return=j,j=L;break e}l(j,we);break}else s(j,we);we=we.sibling}B.type===N?(L=fs(B.props.children,j.mode,ie,B.key),L.return=j,j=L):(ie=Wu(B.type,B.key,B.props,null,j.mode,ie),ie.ref=ba(j,L,B),ie.return=j,j=ie)}return w(j);case ce:e:{for(we=B.key;L!==null;){if(L.key===we)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){l(j,L.sibling),L=d(L,B.children||[]),L.return=j,j=L;break e}else{l(j,L);break}else s(j,L);L=L.sibling}L=Vf(B,j.mode,ie),L.return=j,j=L}return w(j);case fe:return we=B._init,lt(j,L,we(B._payload),ie)}if(yr(B))return ge(j,L,B,ie);if(se(B))return ye(j,L,B,ie);Eu(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,L!==null&&L.tag===6?(l(j,L.sibling),L=d(L,B),L.return=j,j=L):(l(j,L),L=Df(B,j.mode,ie),L.return=j,j=L),w(j)):l(j,L)}return lt}var yo=zm(!0),$m=zm(!1),wu=ni(null),Tu=null,vo=null,$h=null;function Wh(){$h=vo=Tu=null}function Hh(r){var s=wu.current;Je(wu),r._currentValue=s}function qh(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function _o(r,s){Tu=r,$h=vo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Zt=!0),r.firstContext=null)}function wn(r){var s=r._currentValue;if($h!==r)if(r={context:r,memoizedValue:s,next:null},vo===null){if(Tu===null)throw Error(t(308));vo=r,Tu.dependencies={lanes:0,firstContext:r}}else vo=vo.next=r;return s}var ss=null;function Kh(r){ss===null?ss=[r]:ss.push(r)}function Wm(r,s,l,h){var d=s.interleaved;return d===null?(l.next=l,Kh(s)):(l.next=d.next,d.next=l),s.interleaved=l,Nr(r,h)}function Nr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var si=!1;function Gh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Or(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function oi(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Be&2)!==0){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,Nr(r,l)}return d=h.interleaved,d===null?(s.next=s,Kh(h)):(s.next=d.next,d.next=s),h.interleaved=s,Nr(r,l)}function Iu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Qr(r,l)}}function qm(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var d=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?d=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?d=y=s:y=y.next=s}else d=y=s;l={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Su(r,s,l,h){var d=r.updateQueue;si=!1;var y=d.firstBaseUpdate,w=d.lastBaseUpdate,P=d.shared.pending;if(P!==null){d.shared.pending=null;var b=P,z=b.next;b.next=null,w===null?y=z:w.next=z,w=b;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,P=ee.lastBaseUpdate,P!==w&&(P===null?ee.firstBaseUpdate=z:P.next=z,ee.lastBaseUpdate=b))}if(y!==null){var te=d.baseState;w=0,ee=z=b=null,P=y;do{var Z=P.lane,he=P.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:he,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ge=r,ye=P;switch(Z=s,he=l,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){te=ge.call(he,te,Z);break e}te=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,Z=typeof ge=="function"?ge.call(he,te,Z):ge,Z==null)break e;te=re({},te,Z);break e;case 2:si=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,Z=d.effects,Z===null?d.effects=[P]:Z.push(P))}else he={eventTime:he,lane:Z,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ee===null?(z=ee=he,b=te):ee=ee.next=he,w|=Z;if(P=P.next,P===null){if(P=d.shared.pending,P===null)break;Z=P,P=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);if(ee===null&&(b=te),d.baseState=b,d.firstBaseUpdate=z,d.lastBaseUpdate=ee,s=d.shared.interleaved,s!==null){d=s;do w|=d.lane,d=d.next;while(d!==s)}else y===null&&(d.shared.lanes=0);ls|=w,r.lanes=w,r.memoizedState=te}}function Km(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=l,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var Da={},tr=ni(Da),Va=ni(Da),La=ni(Da);function os(r){if(r===Da)throw Error(t(174));return r}function Qh(r,s){switch(Ye(La,s),Ye(Va,r),Ye(tr,Da),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:gt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=gt(s,r)}Je(tr),Ye(tr,s)}function Eo(){Je(tr),Je(Va),Je(La)}function Gm(r){os(La.current);var s=os(tr.current),l=gt(s,r.type);s!==l&&(Ye(Va,r),Ye(tr,l))}function Yh(r){Va.current===r&&(Je(tr),Je(Va))}var rt=ni(0);function Au(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Xh=[];function Jh(){for(var r=0;r<Xh.length;r++)Xh[r]._workInProgressVersionPrimary=null;Xh.length=0}var Ru=ne.ReactCurrentDispatcher,Zh=ne.ReactCurrentBatchConfig,as=0,it=null,vt=null,St=null,Pu=!1,Ma=!1,Fa=0,vT=0;function Mt(){throw Error(t(321))}function ef(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Vn(r[l],s[l]))return!1;return!0}function tf(r,s,l,h,d,y){if(as=y,it=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ru.current=r===null||r.memoizedState===null?TT:IT,r=l(h,d),Ma){y=0;do{if(Ma=!1,Fa=0,25<=y)throw Error(t(301));y+=1,St=vt=null,s.updateQueue=null,Ru.current=ST,r=l(h,d)}while(Ma)}if(Ru.current=Nu,s=vt!==null&&vt.next!==null,as=0,St=vt=it=null,Pu=!1,s)throw Error(t(300));return r}function nf(){var r=Fa!==0;return Fa=0,r}function nr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?it.memoizedState=St=r:St=St.next=r,St}function Tn(){if(vt===null){var r=it.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var s=St===null?it.memoizedState:St.next;if(s!==null)St=s,vt=r;else{if(r===null)throw Error(t(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?it.memoizedState=St=r:St=St.next=r}return St}function Ua(r,s){return typeof s=="function"?s(r):s}function rf(r){var s=Tn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=vt,d=h.baseQueue,y=l.pending;if(y!==null){if(d!==null){var w=d.next;d.next=y.next,y.next=w}h.baseQueue=d=y,l.pending=null}if(d!==null){y=d.next,h=h.baseState;var P=w=null,b=null,z=y;do{var ee=z.lane;if((as&ee)===ee)b!==null&&(b=b.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:r(h,z.action);else{var te={lane:ee,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};b===null?(P=b=te,w=h):b=b.next=te,it.lanes|=ee,ls|=ee}z=z.next}while(z!==null&&z!==y);b===null?w=h:b.next=P,Vn(h,s.memoizedState)||(Zt=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=b,l.lastRenderedState=h}if(r=l.interleaved,r!==null){d=r;do y=d.lane,it.lanes|=y,ls|=y,d=d.next;while(d!==r)}else d===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function sf(r){var s=Tn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,d=l.pending,y=s.memoizedState;if(d!==null){l.pending=null;var w=d=d.next;do y=r(y,w.action),w=w.next;while(w!==d);Vn(y,s.memoizedState)||(Zt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Qm(){}function Ym(r,s){var l=it,h=Tn(),d=s(),y=!Vn(h.memoizedState,d);if(y&&(h.memoizedState=d,Zt=!0),h=h.queue,of(Zm.bind(null,l,h,r),[r]),h.getSnapshot!==s||y||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,ja(9,Jm.bind(null,l,h,d,s),void 0,null),At===null)throw Error(t(349));(as&30)!==0||Xm(l,s,d)}return d}function Xm(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=it.updateQueue,s===null?(s={lastEffect:null,stores:null},it.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Jm(r,s,l,h){s.value=l,s.getSnapshot=h,eg(s)&&tg(r)}function Zm(r,s,l){return l(function(){eg(s)&&tg(r)})}function eg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Vn(r,l)}catch{return!0}}function tg(r){var s=Nr(r,1);s!==null&&jn(s,r,1,-1)}function ng(r){var s=nr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:r},s.queue=r,r=r.dispatch=wT.bind(null,it,r),[s.memoizedState,r]}function ja(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=it.updateQueue,s===null?(s={lastEffect:null,stores:null},it.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function rg(){return Tn().memoizedState}function Cu(r,s,l,h){var d=nr();it.flags|=r,d.memoizedState=ja(1|s,l,void 0,h===void 0?null:h)}function ku(r,s,l,h){var d=Tn();h=h===void 0?null:h;var y=void 0;if(vt!==null){var w=vt.memoizedState;if(y=w.destroy,h!==null&&ef(h,w.deps)){d.memoizedState=ja(s,l,y,h);return}}it.flags|=r,d.memoizedState=ja(1|s,l,y,h)}function ig(r,s){return Cu(8390656,8,r,s)}function of(r,s){return ku(2048,8,r,s)}function sg(r,s){return ku(4,2,r,s)}function og(r,s){return ku(4,4,r,s)}function ag(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function lg(r,s,l){return l=l!=null?l.concat([r]):null,ku(4,4,ag.bind(null,s,r),l)}function af(){}function ug(r,s){var l=Tn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&ef(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function cg(r,s){var l=Tn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&ef(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function hg(r,s,l){return(as&21)===0?(r.baseState&&(r.baseState=!1,Zt=!0),r.memoizedState=l):(Vn(l,s)||(l=Yi(),it.lanes|=l,ls|=l,r.baseState=!0),s)}function _T(r,s){var l=Fe;Fe=l!==0&&4>l?l:4,r(!0);var h=Zh.transition;Zh.transition={};try{r(!1),s()}finally{Fe=l,Zh.transition=h}}function fg(){return Tn().memoizedState}function ET(r,s,l){var h=ci(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},dg(r))pg(s,l);else if(l=Wm(r,s,l,h),l!==null){var d=Kt();jn(l,r,h,d),mg(l,s,h)}}function wT(r,s,l){var h=ci(r),d={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(dg(r))pg(s,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,P=y(w,l);if(d.hasEagerState=!0,d.eagerState=P,Vn(P,w)){var b=s.interleaved;b===null?(d.next=d,Kh(s)):(d.next=b.next,b.next=d),s.interleaved=d;return}}catch{}finally{}l=Wm(r,s,d,h),l!==null&&(d=Kt(),jn(l,r,h,d),mg(l,s,h))}}function dg(r){var s=r.alternate;return r===it||s!==null&&s===it}function pg(r,s){Ma=Pu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function mg(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Qr(r,l)}}var Nu={readContext:wn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},TT={readContext:wn,useCallback:function(r,s){return nr().memoizedState=[r,s===void 0?null:s],r},useContext:wn,useEffect:ig,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Cu(4194308,4,ag.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Cu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Cu(4,2,r,s)},useMemo:function(r,s){var l=nr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=nr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=ET.bind(null,it,r),[h.memoizedState,r]},useRef:function(r){var s=nr();return r={current:r},s.memoizedState=r},useState:ng,useDebugValue:af,useDeferredValue:function(r){return nr().memoizedState=r},useTransition:function(){var r=ng(!1),s=r[0];return r=_T.bind(null,r[1]),nr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=it,d=nr();if(tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),At===null)throw Error(t(349));(as&30)!==0||Xm(h,s,l)}d.memoizedState=l;var y={value:l,getSnapshot:s};return d.queue=y,ig(Zm.bind(null,h,y,r),[r]),h.flags|=2048,ja(9,Jm.bind(null,h,y,l,s),void 0,null),l},useId:function(){var r=nr(),s=At.identifierPrefix;if(tt){var l=kr,h=Cr;l=(h&~(1<<32-Wt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Fa++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=vT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},IT={readContext:wn,useCallback:ug,useContext:wn,useEffect:of,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:og,useMemo:cg,useReducer:rf,useRef:rg,useState:function(){return rf(Ua)},useDebugValue:af,useDeferredValue:function(r){var s=Tn();return hg(s,vt.memoizedState,r)},useTransition:function(){var r=rf(Ua)[0],s=Tn().memoizedState;return[r,s]},useMutableSource:Qm,useSyncExternalStore:Ym,useId:fg,unstable_isNewReconciler:!1},ST={readContext:wn,useCallback:ug,useContext:wn,useEffect:of,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:og,useMemo:cg,useReducer:sf,useRef:rg,useState:function(){return sf(Ua)},useDebugValue:af,useDeferredValue:function(r){var s=Tn();return vt===null?s.memoizedState=r:hg(s,vt.memoizedState,r)},useTransition:function(){var r=sf(Ua)[0],s=Tn().memoizedState;return[r,s]},useMutableSource:Qm,useSyncExternalStore:Ym,useId:fg,unstable_isNewReconciler:!1};function Mn(r,s){if(r&&r.defaultProps){s=re({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function lf(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:re({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Ou={isMounted:function(r){return(r=r._reactInternals)?Cn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Kt(),d=ci(r),y=Or(h,d);y.payload=s,l!=null&&(y.callback=l),s=oi(r,y,d),s!==null&&(jn(s,r,d,h),Iu(s,r,d))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Kt(),d=ci(r),y=Or(h,d);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=oi(r,y,d),s!==null&&(jn(s,r,d,h),Iu(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Kt(),h=ci(r),d=Or(l,h);d.tag=2,s!=null&&(d.callback=s),s=oi(r,d,h),s!==null&&(jn(s,r,h,l),Iu(s,r,h))}};function gg(r,s,l,h,d,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,w):s.prototype&&s.prototype.isPureReactComponent?!Ra(l,h)||!Ra(d,y):!0}function yg(r,s,l){var h=!1,d=ri,y=s.contextType;return typeof y=="object"&&y!==null?y=wn(y):(d=Jt(s)?ns:Lt.current,h=s.contextTypes,y=(h=h!=null)?fo(r,d):ri),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ou,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=y),s}function vg(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Ou.enqueueReplaceState(s,s.state,null)}function uf(r,s,l,h){var d=r.stateNode;d.props=l,d.state=r.memoizedState,d.refs={},Gh(r);var y=s.contextType;typeof y=="object"&&y!==null?d.context=wn(y):(y=Jt(s)?ns:Lt.current,d.context=fo(r,y)),d.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(lf(r,s,y,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Ou.enqueueReplaceState(d,d.state,null),Su(r,l,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function wo(r,s){try{var l="",h=s;do l+=Pe(h),h=h.return;while(h);var d=l}catch(y){d=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:d,digest:null}}function cf(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function hf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var AT=typeof WeakMap=="function"?WeakMap:Map;function _g(r,s,l){l=Or(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Fu||(Fu=!0,Rf=h),hf(r,s)},l}function Eg(r,s,l){l=Or(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;l.payload=function(){return h(d)},l.callback=function(){hf(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){hf(r,s),typeof h!="function"&&(li===null?li=new Set([this]):li.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function wg(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new AT;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(l)||(d.add(l),r=UT.bind(null,r,s,l),s.then(r,r))}function Tg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Ig(r,s,l,h,d){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Or(-1,1),s.tag=2,oi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var RT=ne.ReactCurrentOwner,Zt=!1;function qt(r,s,l,h){s.child=r===null?$m(s,null,l,h):yo(s,r.child,l,h)}function Sg(r,s,l,h,d){l=l.render;var y=s.ref;return _o(s,d),h=tf(r,s,l,h,y,d),l=nf(),r!==null&&!Zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,xr(r,s,d)):(tt&&l&&Fh(s),s.flags|=1,qt(r,s,h,d),s.child)}function Ag(r,s,l,h,d){if(r===null){var y=l.type;return typeof y=="function"&&!bf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Rg(r,s,y,h,d)):(r=Wu(l.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&d)===0){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ra,l(w,h)&&r.ref===s.ref)return xr(r,s,d)}return s.flags|=1,r=fi(y,h),r.ref=s.ref,r.return=s,s.child=r}function Rg(r,s,l,h,d){if(r!==null){var y=r.memoizedProps;if(Ra(y,h)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=h=y,(r.lanes&d)!==0)(r.flags&131072)!==0&&(Zt=!0);else return s.lanes=r.lanes,xr(r,s,d)}return ff(r,s,l,h,d)}function Pg(r,s,l){var h=s.pendingProps,d=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Io,fn),fn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ye(Io,fn),fn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Ye(Io,fn),fn|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,Ye(Io,fn),fn|=h;return qt(r,s,d,l),s.child}function Cg(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function ff(r,s,l,h,d){var y=Jt(l)?ns:Lt.current;return y=fo(s,y),_o(s,d),l=tf(r,s,l,h,y,d),h=nf(),r!==null&&!Zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,xr(r,s,d)):(tt&&h&&Fh(s),s.flags|=1,qt(r,s,l,d),s.child)}function kg(r,s,l,h,d){if(Jt(l)){var y=!0;mu(s)}else y=!1;if(_o(s,d),s.stateNode===null)bu(r,s),yg(s,l,h),uf(s,l,h,d),h=!0;else if(r===null){var w=s.stateNode,P=s.memoizedProps;w.props=P;var b=w.context,z=l.contextType;typeof z=="object"&&z!==null?z=wn(z):(z=Jt(l)?ns:Lt.current,z=fo(s,z));var ee=l.getDerivedStateFromProps,te=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function";te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==h||b!==z)&&vg(s,w,h,z),si=!1;var Z=s.memoizedState;w.state=Z,Su(s,h,w,d),b=s.memoizedState,P!==h||Z!==b||Xt.current||si?(typeof ee=="function"&&(lf(s,l,ee,h),b=s.memoizedState),(P=si||gg(s,l,P,h,Z,b,z))?(te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=b),w.props=h,w.state=b,w.context=z,h=P):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,Hm(r,s),P=s.memoizedProps,z=s.type===s.elementType?P:Mn(s.type,P),w.props=z,te=s.pendingProps,Z=w.context,b=l.contextType,typeof b=="object"&&b!==null?b=wn(b):(b=Jt(l)?ns:Lt.current,b=fo(s,b));var he=l.getDerivedStateFromProps;(ee=typeof he=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==te||Z!==b)&&vg(s,w,h,b),si=!1,Z=s.memoizedState,w.state=Z,Su(s,h,w,d);var ge=s.memoizedState;P!==te||Z!==ge||Xt.current||si?(typeof he=="function"&&(lf(s,l,he,h),ge=s.memoizedState),(z=si||gg(s,l,z,h,Z,ge,b)||!1)?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ge,b),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ge,b)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ge),w.props=h,w.state=ge,w.context=b,h=z):(typeof w.componentDidUpdate!="function"||P===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),h=!1)}return df(r,s,l,h,y,d)}function df(r,s,l,h,d,y){Cg(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return d&&Dm(s,l,!1),xr(r,s,y);h=s.stateNode,RT.current=s;var P=w&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=yo(s,r.child,null,y),s.child=yo(s,null,P,y)):qt(r,s,P,y),s.memoizedState=h.state,d&&Dm(s,l,!0),s.child}function Ng(r){var s=r.stateNode;s.pendingContext?xm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&xm(r,s.context,!1),Qh(r,s.containerInfo)}function Og(r,s,l,h,d){return go(),zh(d),s.flags|=256,qt(r,s,l,h),s.child}var pf={dehydrated:null,treeContext:null,retryLane:0};function mf(r){return{baseLanes:r,cachePool:null,transitions:null}}function xg(r,s,l){var h=s.pendingProps,d=rt.current,y=!1,w=(s.flags&128)!==0,P;if((P=w)||(P=r!==null&&r.memoizedState===null?!1:(d&2)!==0),P?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),Ye(rt,d&1),r===null)return Bh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=h.children,r=h.fallback,y?(h=s.mode,y=s.child,w={mode:"hidden",children:w},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=Hu(w,h,0,null),r=fs(r,h,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=mf(l),s.memoizedState=pf,r):gf(s,w));if(d=r.memoizedState,d!==null&&(P=d.dehydrated,P!==null))return PT(r,s,w,h,P,d,l);if(y){y=h.fallback,w=s.mode,d=r.child,P=d.sibling;var b={mode:"hidden",children:h.children};return(w&1)===0&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=b,s.deletions=null):(h=fi(d,b),h.subtreeFlags=d.subtreeFlags&14680064),P!==null?y=fi(P,y):(y=fs(y,w,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,w=r.child.memoizedState,w=w===null?mf(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=r.childLanes&~l,s.memoizedState=pf,h}return y=r.child,r=y.sibling,h=fi(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function gf(r,s){return s=Hu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function xu(r,s,l,h){return h!==null&&zh(h),yo(s,r.child,null,l),r=gf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function PT(r,s,l,h,d,y,w){if(l)return s.flags&256?(s.flags&=-257,h=cf(Error(t(422))),xu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,d=s.mode,h=Hu({mode:"visible",children:h.children},d,0,null),y=fs(y,d,w,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&yo(s,r.child,null,w),s.child.memoizedState=mf(w),s.memoizedState=pf,y);if((s.mode&1)===0)return xu(r,s,w,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var P=h.dgst;return h=P,y=Error(t(419)),h=cf(y,h,void 0),xu(r,s,w,h)}if(P=(w&r.childLanes)!==0,Zt||P){if(h=At,h!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(h.suspendedLanes|w))!==0?0:d,d!==0&&d!==y.retryLane&&(y.retryLane=d,Nr(r,d),jn(h,r,d,-1))}return xf(),h=cf(Error(t(421))),xu(r,s,w,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=jT.bind(null,r),d._reactRetry=s,null):(r=y.treeContext,hn=ti(d.nextSibling),cn=s,tt=!0,Ln=null,r!==null&&(_n[En++]=Cr,_n[En++]=kr,_n[En++]=rs,Cr=r.id,kr=r.overflow,rs=s),s=gf(s,h.children),s.flags|=4096,s)}function bg(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),qh(r.return,s,l)}function yf(r,s,l,h,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:d}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=d)}function Dg(r,s,l){var h=s.pendingProps,d=h.revealOrder,y=h.tail;if(qt(r,s,h.children,l),h=rt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&bg(r,l,s);else if(r.tag===19)bg(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ye(rt,h),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(l=s.child,d=null;l!==null;)r=l.alternate,r!==null&&Au(r)===null&&(d=l),l=l.sibling;l=d,l===null?(d=s.child,s.child=null):(d=l.sibling,l.sibling=null),yf(s,!1,d,l,y);break;case"backwards":for(l=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Au(r)===null){s.child=d;break}r=d.sibling,d.sibling=l,l=d,d=r}yf(s,!0,l,null,y);break;case"together":yf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function bu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function xr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ls|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=fi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=fi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function CT(r,s,l){switch(s.tag){case 3:Ng(s),go();break;case 5:Gm(s);break;case 1:Jt(s.type)&&mu(s);break;case 4:Qh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;Ye(wu,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ye(rt,rt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?xg(r,s,l):(Ye(rt,rt.current&1),r=xr(r,s,l),r!==null?r.sibling:null);Ye(rt,rt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return Dg(r,s,l);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ye(rt,rt.current),h)break;return null;case 22:case 23:return s.lanes=0,Pg(r,s,l)}return xr(r,s,l)}var Vg,vf,Lg,Mg;Vg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},vf=function(){},Lg=function(r,s,l,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,os(tr.current);var y=null;switch(l){case"input":d=Ui(r,d),h=Ui(r,h),y=[];break;case"select":d=re({},d,{value:void 0}),h=re({},h,{value:void 0}),y=[];break;case"textarea":d=ta(r,d),h=ta(r,h),y=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=fu)}aa(l,h);var w;l=null;for(z in d)if(!h.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var P=d[z];for(w in P)P.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?y||(y=[]):(y=y||[]).push(z,null));for(z in h){var b=h[z];if(P=d!=null?d[z]:void 0,h.hasOwnProperty(z)&&b!==P&&(b!=null||P!=null))if(z==="style")if(P){for(w in P)!P.hasOwnProperty(w)||b&&b.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in b)b.hasOwnProperty(w)&&P[w]!==b[w]&&(l||(l={}),l[w]=b[w])}else l||(y||(y=[]),y.push(z,l)),l=b;else z==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,P=P?P.__html:void 0,b!=null&&P!==b&&(y=y||[]).push(z,b)):z==="children"?typeof b!="string"&&typeof b!="number"||(y=y||[]).push(z,""+b):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(b!=null&&z==="onScroll"&&Xe("scroll",r),y||P===b||(y=[])):(y=y||[]).push(z,b))}l&&(y=y||[]).push("style",l);var z=y;(s.updateQueue=z)&&(s.flags|=4)}},Mg=function(r,s,l,h){l!==h&&(s.flags|=4)};function Ba(r,s){if(!tt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var d=r.child;d!==null;)l|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)l|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function kT(r,s,l){var h=s.pendingProps;switch(Uh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return Jt(s.type)&&pu(),Ft(s),null;case 3:return h=s.stateNode,Eo(),Je(Xt),Je(Lt),Jh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(_u(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ln!==null&&(kf(Ln),Ln=null))),vf(r,s),Ft(s),null;case 5:Yh(s);var d=os(La.current);if(l=s.type,r!==null&&s.stateNode!=null)Lg(r,s,l,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ft(s),null}if(r=os(tr.current),_u(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[er]=s,h[Oa]=y,r=(s.mode&1)!==0,l){case"dialog":Xe("cancel",h),Xe("close",h);break;case"iframe":case"object":case"embed":Xe("load",h);break;case"video":case"audio":for(d=0;d<Ca.length;d++)Xe(Ca[d],h);break;case"source":Xe("error",h);break;case"img":case"image":case"link":Xe("error",h),Xe("load",h);break;case"details":Xe("toggle",h);break;case"input":Ds(h,y),Xe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Xe("invalid",h);break;case"textarea":Ls(h,y),Xe("invalid",h)}aa(l,y),d=null;for(var w in y)if(y.hasOwnProperty(w)){var P=y[w];w==="children"?typeof P=="string"?h.textContent!==P&&(y.suppressHydrationWarning!==!0&&hu(h.textContent,P,r),d=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&hu(h.textContent,P,r),d=["children",""+P]):o.hasOwnProperty(w)&&P!=null&&w==="onScroll"&&Xe("scroll",h)}switch(l){case"input":gr(h),Ml(h,y,!0);break;case"textarea":gr(h),na(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=fu)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=mt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(l,{is:h.is}):(r=w.createElement(l),l==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,l),r[er]=s,r[Oa]=h,Vg(r,s,!1,!1),s.stateNode=r;e:{switch(w=la(l,h),l){case"dialog":Xe("cancel",r),Xe("close",r),d=h;break;case"iframe":case"object":case"embed":Xe("load",r),d=h;break;case"video":case"audio":for(d=0;d<Ca.length;d++)Xe(Ca[d],r);d=h;break;case"source":Xe("error",r),d=h;break;case"img":case"image":case"link":Xe("error",r),Xe("load",r),d=h;break;case"details":Xe("toggle",r),d=h;break;case"input":Ds(r,h),d=Ui(r,h),Xe("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=re({},h,{value:void 0}),Xe("invalid",r);break;case"textarea":Ls(r,h),d=ta(r,h),Xe("invalid",r);break;default:d=h}aa(l,d),P=d;for(y in P)if(P.hasOwnProperty(y)){var b=P[y];y==="style"?sa(r,b):y==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&ra(r,b)):y==="children"?typeof b=="string"?(l!=="textarea"||b!=="")&&Wr(r,b):typeof b=="number"&&Wr(r,""+b):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?b!=null&&y==="onScroll"&&Xe("scroll",r):b!=null&&q(r,y,b,w))}switch(l){case"input":gr(r),Ml(r,h,!1);break;case"textarea":gr(r),na(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ce(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?vr(r,!!h.multiple,y,!1):h.defaultValue!=null&&vr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=fu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(r&&s.stateNode!=null)Mg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=os(La.current),os(tr.current),_u(s)){if(h=s.stateNode,l=s.memoizedProps,h[er]=s,(y=h.nodeValue!==l)&&(r=cn,r!==null))switch(r.tag){case 3:hu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&hu(h.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[er]=s,s.stateNode=h}return Ft(s),null;case 13:if(Je(rt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(tt&&hn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)jm(),go(),s.flags|=98560,y=!1;else if(y=_u(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[er]=s}else go(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ft(s),y=!1}else Ln!==null&&(kf(Ln),Ln=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(rt.current&1)!==0?_t===0&&(_t=3):xf())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return Eo(),vf(r,s),r===null&&ka(s.stateNode.containerInfo),Ft(s),null;case 10:return Hh(s.type._context),Ft(s),null;case 17:return Jt(s.type)&&pu(),Ft(s),null;case 19:if(Je(rt),y=s.memoizedState,y===null)return Ft(s),null;if(h=(s.flags&128)!==0,w=y.rendering,w===null)if(h)Ba(y,!1);else{if(_t!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=Au(r),w!==null){for(s.flags|=128,Ba(y,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,r=h,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,r=w.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ye(rt,rt.current&1|2),s.child}r=r.sibling}y.tail!==null&&Qe()>So&&(s.flags|=128,h=!0,Ba(y,!1),s.lanes=4194304)}else{if(!h)if(r=Au(w),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ba(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!tt)return Ft(s),null}else 2*Qe()-y.renderingStartTime>So&&l!==1073741824&&(s.flags|=128,h=!0,Ba(y,!1),s.lanes=4194304);y.isBackwards?(w.sibling=s.child,s.child=w):(l=y.last,l!==null?l.sibling=w:s.child=w,y.last=w)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Qe(),s.sibling=null,l=rt.current,Ye(rt,h?l&1|2:l&1),s):(Ft(s),null);case 22:case 23:return Of(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(fn&1073741824)!==0&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function NT(r,s){switch(Uh(s),s.tag){case 1:return Jt(s.type)&&pu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Eo(),Je(Xt),Je(Lt),Jh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Yh(s),null;case 13:if(Je(rt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));go()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Je(rt),null;case 4:return Eo(),null;case 10:return Hh(s.type._context),null;case 22:case 23:return Of(),null;case 24:return null;default:return null}}var Du=!1,Ut=!1,OT=typeof WeakSet=="function"?WeakSet:Set,pe=null;function To(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ot(r,s,h)}else l.current=null}function _f(r,s,l){try{l()}catch(h){ot(r,s,h)}}var Fg=!1;function xT(r,s){if(Nh=Jr,r=gm(),Th(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var d=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var w=0,P=-1,b=-1,z=0,ee=0,te=r,Z=null;t:for(;;){for(var he;te!==l||d!==0&&te.nodeType!==3||(P=w+d),te!==y||h!==0&&te.nodeType!==3||(b=w+h),te.nodeType===3&&(w+=te.nodeValue.length),(he=te.firstChild)!==null;)Z=te,te=he;for(;;){if(te===r)break t;if(Z===l&&++z===d&&(P=w),Z===y&&++ee===h&&(b=w),(he=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=he}l=P===-1||b===-1?null:{start:P,end:b}}else l=null}l=l||{start:0,end:0}}else l=null;for(Oh={focusedElem:r,selectionRange:l},Jr=!1,pe=s;pe!==null;)if(s=pe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,pe=r;else for(;pe!==null;){s=pe;try{var ge=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,lt=ge.memoizedState,j=s.stateNode,L=j.getSnapshotBeforeUpdate(s.elementType===s.type?ye:Mn(s.type,ye),lt);j.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){ot(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,pe=r;break}pe=s.return}return ge=Fg,Fg=!1,ge}function za(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var y=d.destroy;d.destroy=void 0,y!==void 0&&_f(s,l,y)}d=d.next}while(d!==h)}}function Vu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Ef(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Ug(r){var s=r.alternate;s!==null&&(r.alternate=null,Ug(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[er],delete s[Oa],delete s[Vh],delete s[pT],delete s[mT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function jg(r){return r.tag===5||r.tag===3||r.tag===4}function Bg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||jg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function wf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=fu));else if(h!==4&&(r=r.child,r!==null))for(wf(r,s,l),r=r.sibling;r!==null;)wf(r,s,l),r=r.sibling}function Tf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Tf(r,s,l),r=r.sibling;r!==null;)Tf(r,s,l),r=r.sibling}var Nt=null,Fn=!1;function ai(r,s,l){for(l=l.child;l!==null;)zg(r,s,l),l=l.sibling}function zg(r,s,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Gi,l)}catch{}switch(l.tag){case 5:Ut||To(l,s);case 6:var h=Nt,d=Fn;Nt=null,ai(r,s,l),Nt=h,Fn=d,Nt!==null&&(Fn?(r=Nt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Nt.removeChild(l.stateNode));break;case 18:Nt!==null&&(Fn?(r=Nt,l=l.stateNode,r.nodeType===8?Dh(r.parentNode,l):r.nodeType===1&&Dh(r,l),bn(r)):Dh(Nt,l.stateNode));break;case 4:h=Nt,d=Fn,Nt=l.stateNode.containerInfo,Fn=!0,ai(r,s,l),Nt=h,Fn=d;break;case 0:case 11:case 14:case 15:if(!Ut&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var y=d,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&_f(l,s,w),d=d.next}while(d!==h)}ai(r,s,l);break;case 1:if(!Ut&&(To(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(P){ot(l,s,P)}ai(r,s,l);break;case 21:ai(r,s,l);break;case 22:l.mode&1?(Ut=(h=Ut)||l.memoizedState!==null,ai(r,s,l),Ut=h):ai(r,s,l);break;default:ai(r,s,l)}}function $g(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new OT),s.forEach(function(h){var d=BT.bind(null,r,h);l.has(h)||(l.add(h),h.then(d,d))})}}function Un(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var d=l[h];try{var y=r,w=s,P=w;e:for(;P!==null;){switch(P.tag){case 5:Nt=P.stateNode,Fn=!1;break e;case 3:Nt=P.stateNode.containerInfo,Fn=!0;break e;case 4:Nt=P.stateNode.containerInfo,Fn=!0;break e}P=P.return}if(Nt===null)throw Error(t(160));zg(y,w,d),Nt=null,Fn=!1;var b=d.alternate;b!==null&&(b.return=null),d.return=null}catch(z){ot(d,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Wg(s,r),s=s.sibling}function Wg(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Un(s,r),rr(r),h&4){try{za(3,r,r.return),Vu(3,r)}catch(ye){ot(r,r.return,ye)}try{za(5,r,r.return)}catch(ye){ot(r,r.return,ye)}}break;case 1:Un(s,r),rr(r),h&512&&l!==null&&To(l,l.return);break;case 5:if(Un(s,r),rr(r),h&512&&l!==null&&To(l,l.return),r.flags&32){var d=r.stateNode;try{Wr(d,"")}catch(ye){ot(r,r.return,ye)}}if(h&4&&(d=r.stateNode,d!=null)){var y=r.memoizedProps,w=l!==null?l.memoizedProps:y,P=r.type,b=r.updateQueue;if(r.updateQueue=null,b!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&Zo(d,y),la(P,w);var z=la(P,y);for(w=0;w<b.length;w+=2){var ee=b[w],te=b[w+1];ee==="style"?sa(d,te):ee==="dangerouslySetInnerHTML"?ra(d,te):ee==="children"?Wr(d,te):q(d,ee,te,z)}switch(P){case"input":ea(d,y);break;case"textarea":Ms(d,y);break;case"select":var Z=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!y.multiple;var he=y.value;he!=null?vr(d,!!y.multiple,he,!1):Z!==!!y.multiple&&(y.defaultValue!=null?vr(d,!!y.multiple,y.defaultValue,!0):vr(d,!!y.multiple,y.multiple?[]:"",!1))}d[Oa]=y}catch(ye){ot(r,r.return,ye)}}break;case 6:if(Un(s,r),rr(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,y=r.memoizedProps;try{d.nodeValue=y}catch(ye){ot(r,r.return,ye)}}break;case 3:if(Un(s,r),rr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{bn(s.containerInfo)}catch(ye){ot(r,r.return,ye)}break;case 4:Un(s,r),rr(r);break;case 13:Un(s,r),rr(r),d=r.child,d.flags&8192&&(y=d.memoizedState!==null,d.stateNode.isHidden=y,!y||d.alternate!==null&&d.alternate.memoizedState!==null||(Af=Qe())),h&4&&$g(r);break;case 22:if(ee=l!==null&&l.memoizedState!==null,r.mode&1?(Ut=(z=Ut)||ee,Un(s,r),Ut=z):Un(s,r),rr(r),h&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!ee&&(r.mode&1)!==0)for(pe=r,ee=r.child;ee!==null;){for(te=pe=ee;pe!==null;){switch(Z=pe,he=Z.child,Z.tag){case 0:case 11:case 14:case 15:za(4,Z,Z.return);break;case 1:To(Z,Z.return);var ge=Z.stateNode;if(typeof ge.componentWillUnmount=="function"){h=Z,l=Z.return;try{s=h,ge.props=s.memoizedProps,ge.state=s.memoizedState,ge.componentWillUnmount()}catch(ye){ot(h,l,ye)}}break;case 5:To(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Kg(te);continue}}he!==null?(he.return=Z,pe=he):Kg(te)}ee=ee.sibling}e:for(ee=null,te=r;;){if(te.tag===5){if(ee===null){ee=te;try{d=te.stateNode,z?(y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=te.stateNode,b=te.memoizedProps.style,w=b!=null&&b.hasOwnProperty("display")?b.display:null,P.style.display=ia("display",w))}catch(ye){ot(r,r.return,ye)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=z?"":te.memoizedProps}catch(ye){ot(r,r.return,ye)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Un(s,r),rr(r),h&4&&$g(r);break;case 21:break;default:Un(s,r),rr(r)}}function rr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(jg(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(Wr(d,""),h.flags&=-33);var y=Bg(r);Tf(r,y,d);break;case 3:case 4:var w=h.stateNode.containerInfo,P=Bg(r);wf(r,P,w);break;default:throw Error(t(161))}}catch(b){ot(r,r.return,b)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function bT(r,s,l){pe=r,Hg(r)}function Hg(r,s,l){for(var h=(r.mode&1)!==0;pe!==null;){var d=pe,y=d.child;if(d.tag===22&&h){var w=d.memoizedState!==null||Du;if(!w){var P=d.alternate,b=P!==null&&P.memoizedState!==null||Ut;P=Du;var z=Ut;if(Du=w,(Ut=b)&&!z)for(pe=d;pe!==null;)w=pe,b=w.child,w.tag===22&&w.memoizedState!==null?Gg(d):b!==null?(b.return=w,pe=b):Gg(d);for(;y!==null;)pe=y,Hg(y),y=y.sibling;pe=d,Du=P,Ut=z}qg(r)}else(d.subtreeFlags&8772)!==0&&y!==null?(y.return=d,pe=y):qg(r)}}function qg(r){for(;pe!==null;){var s=pe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ut||Vu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ut)if(l===null)h.componentDidMount();else{var d=s.elementType===s.type?l.memoizedProps:Mn(s.type,l.memoizedProps);h.componentDidUpdate(d,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Km(s,y,h);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Km(s,w,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var b=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&l.focus();break;case"img":b.src&&(l.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var ee=z.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&bn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||s.flags&512&&Ef(s)}catch(Z){ot(s,s.return,Z)}}if(s===r){pe=null;break}if(l=s.sibling,l!==null){l.return=s.return,pe=l;break}pe=s.return}}function Kg(r){for(;pe!==null;){var s=pe;if(s===r){pe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,pe=l;break}pe=s.return}}function Gg(r){for(;pe!==null;){var s=pe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Vu(4,s)}catch(b){ot(s,l,b)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(b){ot(s,d,b)}}var y=s.return;try{Ef(s)}catch(b){ot(s,y,b)}break;case 5:var w=s.return;try{Ef(s)}catch(b){ot(s,w,b)}}}catch(b){ot(s,s.return,b)}if(s===r){pe=null;break}var P=s.sibling;if(P!==null){P.return=s.return,pe=P;break}pe=s.return}}var DT=Math.ceil,Lu=ne.ReactCurrentDispatcher,If=ne.ReactCurrentOwner,In=ne.ReactCurrentBatchConfig,Be=0,At=null,ht=null,Ot=0,fn=0,Io=ni(0),_t=0,$a=null,ls=0,Mu=0,Sf=0,Wa=null,en=null,Af=0,So=1/0,br=null,Fu=!1,Rf=null,li=null,Uu=!1,ui=null,ju=0,Ha=0,Pf=null,Bu=-1,zu=0;function Kt(){return(Be&6)!==0?Qe():Bu!==-1?Bu:Bu=Qe()}function ci(r){return(r.mode&1)===0?1:(Be&2)!==0&&Ot!==0?Ot&-Ot:yT.transition!==null?(zu===0&&(zu=Yi()),zu):(r=Fe,r!==0||(r=window.event,r=r===void 0?16:_a(r.type)),r)}function jn(r,s,l,h){if(50<Ha)throw Ha=0,Pf=null,Error(t(185));Gr(r,l,h),((Be&2)===0||r!==At)&&(r===At&&((Be&2)===0&&(Mu|=l),_t===4&&hi(r,Ot)),tn(r,h),l===1&&Be===0&&(s.mode&1)===0&&(So=Qe()+500,gu&&ii()))}function tn(r,s){var l=r.callbackNode;wr(r,s);var h=Qi(r,r===At?Ot:0);if(h===0)l!==null&&pa(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&pa(l),s===1)r.tag===0?gT(Yg.bind(null,r)):Vm(Yg.bind(null,r)),fT(function(){(Be&6)===0&&ii()}),l=null;else{switch(Yr(h)){case 1:l=Ki;break;case 4:l=Hr;break;case 16:l=gn;break;case 536870912:l=zl;break;default:l=gn}l=iy(l,Qg.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Qg(r,s){if(Bu=-1,zu=0,(Be&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Ao()&&r.callbackNode!==l)return null;var h=Qi(r,r===At?Ot:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=$u(r,h);else{s=h;var d=Be;Be|=2;var y=Jg();(At!==r||Ot!==s)&&(br=null,So=Qe()+500,cs(r,s));do try{MT();break}catch(P){Xg(r,P)}while(!0);Wh(),Lu.current=y,Be=d,ht!==null?s=0:(At=null,Ot=0,s=_t)}if(s!==0){if(s===2&&(d=an(r),d!==0&&(h=d,s=Cf(r,d))),s===1)throw l=$a,cs(r,0),hi(r,h),tn(r,Qe()),l;if(s===6)hi(r,h);else{if(d=r.current.alternate,(h&30)===0&&!VT(d)&&(s=$u(r,h),s===2&&(y=an(r),y!==0&&(h=y,s=Cf(r,y))),s===1))throw l=$a,cs(r,0),hi(r,h),tn(r,Qe()),l;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:hs(r,en,br);break;case 3:if(hi(r,h),(h&130023424)===h&&(s=Af+500-Qe(),10<s)){if(Qi(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){Kt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=bh(hs.bind(null,r,en,br),s);break}hs(r,en,br);break;case 4:if(hi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var w=31-Wt(h);y=1<<w,w=s[w],w>d&&(d=w),h&=~y}if(h=d,h=Qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*DT(h/1960))-h,10<h){r.timeoutHandle=bh(hs.bind(null,r,en,br),h);break}hs(r,en,br);break;case 5:hs(r,en,br);break;default:throw Error(t(329))}}}return tn(r,Qe()),r.callbackNode===l?Qg.bind(null,r):null}function Cf(r,s){var l=Wa;return r.current.memoizedState.isDehydrated&&(cs(r,s).flags|=256),r=$u(r,s),r!==2&&(s=en,en=l,s!==null&&kf(s)),r}function kf(r){en===null?en=r:en.push.apply(en,r)}function VT(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var d=l[h],y=d.getSnapshot;d=d.value;try{if(!Vn(y(),d))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function hi(r,s){for(s&=~Sf,s&=~Mu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Wt(s),h=1<<l;r[l]=-1,s&=~h}}function Yg(r){if((Be&6)!==0)throw Error(t(327));Ao();var s=Qi(r,0);if((s&1)===0)return tn(r,Qe()),null;var l=$u(r,s);if(r.tag!==0&&l===2){var h=an(r);h!==0&&(s=h,l=Cf(r,h))}if(l===1)throw l=$a,cs(r,0),hi(r,s),tn(r,Qe()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,hs(r,en,br),tn(r,Qe()),null}function Nf(r,s){var l=Be;Be|=1;try{return r(s)}finally{Be=l,Be===0&&(So=Qe()+500,gu&&ii())}}function us(r){ui!==null&&ui.tag===0&&(Be&6)===0&&Ao();var s=Be;Be|=1;var l=In.transition,h=Fe;try{if(In.transition=null,Fe=1,r)return r()}finally{Fe=h,In.transition=l,Be=s,(Be&6)===0&&ii()}}function Of(){fn=Io.current,Je(Io)}function cs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,hT(l)),ht!==null)for(l=ht.return;l!==null;){var h=l;switch(Uh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&pu();break;case 3:Eo(),Je(Xt),Je(Lt),Jh();break;case 5:Yh(h);break;case 4:Eo();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:Hh(h.type._context);break;case 22:case 23:Of()}l=l.return}if(At=r,ht=r=fi(r.current,null),Ot=fn=s,_t=0,$a=null,Sf=Mu=ls=0,en=Wa=null,ss!==null){for(s=0;s<ss.length;s++)if(l=ss[s],h=l.interleaved,h!==null){l.interleaved=null;var d=h.next,y=l.pending;if(y!==null){var w=y.next;y.next=d,h.next=w}l.pending=h}ss=null}return r}function Xg(r,s){do{var l=ht;try{if(Wh(),Ru.current=Nu,Pu){for(var h=it.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}Pu=!1}if(as=0,St=vt=it=null,Ma=!1,Fa=0,If.current=null,l===null||l.return===null){_t=1,$a=s,ht=null;break}e:{var y=r,w=l.return,P=l,b=s;if(s=Ot,P.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var z=b,ee=P,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var he=Tg(w);if(he!==null){he.flags&=-257,Ig(he,w,P,y,s),he.mode&1&&wg(y,z,s),s=he,b=z;var ge=s.updateQueue;if(ge===null){var ye=new Set;ye.add(b),s.updateQueue=ye}else ge.add(b);break e}else{if((s&1)===0){wg(y,z,s),xf();break e}b=Error(t(426))}}else if(tt&&P.mode&1){var lt=Tg(w);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),Ig(lt,w,P,y,s),zh(wo(b,P));break e}}y=b=wo(b,P),_t!==4&&(_t=2),Wa===null?Wa=[y]:Wa.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var j=_g(y,b,s);qm(y,j);break e;case 1:P=b;var L=y.type,B=y.stateNode;if((y.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(li===null||!li.has(B)))){y.flags|=65536,s&=-s,y.lanes|=s;var ie=Eg(y,P,s);qm(y,ie);break e}}y=y.return}while(y!==null)}ey(l)}catch(ve){s=ve,ht===l&&l!==null&&(ht=l=l.return);continue}break}while(!0)}function Jg(){var r=Lu.current;return Lu.current=Nu,r===null?Nu:r}function xf(){(_t===0||_t===3||_t===2)&&(_t=4),At===null||(ls&268435455)===0&&(Mu&268435455)===0||hi(At,Ot)}function $u(r,s){var l=Be;Be|=2;var h=Jg();(At!==r||Ot!==s)&&(br=null,cs(r,s));do try{LT();break}catch(d){Xg(r,d)}while(!0);if(Wh(),Be=l,Lu.current=h,ht!==null)throw Error(t(261));return At=null,Ot=0,_t}function LT(){for(;ht!==null;)Zg(ht)}function MT(){for(;ht!==null&&!jl();)Zg(ht)}function Zg(r){var s=ry(r.alternate,r,fn);r.memoizedProps=r.pendingProps,s===null?ey(r):ht=s,If.current=null}function ey(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=kT(l,s,fn),l!==null){ht=l;return}}else{if(l=NT(l,s),l!==null){l.flags&=32767,ht=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,ht=null;return}}if(s=s.sibling,s!==null){ht=s;return}ht=s=r}while(s!==null);_t===0&&(_t=5)}function hs(r,s,l){var h=Fe,d=In.transition;try{In.transition=null,Fe=1,FT(r,s,l,h)}finally{In.transition=d,Fe=h}return null}function FT(r,s,l,h){do Ao();while(ui!==null);if((Be&6)!==0)throw Error(t(327));l=r.finishedWork;var d=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(Ke(r,y),r===At&&(ht=At=null,Ot=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Uu||(Uu=!0,iy(gn,function(){return Ao(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=In.transition,In.transition=null;var w=Fe;Fe=1;var P=Be;Be|=4,If.current=null,xT(r,l),Wg(l,r),iT(Oh),Jr=!!Nh,Oh=Nh=null,r.current=l,bT(l),ph(),Be=P,Fe=w,In.transition=y}else r.current=l;if(Uu&&(Uu=!1,ui=r,ju=d),y=r.pendingLanes,y===0&&(li=null),$l(l.stateNode),tn(r,Qe()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)d=s[l],h(d.value,{componentStack:d.stack,digest:d.digest});if(Fu)throw Fu=!1,r=Rf,Rf=null,r;return(ju&1)!==0&&r.tag!==0&&Ao(),y=r.pendingLanes,(y&1)!==0?r===Pf?Ha++:(Ha=0,Pf=r):Ha=0,ii(),null}function Ao(){if(ui!==null){var r=Yr(ju),s=In.transition,l=Fe;try{if(In.transition=null,Fe=16>r?16:r,ui===null)var h=!1;else{if(r=ui,ui=null,ju=0,(Be&6)!==0)throw Error(t(331));var d=Be;for(Be|=4,pe=r.current;pe!==null;){var y=pe,w=y.child;if((pe.flags&16)!==0){var P=y.deletions;if(P!==null){for(var b=0;b<P.length;b++){var z=P[b];for(pe=z;pe!==null;){var ee=pe;switch(ee.tag){case 0:case 11:case 15:za(8,ee,y)}var te=ee.child;if(te!==null)te.return=ee,pe=te;else for(;pe!==null;){ee=pe;var Z=ee.sibling,he=ee.return;if(Ug(ee),ee===z){pe=null;break}if(Z!==null){Z.return=he,pe=Z;break}pe=he}}}var ge=y.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var lt=ye.sibling;ye.sibling=null,ye=lt}while(ye!==null)}}pe=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,pe=w;else e:for(;pe!==null;){if(y=pe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:za(9,y,y.return)}var j=y.sibling;if(j!==null){j.return=y.return,pe=j;break e}pe=y.return}}var L=r.current;for(pe=L;pe!==null;){w=pe;var B=w.child;if((w.subtreeFlags&2064)!==0&&B!==null)B.return=w,pe=B;else e:for(w=L;pe!==null;){if(P=pe,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Vu(9,P)}}catch(ve){ot(P,P.return,ve)}if(P===w){pe=null;break e}var ie=P.sibling;if(ie!==null){ie.return=P.return,pe=ie;break e}pe=P.return}}if(Be=d,ii(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Gi,r)}catch{}h=!0}return h}finally{Fe=l,In.transition=s}}return!1}function ty(r,s,l){s=wo(l,s),s=_g(r,s,1),r=oi(r,s,1),s=Kt(),r!==null&&(Gr(r,1,s),tn(r,s))}function ot(r,s,l){if(r.tag===3)ty(r,r,l);else for(;s!==null;){if(s.tag===3){ty(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(li===null||!li.has(h))){r=wo(l,r),r=Eg(s,r,1),s=oi(s,r,1),r=Kt(),s!==null&&(Gr(s,1,r),tn(s,r));break}}s=s.return}}function UT(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Kt(),r.pingedLanes|=r.suspendedLanes&l,At===r&&(Ot&l)===l&&(_t===4||_t===3&&(Ot&130023424)===Ot&&500>Qe()-Af?cs(r,0):Sf|=l),tn(r,s)}function ny(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ks,Ks<<=1,(Ks&130023424)===0&&(Ks=4194304)));var l=Kt();r=Nr(r,s),r!==null&&(Gr(r,s,l),tn(r,l))}function jT(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),ny(r,l)}function BT(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(l=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),ny(r,l)}var ry;ry=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Xt.current)Zt=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return Zt=!1,CT(r,s,l);Zt=(r.flags&131072)!==0}else Zt=!1,tt&&(s.flags&1048576)!==0&&Lm(s,vu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;bu(r,s),r=s.pendingProps;var d=fo(s,Lt.current);_o(s,l),d=tf(null,s,h,r,d,l);var y=nf();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jt(h)?(y=!0,mu(s)):y=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Gh(s),d.updater=Ou,s.stateNode=d,d._reactInternals=s,uf(s,h,r,l),s=df(null,s,h,!0,y,l)):(s.tag=0,tt&&y&&Fh(s),qt(null,s,d,l),s=s.child),s;case 16:h=s.elementType;e:{switch(bu(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=$T(h),r=Mn(h,r),d){case 0:s=ff(null,s,h,r,l);break e;case 1:s=kg(null,s,h,r,l);break e;case 11:s=Sg(null,s,h,r,l);break e;case 14:s=Ag(null,s,h,Mn(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Mn(h,d),ff(r,s,h,d,l);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Mn(h,d),kg(r,s,h,d,l);case 3:e:{if(Ng(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,d=y.element,Hm(r,s),Su(s,h,null,l);var w=s.memoizedState;if(h=w.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){d=wo(Error(t(423)),s),s=Og(r,s,h,l,d);break e}else if(h!==d){d=wo(Error(t(424)),s),s=Og(r,s,h,l,d);break e}else for(hn=ti(s.stateNode.containerInfo.firstChild),cn=s,tt=!0,Ln=null,l=$m(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(go(),h===d){s=xr(r,s,l);break e}qt(r,s,h,l)}s=s.child}return s;case 5:return Gm(s),r===null&&Bh(s),h=s.type,d=s.pendingProps,y=r!==null?r.memoizedProps:null,w=d.children,xh(h,d)?w=null:y!==null&&xh(h,y)&&(s.flags|=32),Cg(r,s),qt(r,s,w,l),s.child;case 6:return r===null&&Bh(s),null;case 13:return xg(r,s,l);case 4:return Qh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=yo(s,null,h,l):qt(r,s,h,l),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Mn(h,d),Sg(r,s,h,d,l);case 7:return qt(r,s,s.pendingProps,l),s.child;case 8:return qt(r,s,s.pendingProps.children,l),s.child;case 12:return qt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,y=s.memoizedProps,w=d.value,Ye(wu,h._currentValue),h._currentValue=w,y!==null)if(Vn(y.value,w)){if(y.children===d.children&&!Xt.current){s=xr(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var P=y.dependencies;if(P!==null){w=y.child;for(var b=P.firstContext;b!==null;){if(b.context===h){if(y.tag===1){b=Or(-1,l&-l),b.tag=2;var z=y.updateQueue;if(z!==null){z=z.shared;var ee=z.pending;ee===null?b.next=b:(b.next=ee.next,ee.next=b),z.pending=b}}y.lanes|=l,b=y.alternate,b!==null&&(b.lanes|=l),qh(y.return,l,s),P.lanes|=l;break}b=b.next}}else if(y.tag===10)w=y.type===s.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=l,P=w.alternate,P!==null&&(P.lanes|=l),qh(w,l,s),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===s){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}qt(r,s,d.children,l),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,_o(s,l),d=wn(d),h=h(d),s.flags|=1,qt(r,s,h,l),s.child;case 14:return h=s.type,d=Mn(h,s.pendingProps),d=Mn(h.type,d),Ag(r,s,h,d,l);case 15:return Rg(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Mn(h,d),bu(r,s),s.tag=1,Jt(h)?(r=!0,mu(s)):r=!1,_o(s,l),yg(s,h,d),uf(s,h,d,l),df(null,s,h,!0,r,l);case 19:return Dg(r,s,l);case 22:return Pg(r,s,l)}throw Error(t(156,s.tag))};function iy(r,s){return Hs(r,s)}function zT(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(r,s,l,h){return new zT(r,s,l,h)}function bf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $T(r){if(typeof r=="function")return bf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===le)return 14}return 2}function fi(r,s){var l=r.alternate;return l===null?(l=Sn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Wu(r,s,l,h,d,y){var w=2;if(h=r,typeof r=="function")bf(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case N:return fs(l.children,d,y,s);case R:w=8,d|=8;break;case C:return r=Sn(12,l,s,d|2),r.elementType=C,r.lanes=y,r;case T:return r=Sn(13,l,s,d),r.elementType=T,r.lanes=y,r;case J:return r=Sn(19,l,s,d),r.elementType=J,r.lanes=y,r;case ae:return Hu(l,d,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:w=10;break e;case M:w=9;break e;case F:w=11;break e;case le:w=14;break e;case fe:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Sn(w,l,s,d),s.elementType=r,s.type=h,s.lanes=y,s}function fs(r,s,l,h){return r=Sn(7,r,h,s),r.lanes=l,r}function Hu(r,s,l,h){return r=Sn(22,r,h,s),r.elementType=ae,r.lanes=l,r.stateNode={isHidden:!1},r}function Df(r,s,l){return r=Sn(6,r,null,s),r.lanes=l,r}function Vf(r,s,l){return s=Sn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function WT(r,s,l,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kr(0),this.expirationTimes=Kr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Lf(r,s,l,h,d,y,w,P,b){return r=new WT(r,s,l,P,b),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Sn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gh(y),r}function HT(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function sy(r){if(!r)return ri;r=r._reactInternals;e:{if(Cn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(Jt(l))return bm(r,l,s)}return s}function oy(r,s,l,h,d,y,w,P,b){return r=Lf(l,h,!0,r,d,y,w,P,b),r.context=sy(null),l=r.current,h=Kt(),d=ci(l),y=Or(h,d),y.callback=s??null,oi(l,y,d),r.current.lanes=d,Gr(r,d,h),tn(r,h),r}function qu(r,s,l,h){var d=s.current,y=Kt(),w=ci(d);return l=sy(l),s.context===null?s.context=l:s.pendingContext=l,s=Or(y,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=oi(d,s,w),r!==null&&(jn(r,d,w,y),Iu(r,d,w)),w}function Ku(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ay(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Mf(r,s){ay(r,s),(r=r.alternate)&&ay(r,s)}function qT(){return null}var ly=typeof reportError=="function"?reportError:function(r){console.error(r)};function Ff(r){this._internalRoot=r}Gu.prototype.render=Ff.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));qu(r,s,null,null)},Gu.prototype.unmount=Ff.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;us(function(){qu(null,r,null,null)}),s[Rr]=null}};function Gu(r){this._internalRoot=r}Gu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Gl();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Yn.length&&s!==0&&s<Yn[l].priority;l++);Yn.splice(l,0,r),l===0&&Xl(r)}};function Uf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Qu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function uy(){}function KT(r,s,l,h,d){if(d){if(typeof h=="function"){var y=h;h=function(){var z=Ku(w);y.call(z)}}var w=oy(s,h,r,0,null,!1,!1,"",uy);return r._reactRootContainer=w,r[Rr]=w.current,ka(r.nodeType===8?r.parentNode:r),us(),w}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var P=h;h=function(){var z=Ku(b);P.call(z)}}var b=Lf(r,0,!1,null,null,!1,!1,"",uy);return r._reactRootContainer=b,r[Rr]=b.current,ka(r.nodeType===8?r.parentNode:r),us(function(){qu(s,b,l,h)}),b}function Yu(r,s,l,h,d){var y=l._reactRootContainer;if(y){var w=y;if(typeof d=="function"){var P=d;d=function(){var b=Ku(w);P.call(b)}}qu(s,w,r,d)}else w=KT(l,s,r,d,h);return Ku(w)}ql=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=qr(s.pendingLanes);l!==0&&(Qr(s,l|1),tn(s,Qe()),(Be&6)===0&&(So=Qe()+500,ii()))}break;case 13:us(function(){var h=Nr(r,1);if(h!==null){var d=Kt();jn(h,r,1,d)}}),Mf(r,1)}},Gs=function(r){if(r.tag===13){var s=Nr(r,134217728);if(s!==null){var l=Kt();jn(s,r,134217728,l)}Mf(r,134217728)}},Kl=function(r){if(r.tag===13){var s=ci(r),l=Nr(r,s);if(l!==null){var h=Kt();jn(l,r,s,h)}Mf(r,s)}},Gl=function(){return Fe},Ql=function(r,s){var l=Fe;try{return Fe=r,s()}finally{Fe=l}},Us=function(r,s,l){switch(s){case"input":if(ea(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var d=du(h);if(!d)throw Error(t(90));bs(h),ea(h,d)}}}break;case"textarea":Ms(r,l);break;case"select":s=l.value,s!=null&&vr(r,!!l.multiple,s,!1)}},$i=Nf,ca=us;var GT={usingClientEntryPoint:!1,Events:[xa,co,du,Gn,ua,Nf]},qa={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QT={bundleType:qa.bundleType,version:qa.version,rendererPackageName:qa.rendererPackageName,rendererConfig:qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=da(r),r===null?null:r.stateNode},findFiberByHostInstance:qa.findFiberByHostInstance||qT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Gi=Xu.inject(QT),on=Xu}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GT,nn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uf(s))throw Error(t(200));return HT(r,s,null,l)},nn.createRoot=function(r,s){if(!Uf(r))throw Error(t(299));var l=!1,h="",d=ly;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Lf(r,1,!1,null,null,l,!1,h,d),r[Rr]=s.current,ka(r.nodeType===8?r.parentNode:r),new Ff(s)},nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=da(s),r=r===null?null:r.stateNode,r},nn.flushSync=function(r){return us(r)},nn.hydrate=function(r,s,l){if(!Qu(s))throw Error(t(200));return Yu(null,r,s,!0,l)},nn.hydrateRoot=function(r,s,l){if(!Uf(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,d=!1,y="",w=ly;if(l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=oy(s,null,r,1,l??null,d,!1,y,w),r[Rr]=s.current,ka(r),h)for(r=0;r<h.length;r++)l=h[r],d=l._getVersion,d=d(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,d]:s.mutableSourceEagerHydrationData.push(l,d);return new Gu(s)},nn.render=function(r,s,l){if(!Qu(s))throw Error(t(200));return Yu(null,r,s,!1,l)},nn.unmountComponentAtNode=function(r){if(!Qu(r))throw Error(t(40));return r._reactRootContainer?(us(function(){Yu(null,null,r,!1,function(){r._reactRootContainer=null,r[Rr]=null})}),!0):!1},nn.unstable_batchedUpdates=Nf,nn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!Qu(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Yu(r,s,l,!1,h)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var yy;function F_(){if(yy)return zf.exports;yy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zf.exports=iI(),zf.exports}var vy;function sI(){if(vy)return Ju;vy=1;var n=F_();return Ju.createRoot=n.createRoot,Ju.hydrateRoot=n.hydrateRoot,Ju}var oI=sI();const aI=qc(oI);var Hf={exports:{}},qf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function lI(){if(_y)return qf;_y=1;var n=Tl();function e(E,I){return E===I&&(E!==0||1/E===1/I)||E!==E&&I!==I}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,o=n.useEffect,a=n.useLayoutEffect,c=n.useDebugValue;function f(E,I){var k=I(),D=i({inst:{value:k,getSnapshot:I}}),O=D[0].inst,A=D[1];return a(function(){O.value=k,O.getSnapshot=I,p(O)&&A({inst:O})},[E,k,I]),o(function(){return p(O)&&A({inst:O}),E(function(){p(O)&&A({inst:O})})},[E]),c(k),k}function p(E){var I=E.getSnapshot;E=E.value;try{var k=I();return!t(E,k)}catch{return!0}}function g(E,I){return I()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:f;return qf.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:_,qf}var Ey;function U_(){return Ey||(Ey=1,Hf.exports=lI()),Hf.exports}U_();var Kf={exports:{}},Gf={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function uI(){if(wy)return Gf;wy=1;var n=Tl(),e=U_();function t(g,_){return g===_&&(g!==0||1/g===1/_)||g!==g&&_!==_}var i=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,a=n.useRef,c=n.useEffect,f=n.useMemo,p=n.useDebugValue;return Gf.useSyncExternalStoreWithSelector=function(g,_,E,I,k){var D=a(null);if(D.current===null){var O={hasValue:!1,value:null};D.current=O}else O=D.current;D=f(function(){function Q(ce){if(!H){if(H=!0,q=ce,ce=I(ce),k!==void 0&&O.hasValue){var N=O.value;if(k(N,ce))return ne=N}return ne=ce}if(N=ne,i(q,ce))return N;var R=I(ce);return k!==void 0&&k(N,R)?(q=ce,N):(q=ce,ne=R)}var H=!1,q,ne,K=E===void 0?null:E;return[function(){return Q(_())},K===null?void 0:function(){return Q(K())}]},[_,E,I,k]);var A=o(g,D[0],D[1]);return c(function(){O.hasValue=!0,O.value=A},[A]),p(A),A},Gf}var Ty;function cI(){return Ty||(Ty=1,Kf.exports=uI()),Kf.exports}var hI=cI(),j_=F_();const gx=qc(j_);function fI(n){n()}let B_=fI;const dI=n=>B_=n,pI=()=>B_,Iy=Symbol.for("react-redux-context"),Sy=typeof globalThis<"u"?globalThis:{};function mI(){var n;if(!ue.createContext)return{};const e=(n=Sy[Iy])!=null?n:Sy[Iy]=new Map;let t=e.get(ue.createContext);return t||(t=ue.createContext(null),e.set(ue.createContext,t)),t}const vc=mI();function z_(n=vc){return function(){return ue.useContext(n)}}const gI=z_(),yI=()=>{throw new Error("uSES not initialized!")};let $_=yI;const vI=n=>{$_=n},_I=(n,e)=>n===e;function EI(n=vc){const e=n===vc?gI:z_(n);return function(i,o={}){const{equalityFn:a=_I,stabilityCheck:c=void 0,noopCheck:f=void 0}=typeof o=="function"?{equalityFn:o}:o,{store:p,subscription:g,getServerState:_,stabilityCheck:E,noopCheck:I}=e();ue.useRef(!0);const k=ue.useCallback({[i.name](O){return i(O)}}[i.name],[i,E,c]),D=$_(g.addNestedSub,p.getState,_||p.getState,k,a);return ue.useDebugValue(D),D}}const wI=EI();var Qf={exports:{}},$e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function TI(){if(Ay)return $e;Ay=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,f=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,g=n?Symbol.for("react.concurrent_mode"):60111,_=n?Symbol.for("react.forward_ref"):60112,E=n?Symbol.for("react.suspense"):60113,I=n?Symbol.for("react.suspense_list"):60120,k=n?Symbol.for("react.memo"):60115,D=n?Symbol.for("react.lazy"):60116,O=n?Symbol.for("react.block"):60121,A=n?Symbol.for("react.fundamental"):60117,Q=n?Symbol.for("react.responder"):60118,H=n?Symbol.for("react.scope"):60119;function q(K){if(typeof K=="object"&&K!==null){var ce=K.$$typeof;switch(ce){case e:switch(K=K.type,K){case p:case g:case i:case a:case o:case E:return K;default:switch(K=K&&K.$$typeof,K){case f:case _:case D:case k:case c:return K;default:return ce}}case t:return ce}}}function ne(K){return q(K)===g}return $e.AsyncMode=p,$e.ConcurrentMode=g,$e.ContextConsumer=f,$e.ContextProvider=c,$e.Element=e,$e.ForwardRef=_,$e.Fragment=i,$e.Lazy=D,$e.Memo=k,$e.Portal=t,$e.Profiler=a,$e.StrictMode=o,$e.Suspense=E,$e.isAsyncMode=function(K){return ne(K)||q(K)===p},$e.isConcurrentMode=ne,$e.isContextConsumer=function(K){return q(K)===f},$e.isContextProvider=function(K){return q(K)===c},$e.isElement=function(K){return typeof K=="object"&&K!==null&&K.$$typeof===e},$e.isForwardRef=function(K){return q(K)===_},$e.isFragment=function(K){return q(K)===i},$e.isLazy=function(K){return q(K)===D},$e.isMemo=function(K){return q(K)===k},$e.isPortal=function(K){return q(K)===t},$e.isProfiler=function(K){return q(K)===a},$e.isStrictMode=function(K){return q(K)===o},$e.isSuspense=function(K){return q(K)===E},$e.isValidElementType=function(K){return typeof K=="string"||typeof K=="function"||K===i||K===g||K===a||K===o||K===E||K===I||typeof K=="object"&&K!==null&&(K.$$typeof===D||K.$$typeof===k||K.$$typeof===c||K.$$typeof===f||K.$$typeof===_||K.$$typeof===A||K.$$typeof===Q||K.$$typeof===H||K.$$typeof===O)},$e.typeOf=q,$e}var Ry;function II(){return Ry||(Ry=1,Qf.exports=TI()),Qf.exports}var Yf,Py;function SI(){if(Py)return Yf;Py=1;var n=II(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=i,a[n.Memo]=o;function c(D){return n.isMemo(D)?o:a[D.$$typeof]||e}var f=Object.defineProperty,p=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,E=Object.getPrototypeOf,I=Object.prototype;function k(D,O,A){if(typeof O!="string"){if(I){var Q=E(O);Q&&Q!==I&&k(D,Q,A)}var H=p(O);g&&(H=H.concat(g(O)));for(var q=c(D),ne=c(O),K=0;K<H.length;++K){var ce=H[K];if(!t[ce]&&!(A&&A[ce])&&!(ne&&ne[ce])&&!(q&&q[ce])){var N=_(O,ce);try{f(D,ce,N)}catch{}}}}return D}return Yf=k,Yf}var AI=SI();const yx=qc(AI);var Xf={exports:{}},We={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function RI(){if(Cy)return We;Cy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),D;D=Symbol.for("react.module.reference");function O(A){if(typeof A=="object"&&A!==null){var Q=A.$$typeof;switch(Q){case n:switch(A=A.type,A){case t:case o:case i:case g:case _:return A;default:switch(A=A&&A.$$typeof,A){case f:case c:case p:case I:case E:case a:return A;default:return Q}}case e:return Q}}}return We.ContextConsumer=c,We.ContextProvider=a,We.Element=n,We.ForwardRef=p,We.Fragment=t,We.Lazy=I,We.Memo=E,We.Portal=e,We.Profiler=o,We.StrictMode=i,We.Suspense=g,We.SuspenseList=_,We.isAsyncMode=function(){return!1},We.isConcurrentMode=function(){return!1},We.isContextConsumer=function(A){return O(A)===c},We.isContextProvider=function(A){return O(A)===a},We.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===n},We.isForwardRef=function(A){return O(A)===p},We.isFragment=function(A){return O(A)===t},We.isLazy=function(A){return O(A)===I},We.isMemo=function(A){return O(A)===E},We.isPortal=function(A){return O(A)===e},We.isProfiler=function(A){return O(A)===o},We.isStrictMode=function(A){return O(A)===i},We.isSuspense=function(A){return O(A)===g},We.isSuspenseList=function(A){return O(A)===_},We.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===o||A===i||A===g||A===_||A===k||typeof A=="object"&&A!==null&&(A.$$typeof===I||A.$$typeof===E||A.$$typeof===a||A.$$typeof===c||A.$$typeof===p||A.$$typeof===D||A.getModuleId!==void 0)},We.typeOf=O,We}var ky;function PI(){return ky||(ky=1,Xf.exports=RI()),Xf.exports}PI();function CI(){const n=pI();let e=null,t=null;return{clear(){e=null,t=null},notify(){n(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){let i=[],o=e;for(;o;)i.push(o),o=o.next;return i},subscribe(i){let o=!0,a=t={callback:i,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!o||e===null||(o=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}const Ny={notify(){},get:()=>[]};function kI(n,e){let t,i=Ny,o=0,a=!1;function c(O){_();const A=i.subscribe(O);let Q=!1;return()=>{Q||(Q=!0,A(),E())}}function f(){i.notify()}function p(){D.onStateChange&&D.onStateChange()}function g(){return a}function _(){o++,t||(t=n.subscribe(p),i=CI())}function E(){o--,t&&o===0&&(t(),t=void 0,i.clear(),i=Ny)}function I(){a||(a=!0,_())}function k(){a&&(a=!1,E())}const D={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:p,isSubscribed:g,trySubscribe:I,tryUnsubscribe:k,getListeners:()=>i};return D}const NI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OI=NI?ue.useLayoutEffect:ue.useEffect;function xI({store:n,context:e,children:t,serverState:i,stabilityCheck:o="once",noopCheck:a="once"}){const c=ue.useMemo(()=>{const g=kI(n);return{store:n,subscription:g,getServerState:i?()=>i:void 0,stabilityCheck:o,noopCheck:a}},[n,i,o,a]),f=ue.useMemo(()=>n.getState(),[n]);OI(()=>{const{subscription:g}=c;return g.onStateChange=g.notifyNestedSubs,g.trySubscribe(),f!==n.getState()&&g.notifyNestedSubs(),()=>{g.tryUnsubscribe(),g.onStateChange=void 0}},[c,f]);const p=e||vc;return ue.createElement(p.Provider,{value:c},t)}vI(hI.useSyncExternalStoreWithSelector);dI(j_.unstable_batchedUpdates);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ll(){return ll=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ll.apply(this,arguments)}var Ei;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ei||(Ei={}));const Oy="popstate";function bI(n){n===void 0&&(n={});function e(o,a){let{pathname:c="/",search:f="",hash:p=""}=Ss(o.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),vd("",{pathname:c,search:f,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(o,a){let c=o.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");f=g===-1?p:p.slice(0,g)}return f+"#"+(typeof a=="string"?a:W_(a))}function i(o,a){Jd(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return VI(e,t,i,n)}function pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Jd(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DI(){return Math.random().toString(36).substr(2,8)}function xy(n,e){return{usr:n.state,key:n.key,idx:e}}function vd(n,e,t,i){return t===void 0&&(t=null),ll({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ss(e):e,{state:t,key:e&&e.key||i||DI()})}function W_(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ss(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function VI(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,f=Ei.Pop,p=null,g=_();g==null&&(g=0,c.replaceState(ll({},c.state,{idx:g}),""));function _(){return(c.state||{idx:null}).idx}function E(){f=Ei.Pop;let A=_(),Q=A==null?null:A-g;g=A,p&&p({action:f,location:O.location,delta:Q})}function I(A,Q){f=Ei.Push;let H=vd(O.location,A,Q);t&&t(H,A),g=_()+1;let q=xy(H,g),ne=O.createHref(H);try{c.pushState(q,"",ne)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;o.location.assign(ne)}a&&p&&p({action:f,location:O.location,delta:1})}function k(A,Q){f=Ei.Replace;let H=vd(O.location,A,Q);t&&t(H,A),g=_();let q=xy(H,g),ne=O.createHref(H);c.replaceState(q,"",ne),a&&p&&p({action:f,location:O.location,delta:0})}function D(A){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,H=typeof A=="string"?A:W_(A);return H=H.replace(/ $/,"%20"),pt(Q,"No window.location.(origin|href) available to create URL for href: "+H),new URL(H,Q)}let O={get action(){return f},get location(){return n(o,c)},listen(A){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Oy,E),p=A,()=>{o.removeEventListener(Oy,E),p=null}},createHref(A){return e(o,A)},createURL:D,encodeLocation(A){let Q=D(A);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:I,replace:k,go(A){return c.go(A)}};return O}var by;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(by||(by={}));function LI(n,e,t){return t===void 0&&(t="/"),MI(n,e,t)}function MI(n,e,t,i){let o=typeof e=="string"?Ss(e):e,a=K_(o.pathname||"/",t);if(a==null)return null;let c=H_(n);FI(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let g=YI(a);f=KI(c[p],g)}return f}function H_(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(a,c,f)=>{let p={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(pt(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let g=gs([i,p.relativePath]),_=t.concat(p);a.children&&a.children.length>0&&(pt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),H_(a.children,e,_,g)),!(a.path==null&&!a.index)&&e.push({path:g,score:HI(g,a.index),routesMeta:_})};return n.forEach((a,c)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,c);else for(let p of q_(a.path))o(a,c,p)}),e}function q_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=q_(i.join("/")),f=[];return f.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function FI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:qI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const UI=/^:[\w-]+$/,jI=3,BI=2,zI=1,$I=10,WI=-2,Dy=n=>n==="*";function HI(n,e){let t=n.split("/"),i=t.length;return t.some(Dy)&&(i+=WI),e&&(i+=BI),t.filter(o=>!Dy(o)).reduce((o,a)=>o+(UI.test(a)?jI:a===""?zI:$I),i)}function qI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function KI(n,e,t){let{routesMeta:i}=n,o={},a="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],g=f===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=GI({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),I=p.route;if(!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:gs([a,E.pathname]),pathnameBase:eS(gs([a,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(a=gs([a,E.pathnameBase]))}return c}function GI(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=QI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((g,_,E)=>{let{paramName:I,isOptional:k}=_;if(I==="*"){let O=f[E]||"";c=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const D=f[E];return k&&!D?g[I]=void 0:g[I]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:c,pattern:n}}function QI(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Jd(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function YI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jd(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function K_(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function XI(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ss(n):n;return{pathname:t?t.startsWith("/")?t:JI(t,e):e,search:tS(i),hash:nS(o)}}function JI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Jf(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function G_(n,e){let t=ZI(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Q_(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=Ss(n):(o=ll({},n),pt(!o.pathname||!o.pathname.includes("?"),Jf("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),Jf("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),Jf("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,f;if(c==null)f=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),E-=1;o.pathname=I.join("/")}f=E>=0?e[E]:"/"}let p=XI(o,f),g=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}const gs=n=>n.join("/").replace(/\/\/+/g,"/"),eS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function rS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Y_=["post","put","patch","delete"];new Set(Y_);const iS=["get",...Y_];new Set(iS);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ul(){return ul=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ul.apply(this,arguments)}const Zd=ue.createContext(null),sS=ue.createContext(null),Il=ue.createContext(null),Kc=ue.createContext(null),As=ue.createContext({outlet:null,matches:[],isDataRoute:!1}),X_=ue.createContext(null);function Sl(){return ue.useContext(Kc)!=null}function ep(){return Sl()||pt(!1),ue.useContext(Kc).location}function J_(n){ue.useContext(Il).static||ue.useLayoutEffect(n)}function Z_(){let{isDataRoute:n}=ue.useContext(As);return n?vS():oS()}function oS(){Sl()||pt(!1);let n=ue.useContext(Zd),{basename:e,future:t,navigator:i}=ue.useContext(Il),{matches:o}=ue.useContext(As),{pathname:a}=ep(),c=JSON.stringify(G_(o,t.v7_relativeSplatPath)),f=ue.useRef(!1);return J_(()=>{f.current=!0}),ue.useCallback(function(g,_){if(_===void 0&&(_={}),!f.current)return;if(typeof g=="number"){i.go(g);return}let E=Q_(g,JSON.parse(c),a,_.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:gs([e,E.pathname])),(_.replace?i.replace:i.push)(E,_.state,_)},[e,i,c,a,n])}function aS(n,e){return lS(n,e)}function lS(n,e,t,i){Sl()||pt(!1);let{navigator:o}=ue.useContext(Il),{matches:a}=ue.useContext(As),c=a[a.length-1],f=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let g=ep(),_;if(e){var E;let A=typeof e=="string"?Ss(e):e;p==="/"||(E=A.pathname)!=null&&E.startsWith(p)||pt(!1),_=A}else _=g;let I=_.pathname||"/",k=I;if(p!=="/"){let A=p.replace(/^\//,"").split("/");k="/"+I.replace(/^\//,"").split("/").slice(A.length).join("/")}let D=LI(n,{pathname:k}),O=dS(D&&D.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:gs([p,o.encodeLocation?o.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:gs([p,o.encodeLocation?o.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,t,i);return e&&O?ue.createElement(Kc.Provider,{value:{location:ul({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Ei.Pop}},O):O}function uS(){let n=yS(),e=rS(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ue.createElement(ue.Fragment,null,ue.createElement("h2",null,"Unexpected Application Error!"),ue.createElement("h3",{style:{fontStyle:"italic"}},e),t?ue.createElement("pre",{style:o},t):null,null)}const cS=ue.createElement(uS,null);class hS extends ue.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ue.createElement(As.Provider,{value:this.props.routeContext},ue.createElement(X_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fS(n){let{routeContext:e,match:t,children:i}=n,o=ue.useContext(Zd);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),ue.createElement(As.Provider,{value:e},i)}function dS(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,f=(o=t)==null?void 0:o.errors;if(f!=null){let _=c.findIndex(E=>E.route.id&&(f==null?void 0:f[E.route.id])!==void 0);_>=0||pt(!1),c=c.slice(0,Math.min(c.length,_+1))}let p=!1,g=-1;if(t&&i&&i.v7_partialHydration)for(let _=0;_<c.length;_++){let E=c[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=_),E.route.id){let{loaderData:I,errors:k}=t,D=E.route.loader&&I[E.route.id]===void 0&&(!k||k[E.route.id]===void 0);if(E.route.lazy||D){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((_,E,I)=>{let k,D=!1,O=null,A=null;t&&(k=f&&E.route.id?f[E.route.id]:void 0,O=E.route.errorElement||cS,p&&(g<0&&I===0?(_S("route-fallback"),D=!0,A=null):g===I&&(D=!0,A=E.route.hydrateFallbackElement||null)));let Q=e.concat(c.slice(0,I+1)),H=()=>{let q;return k?q=O:D?q=A:E.route.Component?q=ue.createElement(E.route.Component,null):E.route.element?q=E.route.element:q=_,ue.createElement(fS,{match:E,routeContext:{outlet:_,matches:Q,isDataRoute:t!=null},children:q})};return t&&(E.route.ErrorBoundary||E.route.errorElement||I===0)?ue.createElement(hS,{location:t.location,revalidation:t.revalidation,component:O,error:k,children:H(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):H()},null)}var eE=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(eE||{}),tE=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(tE||{});function pS(n){let e=ue.useContext(Zd);return e||pt(!1),e}function mS(n){let e=ue.useContext(sS);return e||pt(!1),e}function gS(n){let e=ue.useContext(As);return e||pt(!1),e}function nE(n){let e=gS(),t=e.matches[e.matches.length-1];return t.route.id||pt(!1),t.route.id}function yS(){var n;let e=ue.useContext(X_),t=mS(),i=nE();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function vS(){let{router:n}=pS(eE.UseNavigateStable),e=nE(tE.UseNavigateStable),t=ue.useRef(!1);return J_(()=>{t.current=!0}),ue.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,ul({fromRouteId:e},a)))},[n,e])}const Vy={};function _S(n,e,t){Vy[n]||(Vy[n]=!0)}function ES(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function wS(n){let{to:e,replace:t,state:i,relative:o}=n;Sl()||pt(!1);let{future:a,static:c}=ue.useContext(Il),{matches:f}=ue.useContext(As),{pathname:p}=ep(),g=Z_(),_=Q_(e,G_(f,a.v7_relativeSplatPath),p,o==="path"),E=JSON.stringify(_);return ue.useEffect(()=>g(JSON.parse(E),{replace:t,state:i,relative:o}),[g,E,o,t,i]),null}function ac(n){pt(!1)}function TS(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Ei.Pop,navigator:a,static:c=!1,future:f}=n;Sl()&&pt(!1);let p=e.replace(/^\/*/,"/"),g=ue.useMemo(()=>({basename:p,navigator:a,static:c,future:ul({v7_relativeSplatPath:!1},f)}),[p,f,a,c]);typeof i=="string"&&(i=Ss(i));let{pathname:_="/",search:E="",hash:I="",state:k=null,key:D="default"}=i,O=ue.useMemo(()=>{let A=K_(_,p);return A==null?null:{location:{pathname:A,search:E,hash:I,state:k,key:D},navigationType:o}},[p,_,E,I,k,D,o]);return O==null?null:ue.createElement(Il.Provider,{value:g},ue.createElement(Kc.Provider,{children:t,value:O}))}function IS(n){let{children:e,location:t}=n;return aS(_d(e),t)}new Promise(()=>{});function _d(n,e){e===void 0&&(e=[]);let t=[];return ue.Children.forEach(n,(i,o)=>{if(!ue.isValidElement(i))return;let a=[...e,o];if(i.type===ue.Fragment){t.push.apply(t,_d(i.props.children,a));return}i.type!==ac&&pt(!1),!i.props.index||!i.props.children||pt(!1);let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=_d(i.props.children,a)),t.push(c)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const SS="6";try{window.__reactRouterVersion=SS}catch{}const AS="startTransition",Ly=tI[AS];function RS(n){let{basename:e,children:t,future:i,window:o}=n,a=ue.useRef();a.current==null&&(a.current=bI({window:o,v5Compat:!0}));let c=a.current,[f,p]=ue.useState({action:c.action,location:c.location}),{v7_startTransition:g}=i||{},_=ue.useCallback(E=>{g&&Ly?Ly(()=>p(E)):p(E)},[p,g]);return ue.useLayoutEffect(()=>c.listen(_),[c,_]),ue.useEffect(()=>ES(i),[i]),ue.createElement(TS,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:c,future:i})}var My;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(My||(My={}));var Fy;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Fy||(Fy={}));function Bn(n){for(var e=arguments.length,t=Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+n+(t.length?" "+t.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ci(n){return!!n&&!!n[nt]}function Fr(n){var e;return!!n&&(function(t){if(!t||typeof t!="object")return!1;var i=Object.getPrototypeOf(t);if(i===null)return!0;var o=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===VS}(n)||Array.isArray(n)||!!n[Hy]||!!(!((e=n.constructor)===null||e===void 0)&&e[Hy])||tp(n)||np(n))}function ys(n,e,t){t===void 0&&(t=!1),qo(n)===0?(t?Object.keys:bo)(n).forEach(function(i){t&&typeof i=="symbol"||e(i,n[i],n)}):n.forEach(function(i,o){return e(o,i,n)})}function qo(n){var e=n[nt];return e?e.i>3?e.i-4:e.i:Array.isArray(n)?1:tp(n)?2:np(n)?3:0}function xo(n,e){return qo(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function PS(n,e){return qo(n)===2?n.get(e):n[e]}function rE(n,e,t){var i=qo(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function iE(n,e){return n===e?n!==0||1/n==1/e:n!=n&&e!=e}function tp(n){return bS&&n instanceof Map}function np(n){return DS&&n instanceof Set}function ds(n){return n.o||n.t}function rp(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var e=oE(n);delete e[nt];for(var t=bo(e),i=0;i<t.length;i++){var o=t[i],a=e[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[o]})}return Object.create(Object.getPrototypeOf(n),e)}function ip(n,e){return e===void 0&&(e=!1),sp(n)||Ci(n)||!Fr(n)||(qo(n)>1&&(n.set=n.add=n.clear=n.delete=CS),Object.freeze(n),e&&ys(n,function(t,i){return ip(i,!0)},!0)),n}function CS(){Bn(2)}function sp(n){return n==null||typeof n!="object"||Object.isFrozen(n)}function sr(n){var e=Id[n];return e||Bn(18,n),e}function kS(n,e){Id[n]||(Id[n]=e)}function Ed(){return cl}function Zf(n,e){e&&(sr("Patches"),n.u=[],n.s=[],n.v=e)}function _c(n){wd(n),n.p.forEach(NS),n.p=null}function wd(n){n===cl&&(cl=n.l)}function Uy(n){return cl={p:[],l:cl,h:n,m:!0,_:0}}function NS(n){var e=n[nt];e.i===0||e.i===1?e.j():e.g=!0}function ed(n,e){e._=e.p.length;var t=e.p[0],i=n!==void 0&&n!==t;return e.h.O||sr("ES5").S(e,n,i),i?(t[nt].P&&(_c(e),Bn(4)),Fr(n)&&(n=Ec(e,n),e.l||wc(e,n)),e.u&&sr("Patches").M(t[nt].t,n,e.u,e.s)):n=Ec(e,t,[]),_c(e),e.u&&e.v(e.u,e.s),n!==sE?n:void 0}function Ec(n,e,t){if(sp(e))return e;var i=e[nt];if(!i)return ys(e,function(f,p){return jy(n,i,e,f,p,t)},!0),e;if(i.A!==n)return e;if(!i.P)return wc(n,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var o=i.i===4||i.i===5?i.o=rp(i.k):i.o,a=o,c=!1;i.i===3&&(a=new Set(o),o.clear(),c=!0),ys(a,function(f,p){return jy(n,i,o,f,p,t,c)}),wc(n,o,!1),t&&n.u&&sr("Patches").N(i,t,n.u,n.s)}return i.o}function jy(n,e,t,i,o,a,c){if(Ci(o)){var f=Ec(n,o,a&&e&&e.i!==3&&!xo(e.R,i)?a.concat(i):void 0);if(rE(t,i,f),!Ci(f))return;n.m=!1}else c&&t.add(o);if(Fr(o)&&!sp(o)){if(!n.h.D&&n._<1)return;Ec(n,o),e&&e.A.l||wc(n,o)}}function wc(n,e,t){t===void 0&&(t=!1),!n.l&&n.h.D&&n.m&&ip(e,t)}function td(n,e){var t=n[nt];return(t?ds(t):n)[e]}function By(n,e){if(e in n)for(var t=Object.getPrototypeOf(n);t;){var i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Object.getPrototypeOf(t)}}function mi(n){n.P||(n.P=!0,n.l&&mi(n.l))}function nd(n){n.o||(n.o=rp(n.t))}function Td(n,e,t){var i=tp(e)?sr("MapSet").F(e,t):np(e)?sr("MapSet").T(e,t):n.O?function(o,a){var c=Array.isArray(o),f={i:c?1:0,A:a?a.A:Ed(),P:!1,I:!1,R:{},l:a,t:o,k:null,o:null,j:null,C:!1},p=f,g=hl;c&&(p=[f],g=Ga);var _=Proxy.revocable(p,g),E=_.revoke,I=_.proxy;return f.k=I,f.j=E,I}(e,t):sr("ES5").J(e,t);return(t?t.A:Ed()).p.push(i),i}function OS(n){return Ci(n)||Bn(22,n),function e(t){if(!Fr(t))return t;var i,o=t[nt],a=qo(t);if(o){if(!o.P&&(o.i<4||!sr("ES5").K(o)))return o.t;o.I=!0,i=zy(t,a),o.I=!1}else i=zy(t,a);return ys(i,function(c,f){o&&PS(o.t,c)===f||rE(i,c,e(f))}),a===3?new Set(i):i}(n)}function zy(n,e){switch(e){case 2:return new Map(n);case 3:return Array.from(n)}return rp(n)}function xS(){function n(a,c){var f=o[a];return f?f.enumerable=c:o[a]=f={configurable:!0,enumerable:c,get:function(){var p=this[nt];return hl.get(p,a)},set:function(p){var g=this[nt];hl.set(g,a,p)}},f}function e(a){for(var c=a.length-1;c>=0;c--){var f=a[c][nt];if(!f.P)switch(f.i){case 5:i(f)&&mi(f);break;case 4:t(f)&&mi(f)}}}function t(a){for(var c=a.t,f=a.k,p=bo(f),g=p.length-1;g>=0;g--){var _=p[g];if(_!==nt){var E=c[_];if(E===void 0&&!xo(c,_))return!0;var I=f[_],k=I&&I[nt];if(k?k.t!==E:!iE(I,E))return!0}}var D=!!c[nt];return p.length!==bo(c).length+(D?0:1)}function i(a){var c=a.k;if(c.length!==a.t.length)return!0;var f=Object.getOwnPropertyDescriptor(c,c.length-1);if(f&&!f.get)return!0;for(var p=0;p<c.length;p++)if(!c.hasOwnProperty(p))return!0;return!1}var o={};kS("ES5",{J:function(a,c){var f=Array.isArray(a),p=function(_,E){if(_){for(var I=Array(E.length),k=0;k<E.length;k++)Object.defineProperty(I,""+k,n(k,!0));return I}var D=oE(E);delete D[nt];for(var O=bo(D),A=0;A<O.length;A++){var Q=O[A];D[Q]=n(Q,_||!!D[Q].enumerable)}return Object.create(Object.getPrototypeOf(E),D)}(f,a),g={i:f?5:4,A:c?c.A:Ed(),P:!1,I:!1,R:{},l:c,t:a,k:p,o:null,g:!1,C:!1};return Object.defineProperty(p,nt,{value:g,writable:!0}),p},S:function(a,c,f){f?Ci(c)&&c[nt].A===a&&e(a.p):(a.u&&function p(g){if(g&&typeof g=="object"){var _=g[nt];if(_){var E=_.t,I=_.k,k=_.R,D=_.i;if(D===4)ys(I,function(q){q!==nt&&(E[q]!==void 0||xo(E,q)?k[q]||p(I[q]):(k[q]=!0,mi(_)))}),ys(E,function(q){I[q]!==void 0||xo(I,q)||(k[q]=!1,mi(_))});else if(D===5){if(i(_)&&(mi(_),k.length=!0),I.length<E.length)for(var O=I.length;O<E.length;O++)k[O]=!1;else for(var A=E.length;A<I.length;A++)k[A]=!0;for(var Q=Math.min(I.length,E.length),H=0;H<Q;H++)I.hasOwnProperty(H)||(k[H]=!0),k[H]===void 0&&p(I[H])}}}}(a.p[0]),e(a.p))},K:function(a){return a.i===4?t(a):i(a)}})}var $y,cl,op=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",bS=typeof Map<"u",DS=typeof Set<"u",Wy=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",sE=op?Symbol.for("immer-nothing"):(($y={})["immer-nothing"]=!0,$y),Hy=op?Symbol.for("immer-draftable"):"__$immer_draftable",nt=op?Symbol.for("immer-state"):"__$immer_state",VS=""+Object.prototype.constructor,bo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,oE=Object.getOwnPropertyDescriptors||function(n){var e={};return bo(n).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(n,t)}),e},Id={},hl={get:function(n,e){if(e===nt)return n;var t=ds(n);if(!xo(t,e))return function(o,a,c){var f,p=By(a,c);return p?"value"in p?p.value:(f=p.get)===null||f===void 0?void 0:f.call(o.k):void 0}(n,t,e);var i=t[e];return n.I||!Fr(i)?i:i===td(n.t,e)?(nd(n),n.o[e]=Td(n.A.h,i,n)):i},has:function(n,e){return e in ds(n)},ownKeys:function(n){return Reflect.ownKeys(ds(n))},set:function(n,e,t){var i=By(ds(n),e);if(i!=null&&i.set)return i.set.call(n.k,t),!0;if(!n.P){var o=td(ds(n),e),a=o==null?void 0:o[nt];if(a&&a.t===t)return n.o[e]=t,n.R[e]=!1,!0;if(iE(t,o)&&(t!==void 0||xo(n.t,e)))return!0;nd(n),mi(n)}return n.o[e]===t&&(t!==void 0||e in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[e])||(n.o[e]=t,n.R[e]=!0),!0},deleteProperty:function(n,e){return td(n.t,e)!==void 0||e in n.t?(n.R[e]=!1,nd(n),mi(n)):delete n.R[e],n.o&&delete n.o[e],!0},getOwnPropertyDescriptor:function(n,e){var t=ds(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.i!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty:function(){Bn(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){Bn(12)}},Ga={};ys(hl,function(n,e){Ga[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ga.deleteProperty=function(n,e){return Ga.set.call(this,n,e,void 0)},Ga.set=function(n,e,t){return hl.set.call(this,n[0],e,t,n[0])};var LS=function(){function n(t){var i=this;this.O=Wy,this.D=!0,this.produce=function(o,a,c){if(typeof o=="function"&&typeof a!="function"){var f=a;a=o;var p=i;return function(O){var A=this;O===void 0&&(O=f);for(var Q=arguments.length,H=Array(Q>1?Q-1:0),q=1;q<Q;q++)H[q-1]=arguments[q];return p.produce(O,function(ne){var K;return(K=a).call.apply(K,[A,ne].concat(H))})}}var g;if(typeof a!="function"&&Bn(6),c!==void 0&&typeof c!="function"&&Bn(7),Fr(o)){var _=Uy(i),E=Td(i,o,void 0),I=!0;try{g=a(E),I=!1}finally{I?_c(_):wd(_)}return typeof Promise<"u"&&g instanceof Promise?g.then(function(O){return Zf(_,c),ed(O,_)},function(O){throw _c(_),O}):(Zf(_,c),ed(g,_))}if(!o||typeof o!="object"){if((g=a(o))===void 0&&(g=o),g===sE&&(g=void 0),i.D&&ip(g,!0),c){var k=[],D=[];sr("Patches").M(o,g,k,D),c(k,D)}return g}Bn(21,o)},this.produceWithPatches=function(o,a){if(typeof o=="function")return function(g){for(var _=arguments.length,E=Array(_>1?_-1:0),I=1;I<_;I++)E[I-1]=arguments[I];return i.produceWithPatches(g,function(k){return o.apply(void 0,[k].concat(E))})};var c,f,p=i.produce(o,a,function(g,_){c=g,f=_});return typeof Promise<"u"&&p instanceof Promise?p.then(function(g){return[g,c,f]}):[p,c,f]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=n.prototype;return e.createDraft=function(t){Fr(t)||Bn(8),Ci(t)&&(t=OS(t));var i=Uy(this),o=Td(this,t,void 0);return o[nt].C=!0,wd(i),o},e.finishDraft=function(t,i){var o=t&&t[nt],a=o.A;return Zf(a,i),ed(void 0,a)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!Wy&&Bn(20),this.O=t},e.applyPatches=function(t,i){var o;for(o=i.length-1;o>=0;o--){var a=i[o];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}o>-1&&(i=i.slice(o+1));var c=sr("Patches").$;return Ci(t)?c(t,i):this.produce(t,function(f){return c(f,i)})},n}(),pn=new LS,aE=pn.produce;pn.produceWithPatches.bind(pn);pn.setAutoFreeze.bind(pn);pn.setUseProxies.bind(pn);pn.applyPatches.bind(pn);pn.createDraft.bind(pn);pn.finishDraft.bind(pn);function fl(n){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(n)}function MS(n,e){if(fl(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(fl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function FS(n){var e=MS(n,"string");return fl(e)=="symbol"?e:e+""}function US(n,e,t){return(e=FS(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function Ky(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qy(Object(t),!0).forEach(function(i){US(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qy(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function xt(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var Gy=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),rd=function(){return Math.random().toString(36).substring(7).split("").join(".")},Tc={INIT:"@@redux/INIT"+rd(),REPLACE:"@@redux/REPLACE"+rd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+rd()}};function jS(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function lE(n,e,t){var i;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(xt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(xt(1));return t(lE)(n,e)}if(typeof n!="function")throw new Error(xt(2));var o=n,a=e,c=[],f=c,p=!1;function g(){f===c&&(f=c.slice())}function _(){if(p)throw new Error(xt(3));return a}function E(O){if(typeof O!="function")throw new Error(xt(4));if(p)throw new Error(xt(5));var A=!0;return g(),f.push(O),function(){if(A){if(p)throw new Error(xt(6));A=!1,g();var H=f.indexOf(O);f.splice(H,1),c=null}}}function I(O){if(!jS(O))throw new Error(xt(7));if(typeof O.type>"u")throw new Error(xt(8));if(p)throw new Error(xt(9));try{p=!0,a=o(a,O)}finally{p=!1}for(var A=c=f,Q=0;Q<A.length;Q++){var H=A[Q];H()}return O}function k(O){if(typeof O!="function")throw new Error(xt(10));o=O,I({type:Tc.REPLACE})}function D(){var O,A=E;return O={subscribe:function(H){if(typeof H!="object"||H===null)throw new Error(xt(11));function q(){H.next&&H.next(_())}q();var ne=A(q);return{unsubscribe:ne}}},O[Gy]=function(){return this},O}return I({type:Tc.INIT}),i={dispatch:I,subscribe:E,getState:_,replaceReducer:k},i[Gy]=D,i}function BS(n){Object.keys(n).forEach(function(e){var t=n[e],i=t(void 0,{type:Tc.INIT});if(typeof i>"u")throw new Error(xt(12));if(typeof t(void 0,{type:Tc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xt(13))})}function zS(n){for(var e=Object.keys(n),t={},i=0;i<e.length;i++){var o=e[i];typeof n[o]=="function"&&(t[o]=n[o])}var a=Object.keys(t),c;try{BS(t)}catch(f){c=f}return function(p,g){if(p===void 0&&(p={}),c)throw c;for(var _=!1,E={},I=0;I<a.length;I++){var k=a[I],D=t[k],O=p[k],A=D(O,g);if(typeof A>"u")throw g&&g.type,new Error(xt(14));E[k]=A,_=_||A!==O}return _=_||a.length!==Object.keys(p).length,_?E:p}}function Qy(n,e){return function(){return e(n.apply(this,arguments))}}function vx(n,e){if(typeof n=="function")return Qy(n,e);if(typeof n!="object"||n===null)throw new Error(xt(16));var t={};for(var i in n){var o=n[i];typeof o=="function"&&(t[i]=Qy(o,e))}return t}function Ic(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.length===0?function(i){return i}:e.length===1?e[0]:e.reduce(function(i,o){return function(){return i(o.apply(void 0,arguments))}})}function $S(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){return function(){var o=i.apply(void 0,arguments),a=function(){throw new Error(xt(15))},c={getState:o.getState,dispatch:function(){return a.apply(void 0,arguments)}},f=e.map(function(p){return p(c)});return a=Ic.apply(void 0,f)(o.dispatch),Ky(Ky({},o),{},{dispatch:a})}}}function uE(n){var e=function(i){var o=i.dispatch,a=i.getState;return function(c){return function(f){return typeof f=="function"?f(o,a,n):c(f)}}};return e}var Sd=uE();Sd.withExtraArgument=uE;var cE=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),WS=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(g){return function(_){return p([g,_])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(a=g[0]&2?o.return:g[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,g[1])).done)return a;switch(o=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,o=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){t.label=g[1];break}if(g[0]===6&&t.label<a[1]){t.label=a[1],a=g;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(g);break}a[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(n,t)}catch(_){g=[6,_],o=0}finally{i=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Fo=function(n,e){for(var t=0,i=e.length,o=n.length;t<i;t++,o++)n[o]=e[t];return n},HS=Object.defineProperty,qS=Object.defineProperties,KS=Object.getOwnPropertyDescriptors,Yy=Object.getOwnPropertySymbols,GS=Object.prototype.hasOwnProperty,QS=Object.prototype.propertyIsEnumerable,Xy=function(n,e,t){return e in n?HS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t},Ti=function(n,e){for(var t in e||(e={}))GS.call(e,t)&&Xy(n,t,e[t]);if(Yy)for(var i=0,o=Yy(e);i<o.length;i++){var t=o[i];QS.call(e,t)&&Xy(n,t,e[t])}return n},id=function(n,e){return qS(n,KS(e))},YS=function(n,e,t){return new Promise(function(i,o){var a=function(p){try{f(t.next(p))}catch(g){o(g)}},c=function(p){try{f(t.throw(p))}catch(g){o(g)}},f=function(p){return p.done?i(p.value):Promise.resolve(p.value).then(a,c)};f((t=t.apply(n,e)).next())})},XS=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ic:Ic.apply(null,arguments)};function JS(n){if(typeof n!="object"||n===null)return!1;var e=Object.getPrototypeOf(n);if(e===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return e===t}function Ii(n,e){function t(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(e){var a=e.apply(void 0,i);if(!a)throw new Error("prepareAction did not return an object");return Ti(Ti({type:n,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:n,payload:i[0]}}return t.toString=function(){return""+n},t.type=n,t.match=function(i){return i.type===n},t}var ZS=function(n){cE(e,n);function e(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=n.apply(this,t)||this;return Object.setPrototypeOf(o,e.prototype),o}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return n.prototype.concat.apply(this,t)},e.prototype.prepend=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.length===1&&Array.isArray(t[0])?new(e.bind.apply(e,Fo([void 0],t[0].concat(this)))):new(e.bind.apply(e,Fo([void 0],t.concat(this))))},e}(Array),e1=function(n){cE(e,n);function e(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=n.apply(this,t)||this;return Object.setPrototypeOf(o,e.prototype),o}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return n.prototype.concat.apply(this,t)},e.prototype.prepend=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.length===1&&Array.isArray(t[0])?new(e.bind.apply(e,Fo([void 0],t[0].concat(this)))):new(e.bind.apply(e,Fo([void 0],t.concat(this))))},e}(Array);function Ad(n){return Fr(n)?aE(n,function(){}):n}function t1(n){return typeof n=="boolean"}function n1(){return function(e){return r1(e)}}function r1(n){n===void 0&&(n={});var e=n.thunk,t=e===void 0?!0:e;n.immutableCheck,n.serializableCheck,n.actionCreatorCheck;var i=new ZS;return t&&(t1(t)?i.push(Sd):i.push(Sd.withExtraArgument(t.extraArgument))),i}function i1(n){var e=n1(),t=n||{},i=t.reducer,o=i===void 0?void 0:i,a=t.middleware,c=a===void 0?e():a,f=t.devTools,p=f===void 0?!0:f,g=t.preloadedState,_=g===void 0?void 0:g,E=t.enhancers,I=E===void 0?void 0:E,k;if(typeof o=="function")k=o;else if(JS(o))k=zS(o);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var D=c;typeof D=="function"&&(D=D(e));var O=$S.apply(void 0,D),A=Ic;p&&(A=XS(Ti({trace:!1},typeof p=="object"&&p)));var Q=new e1(O),H=Q;Array.isArray(I)?H=Fo([O],I):typeof I=="function"&&(H=I(Q));var q=A.apply(void 0,H);return lE(k,_,q)}function hE(n){var e={},t=[],i,o={addCase:function(a,c){var f=typeof a=="string"?a:a.type;if(!f)throw new Error("`builder.addCase` cannot be called with an empty action type");if(f in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[f]=c,o},addMatcher:function(a,c){return t.push({matcher:a,reducer:c}),o},addDefaultCase:function(a){return i=a,o}};return n(o),[e,t,i]}function s1(n){return typeof n=="function"}function o1(n,e,t,i){t===void 0&&(t=[]);var o=typeof e=="function"?hE(e):[e,t,i],a=o[0],c=o[1],f=o[2],p;if(s1(n))p=function(){return Ad(n())};else{var g=Ad(n);p=function(){return g}}function _(E,I){E===void 0&&(E=p());var k=Fo([a[I.type]],c.filter(function(D){var O=D.matcher;return O(I)}).map(function(D){var O=D.reducer;return O}));return k.filter(function(D){return!!D}).length===0&&(k=[f]),k.reduce(function(D,O){if(O)if(Ci(D)){var A=D,Q=O(A,I);return Q===void 0?D:Q}else{if(Fr(D))return aE(D,function(H){return O(H,I)});var Q=O(D,I);if(Q===void 0){if(D===null)return D;throw Error("A case reducer on a non-draftable value must not return undefined")}return Q}return D},E)}return _.getInitialState=p,_}function a1(n,e){return n+"/"+e}function l1(n){var e=n.name,t=typeof n.initialState=="function"?n.initialState:Ad(n.initialState),i=n.reducers||{},o=Object.keys(i),a={},c={},f={};o.forEach(function(_){var E=i[_],I=a1(e,_),k,D;"reducer"in E?(k=E.reducer,D=E.prepare):k=E,a[_]=k,c[I]=k,f[_]=D?Ii(I,D):Ii(I)});function p(){var _=typeof n.extraReducers=="function"?hE(n.extraReducers):[n.extraReducers],E=_[0],I=E===void 0?{}:E,k=_[1],D=k===void 0?[]:k,O=_[2],A=O===void 0?void 0:O,Q=Ti(Ti({},I),c);return o1(t,function(H){for(var q in Q)H.addCase(q,Q[q]);for(var ne=0,K=D;ne<K.length;ne++){var ce=K[ne];H.addMatcher(ce.matcher,ce.reducer)}A&&H.addDefaultCase(A)})}var g;return{name:e,reducer:function(_,E){return g||(g=p()),g(_,E)},actions:f,caseReducers:a,getInitialState:function(){return g||(g=p()),g.getInitialState()}}}var u1="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",c1=function(n){n===void 0&&(n=21);for(var e="",t=n;t--;)e+=u1[Math.random()*64|0];return e},h1=["name","message","stack","code"],sd=function(){function n(e,t){this.payload=e,this.meta=t}return n}(),Jy=function(){function n(e,t){this.payload=e,this.meta=t}return n}(),f1=function(n){if(typeof n=="object"&&n!==null){for(var e={},t=0,i=h1;t<i.length;t++){var o=i[t];typeof n[o]=="string"&&(e[o]=n[o])}return e}return{message:String(n)}};(function(){function n(e,t,i){var o=Ii(e+"/fulfilled",function(g,_,E,I){return{payload:g,meta:id(Ti({},I||{}),{arg:E,requestId:_,requestStatus:"fulfilled"})}}),a=Ii(e+"/pending",function(g,_,E){return{payload:void 0,meta:id(Ti({},E||{}),{arg:_,requestId:g,requestStatus:"pending"})}}),c=Ii(e+"/rejected",function(g,_,E,I,k){return{payload:I,error:(i&&i.serializeError||f1)(g||"Rejected"),meta:id(Ti({},k||{}),{arg:E,requestId:_,rejectedWithValue:!!I,requestStatus:"rejected",aborted:(g==null?void 0:g.name)==="AbortError",condition:(g==null?void 0:g.name)==="ConditionError"})}}),f=typeof AbortController<"u"?AbortController:function(){function g(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return g.prototype.abort=function(){},g}();function p(g){return function(_,E,I){var k=i!=null&&i.idGenerator?i.idGenerator(g):c1(),D=new f,O;function A(H){O=H,D.abort()}var Q=function(){return YS(this,null,function(){var H,q,ne,K,ce,N,R;return WS(this,function(C){switch(C.label){case 0:return C.trys.push([0,4,,5]),K=(H=i==null?void 0:i.condition)==null?void 0:H.call(i,g,{getState:E,extra:I}),p1(K)?[4,K]:[3,2];case 1:K=C.sent(),C.label=2;case 2:if(K===!1||D.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return ce=new Promise(function(x,M){return D.signal.addEventListener("abort",function(){return M({name:"AbortError",message:O||"Aborted"})})}),_(a(k,g,(q=i==null?void 0:i.getPendingMeta)==null?void 0:q.call(i,{requestId:k,arg:g},{getState:E,extra:I}))),[4,Promise.race([ce,Promise.resolve(t(g,{dispatch:_,getState:E,extra:I,requestId:k,signal:D.signal,abort:A,rejectWithValue:function(x,M){return new sd(x,M)},fulfillWithValue:function(x,M){return new Jy(x,M)}})).then(function(x){if(x instanceof sd)throw x;return x instanceof Jy?o(x.payload,k,g,x.meta):o(x,k,g)})])];case 3:return ne=C.sent(),[3,5];case 4:return N=C.sent(),ne=N instanceof sd?c(null,k,g,N.payload,N.meta):c(N,k,g),[3,5];case 5:return R=i&&!i.dispatchConditionRejection&&c.match(ne)&&ne.meta.condition,R||_(ne),[2,ne]}})})}();return Object.assign(Q,{abort:A,requestId:k,arg:g,unwrap:function(){return Q.then(d1)}})}}return Object.assign(p,{pending:a,rejected:c,fulfilled:o,typePrefix:e})}return n.withTypes=function(){return n},n})();function d1(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function p1(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var ap="listenerMiddleware";Ii(ap+"/add");Ii(ap+"/removeAll");Ii(ap+"/remove");var Zy;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);xS();const m1={user:null,isAuthenticated:!1,isLoading:!0,error:null},fE=l1({name:"auth",initialState:m1,reducers:{setUser:(n,e)=>{n.user=e.payload,n.isAuthenticated=!!e.payload,n.isLoading=!1,n.error=null},setLoading:(n,e)=>{n.isLoading=e.payload},setError:(n,e)=>{n.error=e.payload,n.isLoading=!1},clearError:n=>{n.error=null},logout:n=>{n.user=null,n.isAuthenticated=!1,n.isLoading=!1,n.error=null}}}),{setUser:Zu,setLoading:g1}=fE.actions,y1=fE.reducer,v1={ignoredActions:["auth/setUser"],ignoredActionPaths:["payload.createdAt","payload.updatedAt"],ignoredPaths:["auth.user.createdAt","auth.user.updatedAt"]},Ro=i1({reducer:{auth:y1},middleware:n=>n({serializableCheck:v1})}),_1="modulepreload",E1=function(n){return"/Traininglog/"+n},ev={},lp=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let c=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=c(t.map(g=>{if(g=E1(g),g in ev)return;ev[g]=!0;const _=g.endsWith(".css"),E=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${E}`))return;const I=document.createElement("link");if(I.rel=_?"stylesheet":_1,_||(I.as="script"),I.crossOrigin="",I.href=g,p&&I.setAttribute("nonce",p),document.head.appendChild(I),_)return new Promise((k,D)=>{I.addEventListener("load",k),I.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return o.then(c=>{for(const f of c||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})},w1=ue.lazy(()=>lp(()=>import("./ExerciseLog-D3-W2qaw.js"),[])),T1=ue.lazy(()=>lp(()=>import("./Login-S5Nropk_.js"),__vite__mapDeps([0,1]))),I1=ue.lazy(()=>lp(()=>import("./Register-OaMUjXQp.js"),__vite__mapDeps([2,1]))),S1=({children:n})=>{const{isAuthenticated:e,isLoading:t}=wI(i=>i.auth);return t?Se.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black",children:Se.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600"})}):e?Se.jsx(Se.Fragment,{children:n}):Se.jsx(wS,{to:"/login"})},A1=()=>Se.jsx(ue.Suspense,{fallback:Se.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black",children:Se.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600"})}),children:Se.jsxs(IS,{children:[Se.jsx(ac,{path:"/login",element:Se.jsx(T1,{})}),Se.jsx(ac,{path:"/register",element:Se.jsx(I1,{})}),Se.jsx(ac,{path:"/",element:Se.jsx(S1,{children:Se.jsx(w1,{})})})]})}),R1=()=>{const[n,e]=ue.useState(!1),t=Z_(),i=()=>{e(!n)},o=[{name:"Exercise Log",icon:Se.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:Se.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9h18M3 14h18m-9-4v10m-7-4h14"})}),color:"text-primary-400",path:"/"},{name:"Exercise History",icon:Se.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:Se.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"text-primary-300",path:"/history"},{name:"Programs",icon:Se.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:Se.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 012-2h2a2 2 0 012 2M9 5v2h6V5"})}),color:"text-primary-500",path:"/programs"},{name:"Export & Import",icon:Se.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:Se.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),color:"text-primary-200",path:"/backup"}],a=c=>{t(c),e(!1)};return Se.jsx(Se.Fragment,{children:n&&Se.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-40",onClick:i,children:Se.jsx("div",{className:"fixed inset-y-0 left-0 w-3/4 max-w-xs bg-gymkeeper-dark shadow-lg z-50",onClick:c=>c.stopPropagation(),children:Se.jsxs("div",{className:"flex flex-col h-full",children:[Se.jsxs("div",{className:"p-6 bg-purple-gradient border-b border-gymkeeper-purple-darker",children:[Se.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:"GYM KEEPER"}),Se.jsx("p",{className:"text-gray-200 text-sm",children:"v1.0.0"})]}),Se.jsx("div",{className:"flex-1 overflow-y-auto pt-4",children:o.map((c,f)=>Se.jsxs("button",{className:"flex items-center w-full px-6 py-5 hover:bg-gymkeeper-light",onClick:()=>a(c.path),children:[Se.jsx("span",{className:`mr-4 ${c.color}`,children:c.icon}),Se.jsx("span",{className:"text-white text-xl",children:c.name})]},f))}),Se.jsx("div",{className:"p-4 border-t border-gymkeeper-purple-darker",children:Se.jsx("div",{className:"text-xs text-gray-400",children:" 2025 GYM KEEPER"})})]})})})})},P1=({children:n})=>Se.jsxs("div",{className:"min-h-screen bg-gymkeeper-dark",children:[Se.jsx(R1,{}),Se.jsx("main",{className:"px-0 py-0",children:n})]}),C1=()=>{};var tv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},k1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],f=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,f=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,_=a>>2,E=(a&3)<<4|f>>4;let I=(f&15)<<2|g>>6,k=g&63;p||(k=64,c||(I=64)),i.push(t[_],t[E],t[I],t[k])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):k1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||g==null||E==null)throw new N1;const I=a<<2|f>>4;if(i.push(I),g!==64){const k=f<<4&240|g>>2;if(i.push(k),E!==64){const D=g<<6&192|E;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class N1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O1=function(n){const e=dE(n);return pE.encodeByteArray(e,!0)},Sc=function(n){return O1(n).replace(/\./g,"")},mE=function(n){try{return pE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=()=>x1().__FIREBASE_DEFAULTS__,D1=()=>{if(typeof process>"u"||typeof tv>"u")return;const n=tv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},V1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mE(n[1]);return e&&JSON.parse(e)},Gc=()=>{try{return C1()||b1()||D1()||V1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gE=n=>{var e,t;return(t=(e=Gc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},yE=n=>{const e=gE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},vE=()=>{var n;return(n=Gc())===null||n===void 0?void 0:n.config},_E=n=>{var e;return(e=Gc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(n){return n.endsWith(".cloudworkstations.dev")}async function up(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Sc(JSON.stringify(t)),Sc(JSON.stringify(c)),""].join(".")}const nl={};function M1(){const n={prod:[],emulator:[]};for(const e of Object.keys(nl))nl[e]?n.emulator.push(e):n.prod.push(e);return n}function F1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let nv=!1;function cp(n,e){if(typeof window>"u"||typeof document>"u"||!Rs(window.location.host)||nl[n]===e||nl[n]||nv)return;nl[n]=e;function t(I){return`__firebase__banner__${I}`}const i="__firebase__banner",a=M1().prod.length>0;function c(){const I=document.getElementById(i);I&&I.remove()}function f(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,k){I.setAttribute("width","24"),I.setAttribute("id",k),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function g(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{nv=!0,c()},I}function _(I,k){I.setAttribute("id",k),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function E(){const I=F1(i),k=t("text"),D=document.getElementById(k)||document.createElement("span"),O=t("learnmore"),A=document.getElementById(O)||document.createElement("a"),Q=t("preprendIcon"),H=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const q=I.element;f(q),_(A,O);const ne=g();p(H,Q),q.append(H,D,A,ne),document.body.appendChild(q)}a?(D.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function j1(){var n;const e=(n=Gc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W1(){const n=$t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function H1(){return!j1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q1(){try{return typeof indexedDB=="object"}catch{return!1}}function K1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="FirebaseError";class pr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=G1,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?Q1(a,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new pr(o,f,i)}}function Q1(n,e){return n.replace(Y1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Y1=/\{\$([^}]+)}/g;function X1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function vs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(rv(a)&&rv(c)){if(!vs(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function rv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Qa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Ya(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function J1(n,e){const t=new Z1(n,e);return t.subscribe.bind(t)}class Z1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");eA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=od),o.error===void 0&&(o.error=od),o.complete===void 0&&(o.complete=od);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function od(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(n){return n&&n._delegate?n._delegate:n}class ki{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new L1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rA(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:nA(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nA(n){return n===ps?void 0:n}function rA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const sA={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},oA=Le.INFO,aA={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},lA=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=aA[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hp{constructor(e){this.name=e,this._logLevel=oA,this._logHandler=lA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const uA=(n,e)=>e.some(t=>n instanceof t);let iv,sv;function cA(){return iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hA(){return sv||(sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wE=new WeakMap,Rd=new WeakMap,TE=new WeakMap,ad=new WeakMap,fp=new WeakMap;function fA(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Si(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&wE.set(t,n)}).catch(()=>{}),fp.set(e,n),e}function dA(n){if(Rd.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Rd.set(n,e)}let Pd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||TE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Si(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function pA(n){Pd=n(Pd)}function mA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ld(this),e,...t);return TE.set(i,e.sort?e.sort():[e]),Si(i)}:hA().includes(n)?function(...e){return n.apply(ld(this),e),Si(wE.get(this))}:function(...e){return Si(n.apply(ld(this),e))}}function gA(n){return typeof n=="function"?mA(n):(n instanceof IDBTransaction&&dA(n),uA(n,cA())?new Proxy(n,Pd):n)}function Si(n){if(n instanceof IDBRequest)return fA(n);if(ad.has(n))return ad.get(n);const e=gA(n);return e!==n&&(ad.set(n,e),fp.set(e,n)),e}const ld=n=>fp.get(n);function yA(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),f=Si(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Si(c.result),p.oldVersion,p.newVersion,Si(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const vA=["get","getKey","getAll","getAllKeys","count"],_A=["put","add","delete","clear"],ud=new Map;function ov(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ud.get(e))return ud.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=_A.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||vA.includes(t)))return;const a=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),o&&p.done]))[0]};return ud.set(e,a),a}pA(n=>({...n,get:(e,t,i)=>ov(e,t)||n.get(e,t,i),has:(e,t)=>!!ov(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wA(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function wA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cd="@firebase/app",av="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new hp("@firebase/app"),TA="@firebase/app-compat",IA="@firebase/analytics-compat",SA="@firebase/analytics",AA="@firebase/app-check-compat",RA="@firebase/app-check",PA="@firebase/auth",CA="@firebase/auth-compat",kA="@firebase/database",NA="@firebase/data-connect",OA="@firebase/database-compat",xA="@firebase/functions",bA="@firebase/functions-compat",DA="@firebase/installations",VA="@firebase/installations-compat",LA="@firebase/messaging",MA="@firebase/messaging-compat",FA="@firebase/performance",UA="@firebase/performance-compat",jA="@firebase/remote-config",BA="@firebase/remote-config-compat",zA="@firebase/storage",$A="@firebase/storage-compat",WA="@firebase/firestore",HA="@firebase/ai",qA="@firebase/firestore-compat",KA="firebase",GA="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="[DEFAULT]",QA={[Cd]:"fire-core",[TA]:"fire-core-compat",[SA]:"fire-analytics",[IA]:"fire-analytics-compat",[RA]:"fire-app-check",[AA]:"fire-app-check-compat",[PA]:"fire-auth",[CA]:"fire-auth-compat",[kA]:"fire-rtdb",[NA]:"fire-data-connect",[OA]:"fire-rtdb-compat",[xA]:"fire-fn",[bA]:"fire-fn-compat",[DA]:"fire-iid",[VA]:"fire-iid-compat",[LA]:"fire-fcm",[MA]:"fire-fcm-compat",[FA]:"fire-perf",[UA]:"fire-perf-compat",[jA]:"fire-rc",[BA]:"fire-rc-compat",[zA]:"fire-gcs",[$A]:"fire-gcs-compat",[WA]:"fire-fst",[qA]:"fire-fst-compat",[HA]:"fire-vertex","fire-js":"fire-js",[KA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new Map,YA=new Map,Nd=new Map;function lv(n,e){try{n.container.addComponent(e)}catch(t){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _s(n){const e=n.name;if(Nd.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;Nd.set(e,n);for(const t of Ac.values())lv(t,n);for(const t of YA.values())lv(t,n);return!0}function Qc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function dn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new Al("app","Firebase",XA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=GA;function IE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:kd,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Ai.create("bad-app-name",{appName:String(o)});if(t||(t=vE()),!t)throw Ai.create("no-options");const a=Ac.get(o);if(a){if(vs(t,a.options)&&vs(i,a.config))return a;throw Ai.create("duplicate-app",{appName:o})}const c=new iA(o);for(const p of Nd.values())c.addComponent(p);const f=new JA(t,i,c);return Ac.set(o,f),f}function dp(n=kd){const e=Ac.get(n);if(!e&&n===kd&&vE())return IE();if(!e)throw Ai.create("no-app",{appName:n});return e}function or(n,e,t){var i;let o=(i=QA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(f.join(" "));return}_s(new ki(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firebase-heartbeat-database",eR=1,dl="firebase-heartbeat-store";let cd=null;function SE(){return cd||(cd=yA(ZA,eR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ai.create("idb-open",{originalErrorMessage:n.message})})),cd}async function tR(n){try{const t=(await SE()).transaction(dl),i=await t.objectStore(dl).get(AE(n));return await t.done,i}catch(e){if(e instanceof pr)Ur.warn(e.message);else{const t=Ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(t.message)}}}async function uv(n,e){try{const i=(await SE()).transaction(dl,"readwrite");await i.objectStore(dl).put(e,AE(n)),await i.done}catch(t){if(t instanceof pr)Ur.warn(t.message);else{const i=Ai.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ur.warn(i.message)}}}function AE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=1024,rR=30;class iR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=cv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>rR){const c=aR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ur.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cv(),{heartbeatsToSend:i,unsentEntries:o}=sR(this._heartbeatsCache.heartbeats),a=Sc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ur.warn(t),""}}}function cv(){return new Date().toISOString().substring(0,10)}function sR(n,e=nR){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),hv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),hv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class oR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q1()?K1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return uv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return uv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function hv(n){return Sc(JSON.stringify({version:2,heartbeats:n})).length}function aR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(n){_s(new ki("platform-logger",e=>new EA(e),"PRIVATE")),_s(new ki("heartbeat",e=>new iR(e),"PRIVATE")),or(Cd,av,n),or(Cd,av,"esm2017"),or("fire-js","")}lR("");function pp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function RE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uR=RE,PE=new Al("auth","Firebase",RE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new hp("@firebase/auth");function cR(n,...e){Rc.logLevel<=Le.WARN&&Rc.warn(`Auth (${Ps}): ${n}`,...e)}function lc(n,...e){Rc.logLevel<=Le.ERROR&&Rc.error(`Auth (${Ps}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(n,...e){throw mp(n,...e)}function ar(n,...e){return mp(n,...e)}function CE(n,e,t){const i=Object.assign(Object.assign({},uR()),{[e]:t});return new Al("auth","Firebase",i).create(e,{appName:n.name})}function Lr(n){return CE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return PE.create(n,...e)}function Ae(n,e,...t){if(!n)throw mp(e,...t)}function Dr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lc(e),new Error(e)}function jr(n,e){n||Dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function hR(){return fv()==="http:"||fv()==="https:"}function fv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hR()||z1()||"connection"in navigator)?navigator.onLine:!0}function dR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,t){this.shortDelay=e,this.longDelay=t,jr(t>e,"Short delay should be less than long delay!"),this.isMobile=U1()||$1()}get(){return fR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(n,e){jr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gR=new Pl(3e4,6e4);function Mi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Fi(n,e,t,i,o={}){return NE(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const f=Rl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},a);return B1()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Rs(n.emulatorConfig.host)&&(g.credentials="include"),kE.fetch()(await OE(n,n.config.apiHost,t,f),g)})}async function NE(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},pR),e);try{const o=new vR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw ec(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const f=a.ok?c.errorMessage:c.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ec(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ec(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw ec(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw CE(n,_,g);Hn(n,_)}}catch(o){if(o instanceof pr)throw o;Hn(n,"network-request-failed",{message:String(o)})}}async function Cl(n,e,t,i,o={}){const a=await Fi(n,e,t,i,o);return"mfaPendingCredential"in a&&Hn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function OE(n,e,t,i){const o=`${e}${t}?${i}`,a=n,c=a.config.emulator?gp(n.config,o):`${n.config.apiScheme}://${o}`;return mR.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function yR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ar(this.auth,"network-request-failed")),gR.get())})}}function ec(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=ar(n,e,i);return o.customData._tokenResponse=t,o}function dv(n){return n!==void 0&&n.enterprise!==void 0}class _R{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ER(n,e){return Fi(n,"GET","/v2/recaptchaConfig",Mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(n,e){return Fi(n,"POST","/v1/accounts:delete",e)}async function Pc(n,e){return Fi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TR(n,e=!1){const t=Gt(n),i=await t.getIdToken(e),o=yp(i);Ae(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:rl(hd(o.auth_time)),issuedAtTime:rl(hd(o.iat)),expirationTime:rl(hd(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function hd(n){return Number(n)*1e3}function yp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return lc("JWT malformed, contained fewer than 3 sections"),null;try{const o=mE(t);return o?JSON.parse(o):(lc("Failed to decode base64 JWT payload"),null)}catch(o){return lc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function pv(n){const e=yp(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof pr&&IR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function IR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rl(this.lastLoginAt),this.creationTime=rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await pl(n,Pc(t,{idToken:i}));Ae(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?xE(a.providerUserInfo):[],f=RR(n.providerData,c),p=n.isAnonymous,g=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),_=p?g:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new xd(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function AR(n){const e=Gt(n);await Cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function xE(n){return n.map(e=>{var{providerId:t}=e,i=pp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(n,e){const t=await NE(n,{},async()=>{const i=Rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await OE(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return n.emulatorConfig&&Rs(n.emulatorConfig.host)&&(p.credentials="include"),kE.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function CR(n,e){return Fi(n,"POST","/v2/accounts:revokeToken",Mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=pv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await PR(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new Do;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ae(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ae(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zn{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new xd(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await pl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TR(this,e)}reload(){return AR(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Cc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(Lr(this.auth));const e=await this.getIdToken();return await pl(this,wR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,f,p,g,_;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,k=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,D=(c=t.photoURL)!==null&&c!==void 0?c:void 0,O=(f=t.tenantId)!==null&&f!==void 0?f:void 0,A=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,H=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:q,emailVerified:ne,isAnonymous:K,providerData:ce,stsTokenManager:N}=t;Ae(q&&N,e,"internal-error");const R=Do.fromJSON(this.name,N);Ae(typeof q=="string",e,"internal-error"),pi(E,e.name),pi(I,e.name),Ae(typeof ne=="boolean",e,"internal-error"),Ae(typeof K=="boolean",e,"internal-error"),pi(k,e.name),pi(D,e.name),pi(O,e.name),pi(A,e.name),pi(Q,e.name),pi(H,e.name);const C=new zn({uid:q,auth:e,email:I,emailVerified:ne,displayName:E,isAnonymous:K,photoURL:D,phoneNumber:k,tenantId:O,stsTokenManager:R,createdAt:Q,lastLoginAt:H});return ce&&Array.isArray(ce)&&(C.providerData=ce.map(x=>Object.assign({},x))),A&&(C._redirectEventId=A),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new Do;o.updateFromServerResponse(t);const a=new zn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Cc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ae(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?xE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new Do;f.updateFromIdToken(i);const p=new zn({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new xd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map;function Vr(n){jr(n instanceof Function,"Expected a class definition");let e=mv.get(n);return e?(jr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,mv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}bE.type="NONE";const gv=bE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(n,e,t){return`firebase:${n}:${e}:${t}`}class Vo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=uc(this.userKey,o.apiKey,a),this.fullPersistenceKey=uc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Pc(this.auth,{idToken:e}).catch(()=>{});return t?zn._fromGetAccountInfoResponse(this.auth,t,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Vo(Vr(gv),e,i);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=o[0]||Vr(gv);const c=uc(i,e.config.apiKey,e.name);let f=null;for(const g of t)try{const _=await g._get(c);if(_){let E;if(typeof _=="string"){const I=await Pc(e,{idToken:_}).catch(()=>{});if(!I)break;E=await zn._fromGetAccountInfoResponse(e,I,_)}else E=zn._fromJSON(e,_);g!==a&&(f=E),a=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Vo(a,e,i):(a=p[0],f&&await a._set(c,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(c)}catch{}})),new Vo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ME(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UE(e))return"Blackberry";if(jE(e))return"Webos";if(VE(e))return"Safari";if((e.includes("chrome/")||LE(e))&&!e.includes("edge/"))return"Chrome";if(FE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function DE(n=$t()){return/firefox\//i.test(n)}function VE(n=$t()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LE(n=$t()){return/crios\//i.test(n)}function ME(n=$t()){return/iemobile/i.test(n)}function FE(n=$t()){return/android/i.test(n)}function UE(n=$t()){return/blackberry/i.test(n)}function jE(n=$t()){return/webos/i.test(n)}function vp(n=$t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kR(n=$t()){var e;return vp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NR(){return W1()&&document.documentMode===10}function BE(n=$t()){return vp(n)||FE(n)||jE(n)||UE(n)||/windows phone/i.test(n)||ME(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(n,e=[]){let t;switch(n){case"Browser":t=yv($t());break;case"Worker":t=`${yv($t())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ps}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,f)=>{try{const p=e(a);c(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(n,e={}){return Fi(n,"GET","/v2/passwordPolicy",Mi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=6;class DR{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:bR,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vv(this),this.idTokenSubscription=new vv(this),this.beforeStateQueue=new OR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vr(t)),this._initializationPromise=this.queue(async()=>{var i,o,a;if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Pc(this,{idToken:e}),i=await zn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(dn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Cc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(Lr(this));const t=e?Gt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xR(this),t=new DR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Al("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await CR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vr(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[Vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(f,this,"internal-error"),f.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&cR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Cs(n){return Gt(n)}class vv{constructor(e){this.auth=e,this.observer=null,this.addObserver=J1(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LR(n){Yc=n}function $E(n){return Yc.loadJS(n)}function MR(){return Yc.recaptchaEnterpriseScript}function FR(){return Yc.gapiScript}function UR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class jR{constructor(){this.enterprise=new BR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class BR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zR="recaptcha-enterprise",WE="NO_RECAPTCHA";class $R{constructor(e){this.type=zR,this.auth=Cs(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,f)=>{ER(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new _R(p);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,c(g.siteKey)}}).catch(p=>{f(p)})})}function o(a,c,f){const p=window.grecaptcha;dv(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(g=>{c(g)}).catch(()=>{c(WE)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jR().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(f=>{if(!t&&dv(window.grecaptcha))o(f,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=MR();p.length!==0&&(p+=f),$E(p).then(()=>{o(f,a,c)}).catch(g=>{c(g)})}}).catch(f=>{c(f)})})}}async function _v(n,e,t,i=!1,o=!1){const a=new $R(n);let c;if(o)c=WE;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function bd(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await _v(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await _v(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(n,e){const t=Qc(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(vs(a,e??{}))return o;Hn(o,"already-initialized")}return t.initialize({options:e})}function HR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Vr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function qR(n,e,t){const i=Cs(n);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=HE(e),{host:c,port:f}=KR(e),p=f===null?"":`:${f}`,g={url:`${a}//${c}${p}/`},_=Object.freeze({host:c,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(vs(g,i.config.emulator)&&vs(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Rs(c)?(up(`${a}//${c}${p}`),cp("Auth",!0)):GR()}function HE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function KR(n){const e=HE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Ev(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Ev(c)}}}function Ev(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function GR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,t){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function QR(n,e){return Fi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(n,e){return Cl(n,"POST","/v1/accounts:signInWithPassword",Mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(n,e){return Cl(n,"POST","/v1/accounts:signInWithEmailLink",Mi(n,e))}async function JR(n,e){return Cl(n,"POST","/v1/accounts:signInWithEmailLink",Mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends _p{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ml(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new ml(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bd(e,t,"signInWithPassword",YR);case"emailLink":return XR(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bd(e,i,"signUpPassword",QR);case"emailLink":return JR(e,{idToken:t,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(n,e){return Cl(n,"POST","/v1/accounts:signInWithIdp",Mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="http://localhost";class Es extends _p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=pp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Es(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Lo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Lo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lo(e,t)}buildRequest(){const e={requestUri:ZR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tP(n){const e=Qa(Ya(n)).link,t=e?Qa(Ya(e)).deep_link_id:null,i=Qa(Ya(n)).deep_link_id;return(i?Qa(Ya(i)).link:null)||i||t||e||n}class Ep{constructor(e){var t,i,o,a,c,f;const p=Qa(Ya(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,E=eP((o=p.mode)!==null&&o!==void 0?o:null);Ae(g&&_&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=_,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=tP(e);try{return new Ep(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,t){return ml._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Ep.parseLink(t);return Ae(i,"argument-error"),ml._fromEmailAndCode(e,i.code,i.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends qE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends kl{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Es._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return yi.credential(t,i)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends kl{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com";vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends kl{constructor(){super("twitter.com")}static credential(e,t){return Es._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return _i.credential(t,i)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(n,e){return Cl(n,"POST","/v1/accounts:signUp",Mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await zn._fromIdTokenResponse(e,i,o),c=wv(i);return new ws({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=wv(i);return new ws({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function wv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends pr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,kc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new kc(e,t,i,o)}}function KE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?kc._fromErrorAndOperation(n,a,e,i):a})}async function rP(n,e,t=!1){const i=await pl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ws._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(n,e,t=!1){const{auth:i}=n;if(dn(i.app))return Promise.reject(Lr(i));const o="reauthenticate";try{const a=await pl(n,KE(i,o,e,n),t);Ae(a.idToken,i,"internal-error");const c=yp(a.idToken);Ae(c,i,"internal-error");const{sub:f}=c;return Ae(n.uid===f,i,"user-mismatch"),ws._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Hn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GE(n,e,t=!1){if(dn(n.app))return Promise.reject(Lr(n));const i="signIn",o=await KE(n,i,e),a=await ws._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function sP(n,e){return GE(Cs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QE(n){const e=Cs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _x(n,e,t){if(dn(n.app))return Promise.reject(Lr(n));const i=Cs(n),c=await bd(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nP).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&QE(n),p}),f=await ws._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function Ex(n,e,t){return dn(n.app)?Promise.reject(Lr(n)):sP(Gt(n),Ko.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&QE(n),i})}function oP(n,e,t,i){return Gt(n).onIdTokenChanged(e,t,i)}function aP(n,e,t){return Gt(n).beforeAuthStateChanged(e,t)}function lP(n,e,t,i){return Gt(n).onAuthStateChanged(e,t,i)}const Nc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nc,"1"),this.storage.removeItem(Nc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=1e3,cP=10;class XE extends YE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);NR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cP):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},uP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}XE.type="LOCAL";const hP=XE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends YE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}JE.type="SESSION";const ZE=JE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Xc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(c).map(async g=>g(t.origin,a)),p=await fP(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((f,p)=>{const g=wp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const I=E;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(I.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function pP(n){lr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function mP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function yP(){return e0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="firebaseLocalStorageDb",vP=1,Oc="firebaseLocalStorage",n0="fbase_key";class Nl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jc(n,e){return n.transaction([Oc],e?"readwrite":"readonly").objectStore(Oc)}function _P(){const n=indexedDB.deleteDatabase(t0);return new Nl(n).toPromise()}function Dd(){const n=indexedDB.open(t0,vP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Oc,{keyPath:n0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Oc)?e(i):(i.close(),await _P(),e(await Dd()))})})}async function Tv(n,e,t){const i=Jc(n,!0).put({[n0]:e,value:t});return new Nl(i).toPromise()}async function EP(n,e){const t=Jc(n,!1).get(e),i=await new Nl(t).toPromise();return i===void 0?null:i.value}function Iv(n,e){const t=Jc(n,!0).delete(e);return new Nl(t).toPromise()}const wP=800,TP=3;class r0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>TP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xc._getInstance(yP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await mP(),!this.activeServiceWorker)return;this.sender=new dP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dd();return await Tv(e,Nc,"1"),await Iv(e,Nc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Tv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>EP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Iv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Jc(o,!1).getAll();return new Nl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r0.type="LOCAL";const IP=r0;new Pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(n,e){return e?Vr(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends _p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Lo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function AP(n){return GE(n.auth,new Tp(n),n.bypassAuthState)}function RP(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),iP(t,new Tp(n),n.bypassAuthState)}async function PP(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),rP(t,new Tp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AP;case"linkViaPopup":case"linkViaRedirect":return PP;case"reauthViaPopup":case"reauthViaRedirect":return RP;default:Hn(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=new Pl(2e3,1e4);class Oo extends i0{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CP.get())};e()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="pendingRedirect",cc=new Map;class NP extends i0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=cc.get(this.auth._key());if(!e){try{const i=await OP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}cc.set(this.auth._key(),e)}return this.bypassAuthState||cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OP(n,e){const t=DP(e),i=bP(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function xP(n,e){cc.set(n._key(),e)}function bP(n){return Vr(n._redirectPersistence)}function DP(n){return uc(kP,n.config.apiKey,n.name)}async function VP(n,e,t=!1){if(dn(n.app))return Promise.reject(Lr(n));const i=Cs(n),o=SP(i,e),c=await new NP(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=10*60*1e3;class MP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!s0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ar(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sv(e))}saveEventToCache(e){this.cachedEventUids.add(Sv(e)),this.lastProcessedEventTime=Date.now()}}function Sv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function s0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(n,e={}){return Fi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BP=/^https?/;async function zP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await UP(n);for(const t of e)try{if($P(t))return}catch{}Hn(n,"unauthorized-domain")}function $P(n){const e=Od(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!BP.test(t))return!1;if(jP.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new Pl(3e4,6e4);function Av(){const n=lr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function HP(n){return new Promise((e,t)=>{var i,o,a;function c(){Av(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Av(),t(ar(n,"network-request-failed"))},timeout:WP.get()})}if(!((o=(i=lr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=lr().gapi)===null||a===void 0)&&a.load)c();else{const f=UR("iframefcb");return lr()[f]=()=>{gapi.load?c():t(ar(n,"network-request-failed"))},$E(`${FR()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw hc=null,e})}let hc=null;function qP(n){return hc=hc||HP(n),hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=new Pl(5e3,15e3),GP="__/auth/iframe",QP="emulator/auth/iframe",YP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JP(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gp(e,QP):`https://${n.config.authDomain}/${GP}`,i={apiKey:e.apiKey,appName:n.name,v:Ps},o=XP.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Rl(i).slice(1)}`}async function ZP(n){const e=await qP(n),t=lr().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:JP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YP,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=ar(n,"network-request-failed"),f=lr().setTimeout(()=>{a(c)},KP.get());function p(){lr().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tC=500,nC=600,rC="_blank",iC="http://localhost";class Rv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sC(n,e,t,i=tC,o=nC){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},eC),{width:i.toString(),height:o.toString(),top:a,left:c}),g=$t().toLowerCase();t&&(f=LE(g)?rC:t),DE(g)&&(e=e||iC,p.scrollbars="yes");const _=Object.entries(p).reduce((I,[k,D])=>`${I}${k}=${D},`,"");if(kR(g)&&f!=="_self")return oC(e||"",f),new Rv(null);const E=window.open(e||"",f,_);Ae(E,n,"popup-blocked");try{E.focus()}catch{}return new Rv(E)}function oC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="__/auth/handler",lC="emulator/auth/handler",uC=encodeURIComponent("fac");async function Pv(n,e,t,i,o,a){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ps,eventId:o};if(e instanceof qE){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",X1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof kl){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await n._getAppCheckToken(),g=p?`#${uC}=${encodeURIComponent(p)}`:"";return`${cC(n)}?${Rl(f).slice(1)}${g}`}function cC({config:n}){return n.emulator?gp(n,lC):`https://${n.authDomain}/${aC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="webStorageSupport";class hC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZE,this._completeRedirectFn=VP,this._overrideRedirectResult=xP}async _openPopup(e,t,i,o){var a;jr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Pv(e,t,i,Od(),o);return sC(e,c,wp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Pv(e,t,i,Od(),o);return pP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(jr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await ZP(e),i=new MP(e);return t.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fd,{type:fd},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[fd];c!==void 0&&t(!!c),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return BE()||VE()||vp()}}const fC=hC;var Cv="@firebase/auth",kv="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mC(n){_s(new ki("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zE(n)},g=new VR(i,o,a,p);return HR(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),_s(new ki("auth-internal",e=>{const t=Cs(e.getProvider("auth").getImmediate());return(i=>new dC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(Cv,kv,pC(n)),or(Cv,kv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=5*60,yC=_E("authIdTokenMaxAge")||gC;let Nv=null;const vC=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>yC)return;const o=t==null?void 0:t.token;Nv!==o&&(Nv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _C(n=dp()){const e=Qc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=WR(n,{popupRedirectResolver:fC,persistence:[IP,hP,ZE]}),i=_E("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=vC(a.toString());aP(t,c,()=>c(t.currentUser)),oP(t,f=>c(f))}}const o=gE("auth");return o&&qR(t,`http://${o}`),t}function EC(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}LR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=ar("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",EC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mC("Browser");var wC="firebase",TC="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(wC,TC,"app");var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ri,o0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function C(){}C.prototype=R.prototype,N.D=R.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(x,M,F){for(var T=Array(arguments.length-2),J=2;J<arguments.length;J++)T[J-2]=arguments[J];return R.prototype[M].apply(x,T)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,C){C||(C=0);var x=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)x[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;16>M;++M)x[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=N.g[0],C=N.g[1],M=N.g[2];var F=N.g[3],T=R+(F^C&(M^F))+x[0]+3614090360&4294967295;R=C+(T<<7&4294967295|T>>>25),T=F+(M^R&(C^M))+x[1]+3905402710&4294967295,F=R+(T<<12&4294967295|T>>>20),T=M+(C^F&(R^C))+x[2]+606105819&4294967295,M=F+(T<<17&4294967295|T>>>15),T=C+(R^M&(F^R))+x[3]+3250441966&4294967295,C=M+(T<<22&4294967295|T>>>10),T=R+(F^C&(M^F))+x[4]+4118548399&4294967295,R=C+(T<<7&4294967295|T>>>25),T=F+(M^R&(C^M))+x[5]+1200080426&4294967295,F=R+(T<<12&4294967295|T>>>20),T=M+(C^F&(R^C))+x[6]+2821735955&4294967295,M=F+(T<<17&4294967295|T>>>15),T=C+(R^M&(F^R))+x[7]+4249261313&4294967295,C=M+(T<<22&4294967295|T>>>10),T=R+(F^C&(M^F))+x[8]+1770035416&4294967295,R=C+(T<<7&4294967295|T>>>25),T=F+(M^R&(C^M))+x[9]+2336552879&4294967295,F=R+(T<<12&4294967295|T>>>20),T=M+(C^F&(R^C))+x[10]+4294925233&4294967295,M=F+(T<<17&4294967295|T>>>15),T=C+(R^M&(F^R))+x[11]+2304563134&4294967295,C=M+(T<<22&4294967295|T>>>10),T=R+(F^C&(M^F))+x[12]+1804603682&4294967295,R=C+(T<<7&4294967295|T>>>25),T=F+(M^R&(C^M))+x[13]+4254626195&4294967295,F=R+(T<<12&4294967295|T>>>20),T=M+(C^F&(R^C))+x[14]+2792965006&4294967295,M=F+(T<<17&4294967295|T>>>15),T=C+(R^M&(F^R))+x[15]+1236535329&4294967295,C=M+(T<<22&4294967295|T>>>10),T=R+(M^F&(C^M))+x[1]+4129170786&4294967295,R=C+(T<<5&4294967295|T>>>27),T=F+(C^M&(R^C))+x[6]+3225465664&4294967295,F=R+(T<<9&4294967295|T>>>23),T=M+(R^C&(F^R))+x[11]+643717713&4294967295,M=F+(T<<14&4294967295|T>>>18),T=C+(F^R&(M^F))+x[0]+3921069994&4294967295,C=M+(T<<20&4294967295|T>>>12),T=R+(M^F&(C^M))+x[5]+3593408605&4294967295,R=C+(T<<5&4294967295|T>>>27),T=F+(C^M&(R^C))+x[10]+38016083&4294967295,F=R+(T<<9&4294967295|T>>>23),T=M+(R^C&(F^R))+x[15]+3634488961&4294967295,M=F+(T<<14&4294967295|T>>>18),T=C+(F^R&(M^F))+x[4]+3889429448&4294967295,C=M+(T<<20&4294967295|T>>>12),T=R+(M^F&(C^M))+x[9]+568446438&4294967295,R=C+(T<<5&4294967295|T>>>27),T=F+(C^M&(R^C))+x[14]+3275163606&4294967295,F=R+(T<<9&4294967295|T>>>23),T=M+(R^C&(F^R))+x[3]+4107603335&4294967295,M=F+(T<<14&4294967295|T>>>18),T=C+(F^R&(M^F))+x[8]+1163531501&4294967295,C=M+(T<<20&4294967295|T>>>12),T=R+(M^F&(C^M))+x[13]+2850285829&4294967295,R=C+(T<<5&4294967295|T>>>27),T=F+(C^M&(R^C))+x[2]+4243563512&4294967295,F=R+(T<<9&4294967295|T>>>23),T=M+(R^C&(F^R))+x[7]+1735328473&4294967295,M=F+(T<<14&4294967295|T>>>18),T=C+(F^R&(M^F))+x[12]+2368359562&4294967295,C=M+(T<<20&4294967295|T>>>12),T=R+(C^M^F)+x[5]+4294588738&4294967295,R=C+(T<<4&4294967295|T>>>28),T=F+(R^C^M)+x[8]+2272392833&4294967295,F=R+(T<<11&4294967295|T>>>21),T=M+(F^R^C)+x[11]+1839030562&4294967295,M=F+(T<<16&4294967295|T>>>16),T=C+(M^F^R)+x[14]+4259657740&4294967295,C=M+(T<<23&4294967295|T>>>9),T=R+(C^M^F)+x[1]+2763975236&4294967295,R=C+(T<<4&4294967295|T>>>28),T=F+(R^C^M)+x[4]+1272893353&4294967295,F=R+(T<<11&4294967295|T>>>21),T=M+(F^R^C)+x[7]+4139469664&4294967295,M=F+(T<<16&4294967295|T>>>16),T=C+(M^F^R)+x[10]+3200236656&4294967295,C=M+(T<<23&4294967295|T>>>9),T=R+(C^M^F)+x[13]+681279174&4294967295,R=C+(T<<4&4294967295|T>>>28),T=F+(R^C^M)+x[0]+3936430074&4294967295,F=R+(T<<11&4294967295|T>>>21),T=M+(F^R^C)+x[3]+3572445317&4294967295,M=F+(T<<16&4294967295|T>>>16),T=C+(M^F^R)+x[6]+76029189&4294967295,C=M+(T<<23&4294967295|T>>>9),T=R+(C^M^F)+x[9]+3654602809&4294967295,R=C+(T<<4&4294967295|T>>>28),T=F+(R^C^M)+x[12]+3873151461&4294967295,F=R+(T<<11&4294967295|T>>>21),T=M+(F^R^C)+x[15]+530742520&4294967295,M=F+(T<<16&4294967295|T>>>16),T=C+(M^F^R)+x[2]+3299628645&4294967295,C=M+(T<<23&4294967295|T>>>9),T=R+(M^(C|~F))+x[0]+4096336452&4294967295,R=C+(T<<6&4294967295|T>>>26),T=F+(C^(R|~M))+x[7]+1126891415&4294967295,F=R+(T<<10&4294967295|T>>>22),T=M+(R^(F|~C))+x[14]+2878612391&4294967295,M=F+(T<<15&4294967295|T>>>17),T=C+(F^(M|~R))+x[5]+4237533241&4294967295,C=M+(T<<21&4294967295|T>>>11),T=R+(M^(C|~F))+x[12]+1700485571&4294967295,R=C+(T<<6&4294967295|T>>>26),T=F+(C^(R|~M))+x[3]+2399980690&4294967295,F=R+(T<<10&4294967295|T>>>22),T=M+(R^(F|~C))+x[10]+4293915773&4294967295,M=F+(T<<15&4294967295|T>>>17),T=C+(F^(M|~R))+x[1]+2240044497&4294967295,C=M+(T<<21&4294967295|T>>>11),T=R+(M^(C|~F))+x[8]+1873313359&4294967295,R=C+(T<<6&4294967295|T>>>26),T=F+(C^(R|~M))+x[15]+4264355552&4294967295,F=R+(T<<10&4294967295|T>>>22),T=M+(R^(F|~C))+x[6]+2734768916&4294967295,M=F+(T<<15&4294967295|T>>>17),T=C+(F^(M|~R))+x[13]+1309151649&4294967295,C=M+(T<<21&4294967295|T>>>11),T=R+(M^(C|~F))+x[4]+4149444226&4294967295,R=C+(T<<6&4294967295|T>>>26),T=F+(C^(R|~M))+x[11]+3174756917&4294967295,F=R+(T<<10&4294967295|T>>>22),T=M+(R^(F|~C))+x[2]+718787259&4294967295,M=F+(T<<15&4294967295|T>>>17),T=C+(F^(M|~R))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(M+(T<<21&4294967295|T>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+F&4294967295}i.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var C=R-this.blockSize,x=this.B,M=this.h,F=0;F<R;){if(M==0)for(;F<=C;)o(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<R;)if(x[M++]=N.charCodeAt(F++),M==this.blockSize){o(this,x),M=0;break}}else for(;F<R;)if(x[M++]=N[F++],M==this.blockSize){o(this,x),M=0;break}}this.h=M,this.o+=R},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var C=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=C&255,C/=256;for(this.u(N),N=Array(16),R=C=0;4>R;++R)for(var x=0;32>x;x+=8)N[C++]=this.g[R]>>>x&255;return N};function a(N,R){var C=f;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=R(N)}function c(N,R){this.h=R;for(var C=[],x=!0,M=N.length-1;0<=M;M--){var F=N[M]|0;x&&F==R||(C[M]=F,x=!1)}this.g=C}var f={};function p(N){return-128<=N&&128>N?a(N,function(R){return new c([R|0],0>R?-1:0)}):new c([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return E;if(0>N)return A(g(-N));for(var R=[],C=1,x=0;N>=C;x++)R[x]=N/C|0,C*=4294967296;return new c(R,0)}function _(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return A(_(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),x=E,M=0;M<N.length;M+=8){var F=Math.min(8,N.length-M),T=parseInt(N.substring(M,M+F),R);8>F?(F=g(Math.pow(R,F)),x=x.j(F).add(g(T))):(x=x.j(C),x=x.add(g(T)))}return x}var E=p(0),I=p(1),k=p(16777216);n=c.prototype,n.m=function(){if(O(this))return-A(this).m();for(var N=0,R=1,C=0;C<this.g.length;C++){var x=this.i(C);N+=(0<=x?x:4294967296+x)*R,R*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(D(this))return"0";if(O(this))return"-"+A(this).toString(N);for(var R=g(Math.pow(N,6)),C=this,x="";;){var M=ne(C,R).g;C=Q(C,M.j(R));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=M,D(C))return F+x;for(;6>F.length;)F="0"+F;x=F+x}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function D(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function O(N){return N.h==-1}n.l=function(N){return N=Q(this,N),O(N)?-1:D(N)?0:1};function A(N){for(var R=N.g.length,C=[],x=0;x<R;x++)C[x]=~N.g[x];return new c(C,~N.h).add(I)}n.abs=function(){return O(this)?A(this):this},n.add=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],x=0,M=0;M<=R;M++){var F=x+(this.i(M)&65535)+(N.i(M)&65535),T=(F>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);x=T>>>16,F&=65535,T&=65535,C[M]=T<<16|F}return new c(C,C[C.length-1]&-2147483648?-1:0)};function Q(N,R){return N.add(A(R))}n.j=function(N){if(D(this)||D(N))return E;if(O(this))return O(N)?A(this).j(A(N)):A(A(this).j(N));if(O(N))return A(this.j(A(N)));if(0>this.l(k)&&0>N.l(k))return g(this.m()*N.m());for(var R=this.g.length+N.g.length,C=[],x=0;x<2*R;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var M=0;M<N.g.length;M++){var F=this.i(x)>>>16,T=this.i(x)&65535,J=N.i(M)>>>16,le=N.i(M)&65535;C[2*x+2*M]+=T*le,H(C,2*x+2*M),C[2*x+2*M+1]+=F*le,H(C,2*x+2*M+1),C[2*x+2*M+1]+=T*J,H(C,2*x+2*M+1),C[2*x+2*M+2]+=F*J,H(C,2*x+2*M+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new c(C,0)};function H(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function q(N,R){this.g=N,this.h=R}function ne(N,R){if(D(R))throw Error("division by zero");if(D(N))return new q(E,E);if(O(N))return R=ne(A(N),R),new q(A(R.g),A(R.h));if(O(R))return R=ne(N,A(R)),new q(A(R.g),R.h);if(30<N.g.length){if(O(N)||O(R))throw Error("slowDivide_ only works with positive integers.");for(var C=I,x=R;0>=x.l(N);)C=K(C),x=K(x);var M=ce(C,1),F=ce(x,1);for(x=ce(x,2),C=ce(C,2);!D(x);){var T=F.add(x);0>=T.l(N)&&(M=M.add(C),F=T),x=ce(x,1),C=ce(C,1)}return R=Q(N,M.j(R)),new q(M,R)}for(M=E;0<=N.l(R);){for(C=Math.max(1,Math.floor(N.m()/R.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),F=g(C),T=F.j(R);O(T)||0<T.l(N);)C-=x,F=g(C),T=F.j(R);D(F)&&(F=I),M=M.add(F),N=Q(N,T)}return new q(M,N)}n.A=function(N){return ne(this,N).h},n.and=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],x=0;x<R;x++)C[x]=this.i(x)&N.i(x);return new c(C,this.h&N.h)},n.or=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],x=0;x<R;x++)C[x]=this.i(x)|N.i(x);return new c(C,this.h|N.h)},n.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],x=0;x<R;x++)C[x]=this.i(x)^N.i(x);return new c(C,this.h^N.h)};function K(N){for(var R=N.g.length+1,C=[],x=0;x<R;x++)C[x]=N.i(x)<<1|N.i(x-1)>>>31;return new c(C,N.h)}function ce(N,R){var C=R>>5;R%=32;for(var x=N.g.length-C,M=[],F=0;F<x;F++)M[F]=0<R?N.i(F+C)>>>R|N.i(F+C+1)<<32-R:N.i(F+C);return new c(M,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,o0=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Ri=c}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});var tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a0,Xa,l0,fc,Vd,u0,c0,h0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof tc=="object"&&tc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in v))break e;v=v[U]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,S=!1,U={next:function(){if(!S&&v<u.length){var $=v++;return{value:m($,u[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function E(u,m,v){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function I(u,m,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,I.apply(null,arguments)}function k(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function D(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(S,U,$){for(var oe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)oe[qe-2]=arguments[qe];return m.prototype[U].apply(S,oe)}}function O(u){const m=u.length;if(0<m){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function A(u,m){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const U=u.length||0,$=S.length||0;u.length=U+$;for(let oe=0;oe<$;oe++)u[U+oe]=S[oe]}else u.push(S)}}class Q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(u){return/^[\s\xa0]*$/.test(u)}function q(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ne(u){return ne[" "](u),u}ne[" "]=function(){};var K=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ce(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function N(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function R(u){const m={};for(const v in u)m[v]=u[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)u[v]=S[v];for(let $=0;$<C.length;$++)v=C[$],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function M(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function F(u){f.setTimeout(()=>{throw u},0)}function T(){var u=se;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class J{constructor(){this.h=this.g=null}add(m,v){const S=le.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var le=new Q(()=>new fe,u=>u.reset());class fe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,G=!1,se=new J,re=()=>{const u=f.Promise.resolve(void 0);ae=()=>{u.then(V)}};var V=()=>{for(var u;u=T();){try{u.h.call(u.g)}catch(v){F(v)}var m=le;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}G=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u}();function Pe(u,m){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(K){e:{try{ne(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pe.aa.h.call(this)}}D(Pe,_e);var Ve={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Ge(u,m,v,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=U,this.key=++Ce,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gr(u){this.src=u,this.g={},this.h=0}gr.prototype.add=function(u,m,v,S,U){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var oe=$r(u,m,S,U);return-1<oe?(m=u[oe],v||(m.fa=!1)):(m=new Ge(m,this.src,$,!!S,U),m.fa=v,u.push(m)),m};function bs(u,m){var v=m.type;if(v in u.g){var S=u.g[v],U=Array.prototype.indexOf.call(S,m,void 0),$;($=0<=U)&&Array.prototype.splice.call(S,U,1),$&&(Tt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function $r(u,m,v,S){for(var U=0;U<u.length;++U){var $=u[U];if(!$.da&&$.listener==m&&$.capture==!!v&&$.ha==S)return U}return-1}var Ui="closure_lm_"+(1e6*Math.random()|0),Ds={};function Zo(u,m,v,S,U){if(Array.isArray(m)){for(var $=0;$<m.length;$++)Zo(u,m[$],v,S,U);return null}return v=na(v),u&&u[be]?u.K(m,v,g(S)?!!S.capture:!1,U):ea(u,m,v,!1,S,U)}function ea(u,m,v,S,U,$){if(!m)throw Error("Invalid event type");var oe=g(U)?!!U.capture:!!U,qe=Ls(u);if(qe||(u[Ui]=qe=new gr(u)),v=qe.add(m,v,S,oe,$),v.proxy)return v;if(S=Ml(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)Ie||(U=oe),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(vr(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ml(){function u(v){return m.call(u.src,u.listener,v)}const m=ta;return u}function Vs(u,m,v,S,U){if(Array.isArray(m))for(var $=0;$<m.length;$++)Vs(u,m[$],v,S,U);else S=g(S)?!!S.capture:!!S,v=na(v),u&&u[be]?(u=u.i,m=String(m).toString(),m in u.g&&($=u.g[m],v=$r($,v,S,U),-1<v&&(Tt($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ls(u))&&(m=u.g[m.toString()],u=-1,m&&(u=$r(m,v,S,U)),(v=-1<u?m[u]:null)&&yr(v))}function yr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[be])bs(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(vr(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Ls(m))?(bs(v,u),v.h==0&&(v.src=null,m[Ui]=null)):Tt(u)}}}function vr(u){return u in Ds?Ds[u]:Ds[u]="on"+u}function ta(u,m){if(u.da)u=!0;else{m=new Pe(m,this);var v=u.listener,S=u.ha||u.src;u.fa&&yr(u),u=v.call(S,m)}return u}function Ls(u){return u=u[Ui],u instanceof gr?u:null}var Ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function na(u){return typeof u=="function"?u:(u[Ms]||(u[Ms]=function(m){return u.handleEvent(m)}),u[Ms])}function mt(){W.call(this),this.i=new gr(this),this.M=this,this.F=null}D(mt,W),mt.prototype[be]=!0,mt.prototype.removeEventListener=function(u,m,v,S){Vs(this,u,m,v,S)};function gt(u,m){var v,S=u.F;if(S)for(v=[];S;S=S.F)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new _e(m,u);else if(m instanceof _e)m.target=m.target||u;else{var U=m;m=new _e(S,u),x(m,U)}if(U=!0,v)for(var $=v.length-1;0<=$;$--){var oe=m.g=v[$];U=_r(oe,S,!0,m)&&U}if(oe=m.g=u,U=_r(oe,S,!0,m)&&U,U=_r(oe,S,!1,m)&&U,v)for($=0;$<v.length;$++)oe=m.g=v[$],U=_r(oe,S,!1,m)&&U}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],S=0;S<v.length;S++)Tt(v[S]);delete u.g[m],u.h--}}this.F=null},mt.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},mt.prototype.L=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function _r(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,$=0;$<m.length;++$){var oe=m[$];if(oe&&!oe.da&&oe.capture==v){var qe=oe.listener,yt=oe.ha||oe.src;oe.fa&&bs(u.i,oe),U=qe.call(yt,S)!==!1&&U}}return U&&!S.defaultPrevented}function ra(u,m,v){if(typeof u=="function")v&&(u=I(u,v));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function Wr(u){u.g=ra(()=>{u.g=null,u.i&&(u.i=!1,Wr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ji extends W{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bi(u){W.call(this),this.h=u,this.g={}}D(Bi,W);var ia=[];function sa(u){ce(u.g,function(m,v){this.g.hasOwnProperty(v)&&yr(m)},u),u.g={}}Bi.prototype.N=function(){Bi.aa.N.call(this),sa(this)},Bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oa=f.JSON.stringify,aa=f.JSON.parse,la=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function zi(){}zi.prototype.h=null;function Fs(u){return u.h||(u.h=u.i())}function Us(){}var mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){_e.call(this,"d")}D(Kn,_e);function js(){_e.call(this,"c")}D(js,_e);var Gn={},ua=null;function $i(){return ua=ua||new mt}Gn.La="serverreachability";function ca(u){_e.call(this,Gn.La,u)}D(ca,_e);function Er(u){const m=$i();gt(m,new ca(m))}Gn.STAT_EVENT="statevent";function ha(u,m){_e.call(this,Gn.STAT_EVENT,u),this.stat=m}D(ha,_e);function at(u){const m=$i();gt(m,new ha(m,u))}Gn.Ma="timingevent";function Bs(u,m){_e.call(this,Gn.Ma,u),this.size=m}D(Bs,_e);function Rn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function Hi(u,m,v,S,U,$){u.info(function(){if(u.g)if($)for(var oe="",qe=$.split("&"),yt=0;yt<qe.length;yt++){var Ue=qe[yt].split("=");if(1<Ue.length){var It=Ue[0];Ue=Ue[1];var ct=It.split("_");oe=2<=ct.length&&ct[1]=="type"?oe+(It+"="+Ue+"&"):oe+(It+"=redacted&")}}else oe=null;else oe=$;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+v+`
`+oe})}function zs(u,m,v,S,U,$,oe){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+v+`
`+$+" "+oe})}function Pn(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+dh(u,v)+(S?" "+S:"")})}function fa(u,m){u.info(function(){return"TIMEOUT: "+m})}Wi.prototype.info=function(){};function dh(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var S=v[u];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var $=U[0];if($!="noop"&&$!="stop"&&$!="close")for(var oe=1;oe<U.length;oe++)U[oe]=""}}}}return oa(v)}catch{return m}}var $s={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cn;function qi(){}D(qi,zi),qi.prototype.g=function(){return new XMLHttpRequest},qi.prototype.i=function(){return{}},Cn=new qi;function kn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.R=S||1,this.U=new Bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ul}function Ul(){this.i=null,this.g="",this.h=!1}var da={},Ws={};function Hs(u,m,v){u.L=1,u.v=Qr(an(m)),u.m=v,u.P=!0,pa(u,null)}function pa(u,m){u.F=Date.now(),Qe(u),u.A=an(u.v);var v=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Xr(v.i,"t",S),u.C=0,v=u.j.J,u.h=new Ul,u.g=ru(u.j,v?m:null,!u.m),0<u.O&&(u.M=new ji(I(u.Y,u,u.g),u.O)),m=u.U,v=u.g,S=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(ia[0]=U.toString()),U=ia);for(var $=0;$<U.length;$++){var oe=Zo(v,U[$],S||m.handleEvent,!1,m.h||m);if(!oe)break;m.g[oe.key]=oe}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Er(),Hi(u.i,u.u,u.A,u.l,u.R,u.m)}kn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Yt(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)e:{const ct=Yt(this.g);var m=this.g.Ba();const vn=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||Ea(this.g)))){this.J||ct!=4||m==7||(m==8||0>=vn?Er(3):Er(2)),Ki(this);var v=this.g.Z();this.X=v;t:if(jl(this)){var S=Ea(this.g);u="";var U=S.length,$=Yt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),Hr(this);var oe="";break t}this.h.i=new f.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!($&&m==U-1)});S.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,zs(this.i,this.u,this.A,this.l,this.R,ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,yt=this.g;if((qe=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(qe)){var Ue=qe;break t}}Ue=null}if(v=Ue)Pn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ma(this,v);else{this.o=!1,this.s=3,at(12),gn(this),Hr(this);break e}}if(this.P){v=!0;let un;for(;!this.J&&this.C<oe.length;)if(un=ph(this,oe),un==Ws){ct==4&&(this.s=4,at(14),v=!1),Pn(this.i,this.l,null,"[Incomplete Response]");break}else if(un==da){this.s=4,at(15),Pn(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else Pn(this.i,this.l,un,null),ma(this,un);if(jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||oe.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)Pn(this.i,this.l,oe,"[Invalid Chunked Response]"),gn(this),Hr(this);else if(0<oe.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ta(It),It.M=!0,at(11))}}else Pn(this.i,this.l,oe,null),ma(this,oe);ct==4&&gn(this),this.o&&!this.J&&(ct==4?no(this.j,this):(this.o=!1,Qe(this)))}else Xs(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),gn(this),Hr(this)}}}catch{}finally{}};function jl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ph(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Ws:(v=Number(m.substring(v,S)),isNaN(v)?da:(S+=1,S+v>m.length?Ws:(m=m.slice(S,S+v),u.C=S+v,m)))}kn.prototype.cancel=function(){this.J=!0,gn(this)};function Qe(u){u.S=Date.now()+u.I,Bl(u,u.I)}function Bl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Rn(I(u.ba,u),m)}function Ki(u){u.B&&(f.clearTimeout(u.B),u.B=null)}kn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(fa(this.i,this.A),this.L!=2&&(Er(),at(17)),gn(this),this.s=2,Hr(this)):Bl(this,this.S-u)};function Hr(u){u.j.G==0||u.J||no(u.j,u)}function gn(u){Ki(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,sa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ma(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Wt(v.h,u))){if(!u.K&&Wt(v.h,u)&&v.G==3){try{var S=v.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)to(v),Dn(v);else break e;eo(v),at(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Rn(I(v.Za,v),6e3));if(1>=$l(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ar(v,11)}else if((u.K||v.g==u)&&to(v),!H(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let Ue=U[m];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const It=Ue[3];It!=null&&(v.la=It,v.j.info("VER="+v.la));const ct=Ue[4];ct!=null&&(v.Aa=ct,v.j.info("SVER="+v.Aa));const vn=Ue[5];vn!=null&&typeof vn=="number"&&0<vn&&(S=1.5*vn,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const un=u.g;if(un){const es=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var $=S.h;$.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ga($,$.h),$.h=null))}if(S.D){const io=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(S.ya=io,Ke(S.I,S.D,io))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var oe=u;if(S.qa=nu(S,S.J?S.ia:null,S.W),oe.K){Wl(S.h,oe);var qe=oe,yt=S.L;yt&&(qe.I=yt),qe.B&&(Ki(qe),Qe(qe)),S.g=oe}else Zi(S);0<v.i.length&&Jn(v)}else Ue[0]!="stop"&&Ue[0]!="close"||Ar(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Ar(v,7):kt(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}Er(4)}catch{}}var zl=class{constructor(u,m){this.g=u,this.map=m}};function Gi(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $l(u){return u.h?1:u.g?u.g.size:0}function Wt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ga(u,m){u.g?u.g.add(m):u.h=m}function Wl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Gi.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Hl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return O(u.i)}function qs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,S=0;S<v;S++)m.push(u[S]);return m}m=[],v=0;for(S in u)m[v++]=u[S];return m}function Ks(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const S in u)m[v++]=S;return m}}}function qr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ks(u),S=qs(u),U=S.length,$=0;$<U;$++)m.call(void 0,S[$],v&&v[$],u)}var Qi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var S=u[v].indexOf("="),U=null;if(0<=S){var $=u[v].substring(0,S);U=u[v].substring(S+1)}else $=u[v];m($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function wr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof wr){this.h=u.h,Yi(this,u.j),this.o=u.o,this.g=u.g,Kr(this,u.s),this.l=u.l;var m=u.i,v=new Qn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Gr(this,v),this.m=u.m}else u&&(m=String(u).match(Qi))?(this.h=!1,Yi(this,m[1]||"",!0),this.o=Fe(m[2]||""),this.g=Fe(m[3]||"",!0),Kr(this,m[4]),this.l=Fe(m[5]||"",!0),Gr(this,m[6]||"",!0),this.m=Fe(m[7]||"")):(this.h=!1,this.i=new Qn(null,this.h))}wr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Yr(m,Gs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Yr(m,Gs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Yr(v,v.charAt(0)=="/"?Gl:Kl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Yr(v,ya)),u.join("")};function an(u){return new wr(u)}function Yi(u,m,v){u.j=v?Fe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Kr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Gr(u,m,v){m instanceof Qn?(u.i=m,Yn(u.i,u.h)):(v||(m=Yr(m,Ql)),u.i=new Qn(m,u.h))}function Ke(u,m,v){u.i.set(m,v)}function Qr(u){return Ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Fe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,ql),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ql(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gs=/[#\/\?@]/g,Kl=/[#\?:]/g,Gl=/[#\?]/g,Ql=/[#\?@]/g,ya=/#/g;function Qn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ct(u){u.g||(u.g=new Map,u.h=0,u.i&&mh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Qn.prototype,n.add=function(u,m){Ct(this),this.i=null,u=yn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Nn(u,m){Ct(u),m=yn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function On(u,m){return Ct(u),m=yn(u,m),u.g.has(m)}n.forEach=function(u,m){Ct(this),this.g.forEach(function(v,S){v.forEach(function(U){u.call(m,U,S,this)},this)},this)},n.na=function(){Ct(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let S=0;S<m.length;S++){const U=u[S];for(let $=0;$<U.length;$++)v.push(m[S])}return v},n.V=function(u){Ct(this);let m=[];if(typeof u=="string")On(this,u)&&(m=m.concat(this.g.get(yn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Ct(this),this.i=null,u=yn(this,u),On(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Xr(u,m,v){Nn(u,m),0<v.length&&(u.i=null,u.g.set(yn(u,m),O(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var S=m[v];const $=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var U=$;oe[S]!==""&&(U+="="+encodeURIComponent(String(oe[S]))),u.push(U)}}return this.i=u.join("&")};function yn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Yn(u,m){m&&!u.j&&(Ct(u),u.i=null,u.g.forEach(function(v,S){var U=S.toLowerCase();S!=U&&(Nn(this,S),Xr(this,U,v))},u)),u.j=m}function gh(u,m){const v=new Wi;if(f.Image){const S=new Image;S.onload=k(Qt,v,"TestLoadImage: loaded",!0,m,S),S.onerror=k(Qt,v,"TestLoadImage: error",!1,m,S),S.onabort=k(Qt,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=k(Qt,v,"TestLoadImage: timeout",!1,m,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Yl(u,m){const v=new Wi,S=new AbortController,U=setTimeout(()=>{S.abort(),Qt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then($=>{clearTimeout(U),$.ok?Qt(v,"TestPingServer: ok",!0,m):Qt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Qt(v,"TestPingServer: error",!1,m)})}function Qt(u,m,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function yh(){this.g=new la}function Xl(u,m,v){const S=v||"";try{qr(u,function(U,$){let oe=U;g(U)&&(oe=oa(U)),m.push(S+$+"="+encodeURIComponent(oe))})}catch(U){throw m.push(S+"type="+encodeURIComponent("_badmap")),U}}function Tr(u){this.l=u.Ub||null,this.j=u.eb||!1}D(Tr,zi),Tr.prototype.g=function(){return new Xi(this.l,this.j)},Tr.prototype.i=function(u){return function(){return u}}({});function Xi(u,m){mt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Xi,mt),n=Xi.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,bn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,bn(this)),this.g&&(this.readyState=3,bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?xn(this):bn(this),this.readyState==3&&Jl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,xn(this))},n.Qa=function(u){this.g&&(this.response=u,xn(this))},n.ga=function(){this.g&&xn(this)};function xn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,bn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ir(u){let m="";return ce(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Jr(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Ir(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ke(u,m,v))}function et(u){mt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(et,mt);var vh=/^https?$/i,va=["POST","PUT"];n=et.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cn.g(),this.v=this.o?Fs(this.o):Fs(Cn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch($){Ji(this,$);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(va,m,void 0))||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,oe]of v)this.g.setRequestHeader($,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Ji(this,$)}};function Ji(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Qs(u),ln(u)}function Qs(u){u.A||(u.A=!0,gt(u,"complete"),gt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,gt(this,"complete"),gt(this,"abort"),ln(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ln(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?_a(this):this.bb())},n.bb=function(){_a(this)};function _a(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Yt(u)!=4||u.Z()!=2)){if(u.u&&Yt(u)==4)ra(u.Ea,0,u);else if(gt(u,"readystatechange"),Yt(u)==4){u.h=!1;try{const oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=oe===0){var U=String(u.D).match(Qi)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),S=!vh.test(U?U.toLowerCase():"")}v=S}if(v)gt(u,"complete"),gt(u,"success");else{u.m=6;try{var $=2<Yt(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Qs(u)}}finally{ln(u)}}}}function ln(u,m){if(u.g){Ys(u);const v=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||gt(u,"ready");try{v.onreadystatechange=S}catch{}}}function Ys(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Yt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),aa(m)}};function Ea(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xs(u){const m={};u=(u.g&&2<=Yt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(H(u[S]))continue;var v=M(u[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=m[U]||[];m[U]=$,$.push(v)}N(m,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xn(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function wa(u){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xn("baseRetryDelayMs",5e3,u),this.cb=Xn("retryDelaySeedMs",1e4,u),this.Wa=Xn("forwardChannelMaxRetries",2,u),this.wa=Xn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Gi(u&&u.concurrentRequestLimit),this.Da=new yh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=wa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,S){at(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=nu(this,null,this.W),Jn(this)};function kt(u){if(Js(u),u.G==3){var m=u.U++,v=an(u.I);if(Ke(v,"SID",u.K),Ke(v,"RID",m),Ke(v,"TYPE","terminate"),Sr(u,v),m=new kn(u,u.j,m),m.L=2,m.v=Qr(an(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=ru(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Qe(m)}tu(u)}function Dn(u){u.g&&(Ta(u),u.g.cancel(),u.g=null)}function Js(u){Dn(u),u.u&&(f.clearTimeout(u.u),u.u=null),to(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Jn(u){if(!on(u.h)&&!u.s){u.s=!0;var m=u.Ga;ae||re(),G||(ae(),G=!0),se.add(m,u),u.B=0}}function _h(u,m){return $l(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Rn(I(u.Ga,u,m),eu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new kn(this,this.j,u);let $=this.o;if(this.S&&($?($=R($),x($,this.S)):$=this.S),this.m!==null||this.O||(U.H=$,$=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Zr(this,U,m),v=an(this.I),Ke(v,"RID",u),Ke(v,"CVER",22),this.D&&Ke(v,"X-HTTP-Session-Id",this.D),Sr(this,v),$&&(this.O?m="headers="+encodeURIComponent(String(Ir($)))+"&"+m:this.m&&Jr(v,this.m,$)),ga(this.h,U),this.Ua&&Ke(v,"TYPE","init"),this.P?(Ke(v,"$req",m),Ke(v,"SID","null"),U.T=!0,Hs(U,v,null)):Hs(U,v,m),this.G=2}}else this.G==3&&(u?Zs(this,u):this.i.length==0||on(this.h)||Zs(this))};function Zs(u,m){var v;m?v=m.l:v=u.U++;const S=an(u.I);Ke(S,"SID",u.K),Ke(S,"RID",v),Ke(S,"AID",u.T),Sr(u,S),u.m&&u.o&&Jr(S,u.m,u.o),v=new kn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Zr(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ga(u.h,v),Hs(v,S,m)}function Sr(u,m){u.H&&ce(u.H,function(v,S){Ke(m,S,v)}),u.l&&qr({},function(v,S){Ke(m,S,v)})}function Zr(u,m,v){v=Math.min(u.i.length,v);var S=u.l?I(u.l.Na,u.l,u):null;e:{var U=u.i;let $=-1;for(;;){const oe=["count="+v];$==-1?0<v?($=U[0].g,oe.push("ofs="+$)):$=0:oe.push("ofs="+$);let qe=!0;for(let yt=0;yt<v;yt++){let Ue=U[yt].g;const It=U[yt].map;if(Ue-=$,0>Ue)$=Math.max(0,U[yt].g-100),qe=!1;else try{Xl(It,oe,"req"+Ue+"_")}catch{S&&S(It)}}if(qe){S=oe.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,S}function Zi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ae||re(),G||(ae(),G=!0),se.add(m,u),u.v=0}}function eo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Rn(I(u.Fa,u),eu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Zl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Rn(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Dn(this),Zl(this))};function Ta(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Zl(u){u.g=new kn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Ke(m,"RID","rpc"),Ke(m,"SID",u.K),Ke(m,"AID",u.T),Ke(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ke(m,"TO",u.ja),Ke(m,"TYPE","xmlhttp"),Sr(u,m),u.m&&u.o&&Jr(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Qr(an(m)),v.m=null,v.P=!0,pa(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Dn(this),eo(this),at(19))};function to(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function no(u,m){var v=null;if(u.g==m){to(u),Ta(u),u.g=null;var S=2}else if(Wt(u.h,m))v=m.D,Wl(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;S=$i(),gt(S,new Bs(S,v)),Jn(u)}else Zi(u);else if(U=m.s,U==3||U==0&&0<m.X||!(S==1&&_h(u,m)||S==2&&eo(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ar(u,5);break;case 4:Ar(u,10);break;case 3:Ar(u,6);break;default:Ar(u,2)}}}function eu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Ar(u,m){if(u.j.info("Error code "+m),m==2){var v=I(u.fb,u),S=u.Xa;const U=!S;S=new wr(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Yi(S,"https"),Qr(S),U?gh(S.toString(),v):Yl(S.toString(),v)}else at(2);u.G=0,u.l&&u.l.sa(m),tu(u),Js(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function tu(u){if(u.G=0,u.ka=[],u.l){const m=Hl(u.h);(m.length!=0||u.i.length!=0)&&(A(u.ka,m),A(u.ka,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.ra()}}function nu(u,m,v){var S=v instanceof wr?an(v):new wr(v);if(S.g!="")m&&(S.g=m+"."+S.g),Kr(S,S.s);else{var U=f.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var $=new wr(null);S&&Yi($,S),m&&($.g=m),U&&Kr($,U),v&&($.l=v),S=$}return v=u.D,m=u.ya,v&&m&&Ke(S,v,m),Ke(S,"VER",u.la),Sr(u,S),S}function ru(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new et(new Tr({eb:v})):new et(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ia(){}n=Ia.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ro(){}ro.prototype.g=function(u,m){return new Ht(u,m)};function Ht(u,m){mt.call(this),this.g=new wa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!H(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!H(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}D(Ht,mt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){kt(this.g)},Ht.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=oa(u),u=v);m.i.push(new zl(m.Ya++,u)),m.G==3&&Jn(m)},Ht.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Ht.aa.N.call(this)};function iu(u){Kn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}D(iu,Kn);function su(){js.call(this),this.status=1}D(su,js);function Zn(u){this.g=u}D(Zn,Ia),Zn.prototype.ua=function(){gt(this.g,"a")},Zn.prototype.ta=function(u){gt(this.g,new iu(u))},Zn.prototype.sa=function(u){gt(this.g,new su)},Zn.prototype.ra=function(){gt(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,h0=function(){return new ro},c0=function(){return $i()},u0=Gn,Vd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$s.NO_ERROR=0,$s.TIMEOUT=8,$s.HTTP_ERROR=6,fc=$s,Fl.COMPLETE="complete",l0=Fl,Us.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Xa=Us,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,a0=et}).apply(typeof tc<"u"?tc:typeof self<"u"?self:typeof window<"u"?window:{});const xv="@firebase/firestore",bv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new hp("@firebase/firestore");function Po(){return Ts.logLevel}function de(n,...e){if(Ts.logLevel<=Le.DEBUG){const t=e.map(Ip);Ts.debug(`Firestore (${Go}): ${n}`,...t)}}function Br(n,...e){if(Ts.logLevel<=Le.ERROR){const t=e.map(Ip);Ts.error(`Firestore (${Go}): ${n}`,...t)}}function Uo(n,...e){if(Ts.logLevel<=Le.WARN){const t=e.map(Ip);Ts.warn(`Firestore (${Go}): ${n}`,...t)}}function Ip(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,f0(n,i,t)}function f0(n,e,t){let i=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Br(i),new Error(i)}function He(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||f0(e,o,i)}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends pr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bt.UNAUTHENTICATED))}shutdown(){}}class SC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class AC{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Mr,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Mr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(He(typeof i.accessToken=="string",31837,{l:i}),new d0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Bt(e)}}class RC{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PC{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new RC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const i=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Dv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=kC(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function xe(n,e){return n<e?-1:n>e?1:0}function Ld(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return xe(i,o);{const a=p0(),c=NC(a.encode(Vv(n,t)),a.encode(Vv(e,t)));return c!==0?c:xe(i,o)}}t+=i>65535?2:1}return xe(n.length,e.length)}function Vv(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function NC(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return xe(n[t],e[t]);return xe(n.length,e.length)}function jo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=-62135596800,Mv=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Mv);return new Et(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Lv)throw new me(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mv}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Lv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Et(0,0))}static max(){return new Ne(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="__name__";class ir{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Re(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ir.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ir?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=ir.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return xe(e.length,t.length)}static compareSegments(e,t){const i=ir.isNumericId(e),o=ir.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?ir.extractNumericId(e).compare(ir.extractNumericId(t)):Ld(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ri.fromString(e.substring(4,e.length-2))}}class Ze extends ir{construct(e,t,i){return new Ze(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Ze(t)}static emptyPath(){return new Ze([])}}const OC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends ir{construct(e,t,i){return new Dt(e,t,i)}static isValidIdentifier(e){return OC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fv}static keyField(){return new Dt([Fv])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new me(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new me(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(a(),o++)}if(a(),c)throw new me(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Ze.fromString(e))}static fromName(e){return new Ee(Ze.fromString(e).popFirst(5))}static empty(){return new Ee(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=-1;function xC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(i===1e9?new Et(t+1,0):new Et(t,i));return new Ni(o,Ee.empty(),e)}function bC(n){return new Ni(n.readTime,n.key,gl)}class Ni{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ni(Ne.min(),Ee.empty(),gl)}static max(){return new Ni(Ne.max(),Ee.empty(),gl)}}function DC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==VC)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.reject(t)}static resolve(e){return new Y((t,i)=>{t(e)})}static reject(e){return new Y((t,i)=>{i(e)})}static waitFor(e){return new Y((t,i)=>{let o=0,a=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=Y.resolve(!1);for(const i of e)t=t.next(o=>o?Y.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new Y((i,o)=>{const a=e.length,c=new Array(a);let f=0;for(let p=0;p<a;p++){const g=p;t(e[g]).next(_=>{c[g]=_,++f,f===a&&i(c)},_=>o(_))}})}static doWhile(e,t){return new Y((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function MC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Yo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Zc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=-1;function eh(n){return n==null}function xc(n){return n===0&&1/n==-1/0}function FC(n){return typeof n=="number"&&Number.isInteger(n)&&!xc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="";function UC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Uv(e)),e=jC(n.get(t),e);return Uv(e)}function jC(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case g0:t+="";break;default:t+=a}}return t}function Uv(n){return n+g0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ks(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function y0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||bt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nc(this.root,e,this.comparator,!0)}}class nc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??bt.RED,this.left=o??bt.EMPTY,this.right=a??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new bt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return bt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,i,o,a){return this}insert(e,t,i){return new bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bv(this.data.getIterator())}getIteratorFrom(e){return new Bv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class Bv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new $n([])}unionWith(e){let t=new wt(Dt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new v0("Invalid base64 string: "+a):a}}(e);return new Vt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const BC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(n){if(He(!!n,39018),typeof n=="string"){let e=0;const t=BC.exec(n);if(He(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xi(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="server_timestamp",E0="__type__",w0="__previous_value__",T0="__local_write_time__";function Ap(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[E0])===null||t===void 0?void 0:t.stringValue)===_0}function th(n){const e=n.mapValue.fields[w0];return Ap(e)?th(e):e}function yl(n){const e=Oi(n.mapValue.fields[T0].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t,i,o,a,c,f,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const bc="(default)";class vl{constructor(e,t){this.projectId=e,this.database=t||bc}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database===bc}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="__type__",$C="__max__",rc={mapValue:{}},S0="__vector__",Dc="value";function bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ap(n)?4:HC(n)?9007199254740991:WC(n)?10:11:Re(28295,{value:n})}function fr(n,e){if(n===e)return!0;const t=bi(n);if(t!==bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yl(n).isEqual(yl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Oi(o.timestampValue),f=Oi(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return xi(o.bytesValue).isEqual(xi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return ut(o.geoPointValue.latitude)===ut(a.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return ut(o.integerValue)===ut(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=ut(o.doubleValue),f=ut(a.doubleValue);return c===f?xc(c)===xc(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return jo(n.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},f=a.mapValue.fields||{};if(jv(c)!==jv(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!fr(c[p],f[p])))return!1;return!0}(n,e);default:return Re(52216,{left:n})}}function _l(n,e){return(n.values||[]).find(t=>fr(t,e))!==void 0}function Bo(n,e){if(n===e)return 0;const t=bi(n),i=bi(e);if(t!==i)return xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,e.booleanValue);case 2:return function(a,c){const f=ut(a.integerValue||a.doubleValue),p=ut(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return zv(n.timestampValue,e.timestampValue);case 4:return zv(yl(n),yl(e));case 5:return Ld(n.stringValue,e.stringValue);case 6:return function(a,c){const f=xi(a),p=xi(c);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),p=c.split("/");for(let g=0;g<f.length&&g<p.length;g++){const _=xe(f[g],p[g]);if(_!==0)return _}return xe(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const f=xe(ut(a.latitude),ut(c.latitude));return f!==0?f:xe(ut(a.longitude),ut(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $v(n.arrayValue,e.arrayValue);case 10:return function(a,c){var f,p,g,_;const E=a.fields||{},I=c.fields||{},k=(f=E[Dc])===null||f===void 0?void 0:f.arrayValue,D=(p=I[Dc])===null||p===void 0?void 0:p.arrayValue,O=xe(((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0,((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0);return O!==0?O:$v(k,D)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===rc.mapValue&&c===rc.mapValue)return 0;if(a===rc.mapValue)return 1;if(c===rc.mapValue)return-1;const f=a.fields||{},p=Object.keys(f),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const I=Ld(p[E],_[E]);if(I!==0)return I;const k=Bo(f[p[E]],g[_[E]]);if(k!==0)return k}return xe(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Re(23264,{Pe:t})}}function zv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xe(n,e);const t=Oi(n),i=Oi(e),o=xe(t.seconds,i.seconds);return o!==0?o:xe(t.nanos,i.nanos)}function $v(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Bo(t[o],i[o]);if(a)return a}return xe(t.length,i.length)}function zo(n){return Md(n)}function Md(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Oi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return xi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Md(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Md(t.fields[c])}`;return o+"}"}(n.mapValue):Re(61005,{value:n})}function dc(n){switch(bi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=th(n);return e?16+dc(e):16;case 5:return 2*n.stringValue.length;case 6:return xi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+dc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ks(i.fields,(a,c)=>{o+=a.length+dc(c)}),o}(n.mapValue);default:throw Re(13486,{value:n})}}function Wv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fd(n){return!!n&&"integerValue"in n}function Rp(n){return!!n&&"arrayValue"in n}function Hv(n){return!!n&&"nullValue"in n}function qv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pc(n){return!!n&&"mapValue"in n}function WC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[I0])===null||t===void 0?void 0:t.stringValue)===S0}function il(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ks(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=il(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=il(n.arrayValue.values[t]);return e}return Object.assign({},n)}function HC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===$C}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!pc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(t)}setAll(e){let t=Dt.emptyPath(),i={},o=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=il(c):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());pc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ks(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new An(il(this.value))}}function A0(n){const e=[];return ks(n.fields,(t,i)=>{const o=new Dt([t]);if(pc(i)){const a=A0(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,i,o,a,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new zt(e,0,Ne.min(),Ne.min(),Ne.min(),An.empty(),0)}static newFoundDocument(e,t,i,o){return new zt(e,1,t,Ne.min(),i,o,0)}static newNoDocument(e,t){return new zt(e,2,t,Ne.min(),Ne.min(),An.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Ne.min(),Ne.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t){this.position=e,this.inclusive=t}}function Kv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ee.comparator(Ee.fromName(c.referenceValue),t.key):i=Bo(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Gv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t="asc"){this.field=e,this.dir=t}}function qC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{}class dt extends R0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new GC(e,t,i):t==="array-contains"?new XC(e,i):t==="in"?new JC(e,i):t==="not-in"?new ZC(e,i):t==="array-contains-any"?new ek(e,i):new dt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new QC(e,i):new YC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Bo(t,this.value)):t!==null&&bi(this.value)===bi(t)&&this.matchesComparison(Bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends R0{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new qn(e,t)}matches(e){return P0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function P0(n){return n.op==="and"}function C0(n){return KC(n)&&P0(n)}function KC(n){for(const e of n.filters)if(e instanceof qn)return!1;return!0}function Ud(n){if(n instanceof dt)return n.field.canonicalString()+n.op.toString()+zo(n.value);if(C0(n))return n.filters.map(e=>Ud(e)).join(",");{const e=n.filters.map(t=>Ud(t)).join(",");return`${n.op}(${e})`}}function k0(n,e){return n instanceof dt?function(i,o){return o instanceof dt&&i.op===o.op&&i.field.isEqual(o.field)&&fr(i.value,o.value)}(n,e):n instanceof qn?function(i,o){return o instanceof qn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,f)=>a&&k0(c,o.filters[f]),!0):!1}(n,e):void Re(19439)}function N0(n){return n instanceof dt?function(t){return`${t.field.canonicalString()} ${t.op} ${zo(t.value)}`}(n):n instanceof qn?function(t){return t.op.toString()+" {"+t.getFilters().map(N0).join(" ,")+"}"}(n):"Filter"}class GC extends dt{constructor(e,t,i){super(e,t,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class QC extends dt{constructor(e,t){super(e,"in",t),this.keys=O0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class YC extends dt{constructor(e,t){super(e,"not-in",t),this.keys=O0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function O0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class XC extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rp(t)&&_l(t.arrayValue,this.value)}}class JC extends dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_l(this.value.arrayValue,t)}}class ZC extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_l(this.value.arrayValue,t)}}class ek extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>_l(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t=null,i=[],o=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=f,this.Ie=null}}function Qv(n,e=null,t=[],i=[],o=null,a=null,c=null){return new tk(n,e,t,i,o,a,c)}function Pp(n){const e=Oe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ud(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),eh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>zo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>zo(i)).join(",")),e.Ie=t}return e.Ie}function Cp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!k0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Gv(n.startAt,e.startAt)&&Gv(n.endAt,e.endAt)}function jd(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t=null,i=[],o=[],a=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function nk(n,e,t,i,o,a,c,f){return new Ol(n,e,t,i,o,a,c,f)}function kp(n){return new Ol(n)}function Yv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function x0(n){return n.collectionGroup!==null}function sl(n){const e=Oe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new wt(Dt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Lc(a,i))}),t.has(Dt.keyField().canonicalString())||e.Ee.push(new Lc(Dt.keyField(),i))}return e.Ee}function ur(n){const e=Oe(n);return e.de||(e.de=rk(e,sl(n))),e.de}function rk(n,e){if(n.limitType==="F")return Qv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Lc(o.field,a)});const t=n.endAt?new Vc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vc(n.startAt.position,n.startAt.inclusive):null;return Qv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Bd(n,e){const t=n.filters.concat([e]);return new Ol(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zd(n,e,t){return new Ol(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nh(n,e){return Cp(ur(n),ur(e))&&n.limitType===e.limitType}function b0(n){return`${Pp(ur(n))}|lt:${n.limitType}`}function Co(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>N0(o)).join(", ")}]`),eh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>zo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>zo(o)).join(",")),`Target(${i})`}(ur(n))}; limitType=${n.limitType})`}function rh(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ee.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of sl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,f,p){const g=Kv(c,f,p);return c.inclusive?g<=0:g<0}(i.startAt,sl(i),o)||i.endAt&&!function(c,f,p){const g=Kv(c,f,p);return c.inclusive?g>=0:g>0}(i.endAt,sl(i),o))}(n,e)}function ik(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function D0(n){return(e,t)=>{let i=!1;for(const o of sl(n)){const a=sk(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function sk(n,e,t){const i=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(a,c,f){const p=c.data.field(a),g=f.data.field(a);return p!==null&&g!==null?Bo(p,g):Re(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return y0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new st(Ee.comparator);function zr(){return ok}const V0=new st(Ee.comparator);function Ja(...n){let e=V0;for(const t of n)e=e.insert(t.key,t);return e}function L0(n){let e=V0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ms(){return ol()}function M0(){return ol()}function ol(){return new Ns(n=>n.toString(),(n,e)=>n.isEqual(e))}const ak=new st(Ee.comparator),lk=new wt(Ee.comparator);function Me(...n){let e=lk;for(const t of n)e=e.add(t);return e}const uk=new wt(xe);function ck(){return uk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(e)?"-0":e}}function F0(n){return{integerValue:""+n}}function hk(n,e){return FC(e)?F0(e):Np(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this._=void 0}}function fk(n,e,t){return n instanceof Mc?function(o,a){const c={fields:{[E0]:{stringValue:_0},[T0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Ap(a)&&(a=th(a)),a&&(c.fields[w0]=a),{mapValue:c}}(t,e):n instanceof El?j0(n,e):n instanceof wl?B0(n,e):function(o,a){const c=U0(o,a),f=Xv(c)+Xv(o.Re);return Fd(c)&&Fd(o.Re)?F0(f):Np(o.serializer,f)}(n,e)}function dk(n,e,t){return n instanceof El?j0(n,e):n instanceof wl?B0(n,e):t}function U0(n,e){return n instanceof Fc?function(i){return Fd(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Mc extends ih{}class El extends ih{constructor(e){super(),this.elements=e}}function j0(n,e){const t=z0(e);for(const i of n.elements)t.some(o=>fr(o,i))||t.push(i);return{arrayValue:{values:t}}}class wl extends ih{constructor(e){super(),this.elements=e}}function B0(n,e){let t=z0(e);for(const i of n.elements)t=t.filter(o=>!fr(o,i));return{arrayValue:{values:t}}}class Fc extends ih{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Xv(n){return ut(n.integerValue||n.doubleValue)}function z0(n){return Rp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function pk(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof El&&o instanceof El||i instanceof wl&&o instanceof wl?jo(i.elements,o.elements,fr):i instanceof Fc&&o instanceof Fc?fr(i.Re,o.Re):i instanceof Mc&&o instanceof Mc}(n.transform,e.transform)}class mk{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sh{}function $0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new H0(n.key,cr.none()):new xl(n.key,n.data,cr.none());{const t=n.data,i=An.empty();let o=new wt(Dt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new Os(n.key,i,new $n(o.toArray()),cr.none())}}function gk(n,e,t){n instanceof xl?function(o,a,c){const f=o.value.clone(),p=Zv(o.fieldTransforms,a,c.transformResults);f.setAll(p),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Os?function(o,a,c){if(!mc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const f=Zv(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(W0(o)),p.setAll(f),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function al(n,e,t,i){return n instanceof xl?function(a,c,f,p){if(!mc(a.precondition,c))return f;const g=a.value.clone(),_=e_(a.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Os?function(a,c,f,p){if(!mc(a.precondition,c))return f;const g=e_(a.fieldTransforms,p,c),_=c.data;return _.setAll(W0(a)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(a,c,f){return mc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function yk(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=U0(i.transform,o||null);a!=null&&(t===null&&(t=An.empty()),t.set(i.field,a))}return t||null}function Jv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&jo(i,o,(a,c)=>pk(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xl extends sh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Os extends sh{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function W0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Zv(n,e,t){const i=new Map;He(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,f=e.data.field(a.field);i.set(a.field,dk(c,f,t[o]))}return i}function e_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,fk(a,c,e))}return i}class H0 extends sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vk extends sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&gk(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=al(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=al(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=M0();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(o.key)?null:f;const p=$0(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ne.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(t,i)=>Jv(t,i))&&jo(this.baseMutations,e.baseMutations,(t,i)=>Jv(t,i))}}class Op{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){He(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return ak}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new Op(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,je;function Tk(n){switch(n){case X.OK:return Re(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function q0(n){if(n===void 0)return Br("GRPC error has no .code"),X.UNKNOWN;switch(n){case ft.OK:return X.OK;case ft.CANCELLED:return X.CANCELLED;case ft.UNKNOWN:return X.UNKNOWN;case ft.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ft.INTERNAL:return X.INTERNAL;case ft.UNAVAILABLE:return X.UNAVAILABLE;case ft.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ft.NOT_FOUND:return X.NOT_FOUND;case ft.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ft.ABORTED:return X.ABORTED;case ft.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ft.DATA_LOSS:return X.DATA_LOSS;default:return Re(39323,{code:n})}}(je=ft||(ft={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=new Ri([4294967295,4294967295],0);function t_(n){const e=p0().encode(n),t=new o0;return t.update(e),new Uint8Array(t.digest())}function n_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ri([t,i],0),new Ri([o,a],0)]}class xp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Za(`Invalid padding: ${t}`);if(i<0)throw new Za(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Za(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Za(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ri.fromNumber(this.pe)}we(e,t,i){let o=e.add(t.multiply(Ri.fromNumber(i)));return o.compare(Ik)===1&&(o=new Ri([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=t_(e),[i,o]=n_(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);if(!this.be(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new xp(a,o,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.pe===0)return;const t=t_(e),[i,o]=n_(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,bl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new oh(Ne.min(),o,new st(xe),zr(),Me())}}class bl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new bl(i,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t,i,o){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=o}}class K0{constructor(e,t){this.targetId=e,this.Ce=t}}class G0{constructor(e,t,i=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class r_{constructor(){this.Fe=0,this.Me=i_(),this.xe=Vt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),t=Me(),i=Me();return this.Me.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Re(38017,{changeType:a})}}),new bl(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=i_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Sk{constructor(e){this.ze=e,this.je=new Map,this.He=zr(),this.Je=ic(),this.Ye=ic(),this.Ze=new st(xe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,i=e.Ce.count,o=this._t(t);if(o){const a=o.target;if(jd(a))if(i===0){const c=new Ee(a.path);this.tt(t,c,zt.newNoDocument(c,Ne.min()))}else He(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const f=this.ct(e),p=f?this.lt(f,e,c):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,f;try{c=xi(i).toUint8Array()}catch(p){if(p instanceof v0)return Uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new xp(c,o,a)}catch(p){return Uo(p instanceof Za?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.pe===0?null:f}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,a,null),o++)}),o}It(e){const t=new Map;this.je.forEach((a,c)=>{const f=this._t(c);if(f){if(a.current&&jd(f.target)){const p=new Ee(f.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,zt.newNoDocument(p,e))}a.Le&&(t.set(c,a.qe()),a.Qe())}});let i=Me();this.Ye.forEach((a,c)=>{let f=!0;c.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(a))}),this.He.forEach((a,c)=>c.setReadTime(e));const o=new oh(e,t,this.Ze,this.He,i);return this.He=zr(),this.Je=ic(),this.Ye=ic(),this.Ze=new st(xe),o}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new r_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new wt(xe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new wt(xe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new r_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ic(){return new st(Ee.comparator)}function i_(){return new st(Ee.comparator)}const Ak={asc:"ASCENDING",desc:"DESCENDING"},Rk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pk={and:"AND",or:"OR"};class Ck{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $d(n,e){return n.useProto3Json||eh(e)?e:{value:e}}function Uc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kk(n,e){return Uc(n,e.toTimestamp())}function hr(n){return He(!!n,49232),Ne.fromTimestamp(function(t){const i=Oi(t);return new Et(i.seconds,i.nanos)}(n))}function bp(n,e){return Wd(n,e).canonicalString()}function Wd(n,e){const t=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Y0(n){const e=Ze.fromString(n);return He(tw(e),10190,{key:e.toString()}),e}function Hd(n,e){return bp(n.databaseId,e.path)}function dd(n,e){const t=Y0(e);if(t.get(1)!==n.databaseId.projectId)throw new me(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(J0(t))}function X0(n,e){return bp(n.databaseId,e)}function Nk(n){const e=Y0(n);return e.length===4?Ze.emptyPath():J0(e)}function qd(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function J0(n){return He(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function s_(n,e,t){return{name:Hd(n,e),fields:t.value.mapValue.fields}}function Ok(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Re(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(g,_){return g.useProto3Json?(He(_===void 0||typeof _=="string",58123),Vt.fromBase64String(_||"")):(He(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Vt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(g){const _=g.code===void 0?X.UNKNOWN:q0(g.code);return new me(_,g.message||"")}(c);t=new G0(i,o,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=dd(n,i.document.name),a=hr(i.document.updateTime),c=i.document.createTime?hr(i.document.createTime):Ne.min(),f=new An({mapValue:{fields:i.document.fields}}),p=zt.newFoundDocument(o,a,c,f),g=i.targetIds||[],_=i.removedTargetIds||[];t=new gc(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=dd(n,i.document),a=i.readTime?hr(i.readTime):Ne.min(),c=zt.newNoDocument(o,a),f=i.removedTargetIds||[];t=new gc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=dd(n,i.document),a=i.removedTargetIds||[];t=new gc([],a,o,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new wk(o,a),f=i.targetId;t=new K0(f,c)}}return t}function xk(n,e){let t;if(e instanceof xl)t={update:s_(n,e.key,e.value)};else if(e instanceof H0)t={delete:Hd(n,e.key)};else if(e instanceof Os)t={update:s_(n,e.key,e.data),updateMask:Bk(e.fieldMask)};else{if(!(e instanceof vk))return Re(16599,{ft:e.type});t={verify:Hd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const f=c.transform;if(f instanceof Mc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof El)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof wl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Fc)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw Re(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:kk(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re(27497)}(n,e.precondition)),t}function bk(n,e){return n&&n.length>0?(He(e!==void 0,14353),n.map(t=>function(o,a){let c=o.updateTime?hr(o.updateTime):hr(a);return c.isEqual(Ne.min())&&(c=hr(a)),new mk(c,o.transformResults||[])}(t,e))):[]}function Dk(n,e){return{documents:[X0(n,e.path)]}}function Vk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=X0(n,o);const a=function(g){if(g.length!==0)return ew(qn.create(g,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(g){if(g.length!==0)return g.map(_=>function(I){return{field:ko(I.field),direction:Fk(I.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=$d(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:o}}function Lk(n){let e=Nk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){He(i===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(E){const I=Z0(E);return I instanceof qn&&C0(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(I=>function(D){return new Lc(No(D.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(I))}(t.orderBy));let f=null;t.limit&&(f=function(E){let I;return I=typeof E=="object"?E.value:E,eh(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(E){const I=!!E.before,k=E.values||[];return new Vc(k,I)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const I=!E.before,k=E.values||[];return new Vc(k,I)}(t.endAt)),nk(e,o,c,a,f,"F",p,g)}function Mk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Z0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=No(t.unaryFilter.field);return dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=No(t.unaryFilter.field);return dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=No(t.unaryFilter.field);return dt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=No(t.unaryFilter.field);return dt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(n):n.fieldFilter!==void 0?function(t){return dt.create(No(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return qn.create(t.compositeFilter.filters.map(i=>Z0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(t.compositeFilter.op))}(n):Re(30097,{filter:n})}function Fk(n){return Ak[n]}function Uk(n){return Rk[n]}function jk(n){return Pk[n]}function ko(n){return{fieldPath:n.canonicalString()}}function No(n){return Dt.fromServerFormat(n.fieldPath)}function ew(n){return n instanceof dt?function(t){if(t.op==="=="){if(qv(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NAN"}};if(Hv(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(qv(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NAN"}};if(Hv(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(t.field),op:Uk(t.op),value:t.value}}}(n):n instanceof qn?function(t){const i=t.getFilters().map(o=>ew(o));return i.length===1?i[0]:{compositeFilter:{op:jk(t.op),filters:i}}}(n):Re(54877,{filter:n})}function Bk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function tw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,t,i,o,a=Ne.min(),c=Ne.min(),f=Vt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.wt=e}}function $k(n){const e=Lk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.Cn=new Hk}addToCollectionParentIndex(e,t){return this.Cn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Ni.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Ni.min())}updateCollectionGroup(e,t,i){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class Hk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new wt(Ze.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new wt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nw=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(nw,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new $o(0)}static lr(){return new $o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="LruGarbageCollector",qk=1048576;function l_([n,e],[t,i]){const o=xe(n,t);return o===0?xe(e,i):o}class Kk{constructor(e){this.Er=e,this.buffer=new wt(l_),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();l_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Gk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){de(a_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Yo(t)?de(a_,"Ignoring IndexedDB error during garbage collection: ",t):await Qo(t)}await this.mr(3e5)})}}class Qk{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(Zc.le);const i=new Kk(t);return this.gr.forEachTarget(e,o=>i.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>i.Rr(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(o_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o_):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,o,a,c,f,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,f=Date.now(),this.removeTargets(e,i,t))).next(E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(g=Date.now(),Po()<=Le.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${a} targets in `+(p-f)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}function Yk(n,e){return new Qk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.changes=new Ns(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Y.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&al(i.mutation,o,$n.empty(),Et.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Me()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Me()){const o=ms();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=Ja();return a.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ms();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Me()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,o){let a=zr();const c=ol(),f=function(){return ol()}();return t.forEach((p,g)=>{const _=i.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Os)?a=a.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),al(_.mutation,g,_.mutation.getFieldMask(),Et.now())):c.set(g.key,$n.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>{var E;return f.set(g,new Jk(_,(E=c.get(g))!==null&&E!==void 0?E:null))}),f))}recalculateAndSaveOverlays(e,t){const i=ol();let o=new st((c,f)=>c-f),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=i.get(p)||$n.empty();_=f.applyToLocalView(g,_),i.set(p,_);const E=(o.get(f.batchId)||Me()).add(p);o=o.insert(f.batchId,E)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,_=p.value,E=M0();_.forEach(I=>{if(!a.has(I)){const k=$0(t.get(I),i.get(I));k!==null&&E.set(I,k),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return Y.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):x0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):Y.resolve(ms());let f=gl,p=a;return c.next(g=>Y.forEach(g,(_,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),a.get(_)?Y.resolve():this.remoteDocumentCache.getEntry(e,_).next(I=>{p=p.insert(_,I)}))).next(()=>this.populateOverlays(e,g,a)).next(()=>this.computeViews(e,p,g,Me())).next(_=>({batchId:f,changes:L0(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(i=>{let o=Ja();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Ja();return this.indexManager.getCollectionParents(e,a).next(f=>Y.forEach(f,p=>{const g=function(E,I){return new Ol(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(_=>{_.forEach((E,I)=>{c=c.insert(E,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,zt.newInvalidDocument(_)))});let f=Ja();return c.forEach((p,g)=>{const _=a.get(p);_!==void 0&&al(_.mutation,g,$n.empty(),Et.now()),rh(t,g)&&(f=f.insert(p,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Y.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:hr(o.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:$k(o.bundledQuery),readTime:hr(o.readTime)}}(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.overlays=new st(Ee.comparator),this.Qr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ms();return Y.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.St(e,t,a)}),Y.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Qr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(i)),Y.resolve()}getOverlaysForCollection(e,t,i){const o=ms(),a=t.length+1,c=new Ee(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new st((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=a.get(g.largestBatchId);_===null&&(_=ms(),a=a.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const f=ms(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>f.set(g,_)),!(f.size()>=o)););return Y.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Qr.get(o.largestBatchId).delete(i.key);this.Qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Ek(t,i));let a=this.Qr.get(t);a===void 0&&(a=Me(),this.Qr.set(t,a)),this.Qr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.$r=new wt(Pt.Ur),this.Kr=new wt(Pt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Pt(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Ee(new Ze([])),i=new Pt(t,e),o=new Pt(t,e+1),a=[];return this.Kr.forEachInRange([i,o],c=>{this.zr(c),a.push(c.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ee(new Ze([])),i=new Pt(t,e),o=new Pt(t,e+1);let a=Me();return this.Kr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Pt(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ee.comparator(e.key,t.key)||xe(e.Zr,t.Zr)}static Wr(e,t){return xe(e.Zr,t.Zr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new wt(Pt.Ur)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _k(a,t,i,o);this.mutationQueue.push(c);for(const f of o)this.Xr=this.Xr.add(new Pt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Y.resolve(c)}lookupMutationBatch(e,t){return Y.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ti(i),a=o<0?0:o;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Sp:this.nr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([i,o],c=>{const f=this.ei(c.Zr);a.push(f)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new wt(xe);return t.forEach(o=>{const a=new Pt(o,0),c=new Pt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,c],f=>{i=i.add(f.Zr)})}),Y.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ee.isDocumentKey(a)||(a=a.child(""));const c=new Pt(new Ee(a),0);let f=new wt(xe);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.Zr)),!0)},c),Y.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(i=>{const o=this.ei(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){He(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return Y.forEach(t.mutations,o=>{const a=new Pt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Pt(t,0),o=this.Xr.firstAfterOrEqual(i);return Y.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.ii=e,this.docs=function(){return new st(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Y.resolve(i?i.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let i=zr();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():zt.newInvalidDocument(o))}),Y.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=zr();const c=t.path,f=new Ee(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||DC(bC(_),i)<=0||(o.has(_.key)||rh(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Re(9500)}si(e,t){return Y.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new sN(this)}getSize(e){return Y.resolve(this.size)}}class sN extends Xk{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(i)}),Y.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.persistence=e,this.oi=new Ns(t=>Pp(t),Cp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this._i=0,this.ai=new Dp,this.targetCount=0,this.ui=$o.cr()}forEachTarget(e,t){return this.oi.forEach((i,o)=>t(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),Y.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new $o(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Tr(t),Y.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.oi.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.oi.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),Y.waitFor(a).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return Y.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),Y.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return Y.resolve(i)}containsKey(e,t){return Y.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t){this.ci={},this.overlays={},this.li=new Zc(0),this.hi=!1,this.hi=!0,this.Pi=new nN,this.referenceDelegate=e(this),this.Ti=new oN(this),this.indexManager=new Wk,this.remoteDocumentCache=function(o){return new iN(o)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new zk(t),this.Ei=new eN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new rN(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const o=new aN(this.li.next());return this.referenceDelegate.di(),i(o).next(a=>this.referenceDelegate.Ai(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ri(e,t){return Y.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class aN extends LC{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Vi=new Dp,this.mi=null}static fi(e){return new Vp(e)}get gi(){if(this.mi)return this.mi;throw Re(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),Y.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.gi.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.gi,i=>{const o=Ee.fromPath(i);return this.pi(e,o).next(a=>{a||t.removeEntry(o,Ne.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Y.or([()=>Y.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class jc{constructor(e,t){this.persistence=e,this.yi=new Ns(i=>UC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=Yk(this,t)}static fi(e,t){return new jc(e,t)}di(){}Ai(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return Y.forEach(this.yi,(i,o)=>this.Dr(e,i,o).next(a=>a?Y.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.si(e,c=>this.Dr(e,c,t).next(f=>{f||(i++,a.removeEntry(c,Ne.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Y.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=dc(e.data.value)),t}Dr(e,t,i){return Y.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return Y.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.ds=i,this.As=o}static Rs(e,t){let i=Me(),o=Me();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Lp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return H1()?8:MC($t())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.ws(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.bs(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new lN;return this.Ss(e,t,c).next(f=>{if(a.result=f,this.fs)return this.Ds(e,t,c,f.size)})}).next(()=>a.result)}Ds(e,t,i,o){return i.documentReadCount<this.gs?(Po()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Y.resolve()):(Po()<=Le.DEBUG&&de("QueryEngine","Query:",Co(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ps*o?(Po()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(t))):Y.resolve())}ws(e,t){if(Yv(t))return Y.resolve(null);let i=ur(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=zd(t,null,"F"),i=ur(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Me(...a);return this.ys.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.vs(t,f);return this.Cs(t,g,c,p.readTime)?this.ws(e,zd(t,null,"F")):this.Fs(e,g,t,p)}))})))}bs(e,t,i,o){return Yv(t)||o.isEqual(Ne.min())?Y.resolve(null):this.ys.getDocuments(e,i).next(a=>{const c=this.vs(t,a);return this.Cs(t,c,i,o)?Y.resolve(null):(Po()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Co(t)),this.Fs(e,c,t,xC(o,gl)).next(f=>f))})}vs(e,t){let i=new wt(D0(e));return t.forEach((o,a)=>{rh(e,a)&&(i=i.add(a))}),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,i){return Po()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Co(t)),this.ys.getDocumentsMatchingQuery(e,t,Ni.min(),i)}Fs(e,t,i,o){return this.ys.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="LocalStore",cN=3e8;class hN{constructor(e,t,i,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new st(xe),this.Os=new Ns(a=>Pp(a),Cp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zk(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function fN(n,e,t,i){return new hN(n,e,t,i)}async function iw(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],f=[];let p=Me();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of a){f.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:f}))})})}function dN(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,p,g,_){const E=g.batch,I=E.keys();let k=Y.resolve();return I.forEach(D=>{k=k.next(()=>_.getEntry(p,D)).next(O=>{const A=g.docVersions.get(D);He(A!==null,48541),O.version.compareTo(A)<0&&(E.applyToRemoteDocument(O,g),O.isValidDocument()&&(O.setReadTime(g.commitVersion),_.addEntry(O)))})}),k.next(()=>f.mutationQueue.removeMutationBatch(p,E))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=Me();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function sw(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function pN(n,e){const t=Oe(n),i=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const f=[];e.targetChanges.forEach((_,E)=>{const I=o.get(E);if(!I)return;f.push(t.Ti.removeMatchingKeys(a,_.removedDocuments,E).next(()=>t.Ti.addMatchingKeys(a,_.addedDocuments,E)));let k=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?k=k.withResumeToken(Vt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):_.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(_.resumeToken,i)),o=o.insert(E,k),function(O,A,Q){return O.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=cN?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(I,k,_)&&f.push(t.Ti.updateTargetData(a,k))});let p=zr(),g=Me();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),f.push(mN(a,c,e.documentUpdates).next(_=>{p=_.qs,g=_.Qs})),!i.isEqual(Ne.min())){const _=t.Ti.getLastRemoteSnapshotVersion(a).next(E=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(_)}return Y.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,g)).next(()=>p)}).then(a=>(t.xs=o,a))}function mN(n,e,t){let i=Me(),o=Me();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=zr();return t.forEach((f,p)=>{const g=a.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):de(Mp,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),{qs:c,Qs:o}})}function gN(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Sp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function yN(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Ti.getTargetData(i,e).next(a=>a?(o=a,Y.resolve(o)):t.Ti.allocateTargetId(i).next(c=>(o=new wi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.xs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function Kd(n,e,t){const i=Oe(n),o=i.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Yo(c))throw c;de(Mp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(o.target)}function u_(n,e,t){const i=Oe(n);let o=Ne.min(),a=Me();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,_){const E=Oe(p),I=E.Os.get(_);return I!==void 0?Y.resolve(E.xs.get(I)):E.Ti.getTargetData(g,_)}(i,c,ur(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,f.targetId).next(p=>{a=p})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?o:Ne.min(),t?a:Me())).next(f=>(vN(i,ik(e),f),{documents:f,$s:a})))}function vN(n,e,t){let i=n.Ns.get(e)||Ne.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ns.set(e,i)}class c_{constructor(){this.activeTargetIds=ck()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _N{constructor(){this.xo=new c_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new c_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="ConnectivityMonitor";class f_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){de(h_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){de(h_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=null;function Gd(){return sc===null?sc=function(){return 268435456+Math.round(2147483648*Math.random())}():sc++,"0x"+sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="RestConnection",wN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TN{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${o}`,this.Go=this.databaseId.database===bc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}zo(e,t,i,o,a){const c=Gd(),f=this.jo(e,t.toUriEncodedString());de(pd,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,a);const{host:g}=new URL(f),_=Rs(g);return this.Jo(e,f,p,i,_).then(E=>(de(pd,`Received RPC '${e}' ${c}: `,E),E),E=>{throw Uo(pd,`RPC '${e}' ${c} failed with error: `,E,"url: ",f,"request:",i),E})}Yo(e,t,i,o,a,c){return this.zo(e,t,i,o,a)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}jo(e,t){const i=wN[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class SN extends TN{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,a){const c=Gd();return new Promise((f,p)=>{const g=new a0;g.setWithCredentials(!0),g.listenOnce(l0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case fc.NO_ERROR:const E=g.getResponseJson();de(jt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),f(E);break;case fc.TIMEOUT:de(jt,`RPC '${e}' ${c} timed out`),p(new me(X.DEADLINE_EXCEEDED,"Request time out"));break;case fc.HTTP_ERROR:const I=g.getStatus();if(de(jt,`RPC '${e}' ${c} failed with status:`,I,"response text:",g.getResponseText()),I>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const D=k==null?void 0:k.error;if(D&&D.status&&D.message){const O=function(Q){const H=Q.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(H)>=0?H:X.UNKNOWN}(D.status);p(new me(O,D.message))}else p(new me(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new me(X.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{h_:e,streamId:c,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{de(jt,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(o);de(jt,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",_,i,15)})}I_(e,t,i){const o=Gd(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=h0(),f=c0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=a.join("");de(jt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const E=c.createWebChannel(_,p);this.E_(E);let I=!1,k=!1;const D=new IN({Zo:A=>{k?de(jt,`Not sending because RPC '${e}' stream ${o} is closed:`,A):(I||(de(jt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),I=!0),de(jt,`RPC '${e}' stream ${o} sending:`,A),E.send(A))},Xo:()=>E.close()}),O=(A,Q,H)=>{A.listen(Q,q=>{try{H(q)}catch(ne){setTimeout(()=>{throw ne},0)}})};return O(E,Xa.EventType.OPEN,()=>{k||(de(jt,`RPC '${e}' stream ${o} transport opened.`),D.__())}),O(E,Xa.EventType.CLOSE,()=>{k||(k=!0,de(jt,`RPC '${e}' stream ${o} transport closed`),D.u_(),this.d_(E))}),O(E,Xa.EventType.ERROR,A=>{k||(k=!0,Uo(jt,`RPC '${e}' stream ${o} transport errored. Name:`,A.name,"Message:",A.message),D.u_(new me(X.UNAVAILABLE,"The operation could not be completed")))}),O(E,Xa.EventType.MESSAGE,A=>{var Q;if(!k){const H=A.data[0];He(!!H,16349);const q=H,ne=(q==null?void 0:q.error)||((Q=q[0])===null||Q===void 0?void 0:Q.error);if(ne){de(jt,`RPC '${e}' stream ${o} received error:`,ne);const K=ne.status;let ce=function(C){const x=ft[C];if(x!==void 0)return q0(x)}(K),N=ne.message;ce===void 0&&(ce=X.INTERNAL,N="Unknown error status: "+K+" with message "+ne.message),k=!0,D.u_(new me(ce,N)),E.close()}else de(jt,`RPC '${e}' stream ${o} received:`,H),D.c_(H)}}),O(f,u0.STAT_EVENT,A=>{A.stat===Vd.PROXY?de(jt,`RPC '${e}' stream ${o} detected buffering proxy`):A.stat===Vd.NOPROXY&&de(jt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.a_()},0),D}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(n){return new Ck(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,i=1e3,o=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=o,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),o=Math.max(0,t-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="PersistentStream";class aw{constructor(e,t,i,o,a,c,f,p){this.xi=e,this.S_=i,this.D_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new ow(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.v_===t&&this.z_(i,o)},i=>{e(()=>{const o=new me(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(o)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{i(()=>this.j_(o))}),this.stream.onMessage(o=>{i(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return de(d_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(de(d_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AN extends aw{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=Ok(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ne.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?hr(c.readTime):Ne.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=qd(this.serializer),t.addTarget=function(a,c){let f;const p=c.target;if(f=jd(p)?{documents:Dk(a,p)}:{query:Vk(a,p).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Q0(a,c.resumeToken);const g=$d(a,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ne.min())>0){f.readTime=Uc(a,c.snapshotVersion.toTimestamp());const g=$d(a,c.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const i=Mk(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=qd(this.serializer),t.removeTarget=e,this.Q_(t)}}class RN extends aw{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=bk(e.writeResults,e.commitTime),i=hr(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=qd(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>xk(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{}class CN extends PN{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new me(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.zo(e,Wd(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(X.UNKNOWN,a.toString())})}Yo(e,t,i,o,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Yo(e,Wd(t,i),o,c,f,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(X.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class kN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Br(t),this.ua=!1):de("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class NN{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(c=>{i.enqueueAndForget(async()=>{xs(this)&&(de(Is,"Restarting streams for network reachability change."),await async function(p){const g=Oe(p);g.da.add(4),await Dl(g),g.Va.set("Unknown"),g.da.delete(4),await lh(g)}(this))})}),this.Va=new kN(i,o)}}async function lh(n){if(xs(n))for(const e of n.Aa)await e(!0)}async function Dl(n){for(const e of n.Aa)await e(!1)}function lw(n,e){const t=Oe(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Bp(t)?jp(t):Xo(t).N_()&&Up(t,e))}function Fp(n,e){const t=Oe(n),i=Xo(t);t.Ea.delete(e),i.N_()&&uw(t,e),t.Ea.size===0&&(i.N_()?i.k_():xs(t)&&t.Va.set("Unknown"))}function Up(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xo(n).Z_(e)}function uw(n,e){n.ma.Ke(e),Xo(n).X_(e)}function jp(n){n.ma=new Sk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Xo(n).start(),n.Va.ca()}function Bp(n){return xs(n)&&!Xo(n).O_()&&n.Ea.size>0}function xs(n){return Oe(n).da.size===0}function cw(n){n.ma=void 0}async function ON(n){n.Va.set("Online")}async function xN(n){n.Ea.forEach((e,t)=>{Up(n,e)})}async function bN(n,e){cw(n),Bp(n)?(n.Va.Pa(e),jp(n)):n.Va.set("Unknown")}async function DN(n,e,t){if(n.Va.set("Online"),e instanceof G0&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const f of a.targetIds)o.Ea.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ea.delete(f),o.ma.removeTarget(f))}(n,e)}catch(i){de(Is,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Bc(n,i)}else if(e instanceof gc?n.ma.Xe(e):e instanceof K0?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Ne.min()))try{const i=await sw(n.localStore);t.compareTo(i)>=0&&await function(a,c){const f=a.ma.It(c);return f.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.Ea.get(g);_&&a.Ea.set(g,_.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,g)=>{const _=a.Ea.get(p);if(!_)return;a.Ea.set(p,_.withResumeToken(Vt.EMPTY_BYTE_STRING,_.snapshotVersion)),uw(a,p);const E=new wi(_.target,p,g,_.sequenceNumber);Up(a,E)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){de(Is,"Failed to raise snapshot:",i),await Bc(n,i)}}async function Bc(n,e,t){if(!Yo(e))throw e;n.da.add(1),await Dl(n),n.Va.set("Offline"),t||(t=()=>sw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(Is,"Retrying IndexedDB access"),await t(),n.da.delete(1),await lh(n)})}function hw(n,e){return e().catch(t=>Bc(n,t,e))}async function uh(n){const e=Oe(n),t=Di(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Sp;for(;VN(e);)try{const o=await gN(e.localStore,i);if(o===null){e.Ia.length===0&&t.k_();break}i=o.batchId,LN(e,o)}catch(o){await Bc(e,o)}fw(e)&&dw(e)}function VN(n){return xs(n)&&n.Ia.length<10}function LN(n,e){n.Ia.push(e);const t=Di(n);t.N_()&&t.ea&&t.ta(e.mutations)}function fw(n){return xs(n)&&!Di(n).O_()&&n.Ia.length>0}function dw(n){Di(n).start()}async function MN(n){Di(n).ia()}async function FN(n){const e=Di(n);for(const t of n.Ia)e.ta(t.mutations)}async function UN(n,e,t){const i=n.Ia.shift(),o=Op.from(i,e,t);await hw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await uh(n)}async function jN(n,e){e&&Di(n).ea&&await async function(i,o){if(function(c){return Tk(c)&&c!==X.ABORTED}(o.code)){const a=i.Ia.shift();Di(i).L_(),await hw(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await uh(i)}}(n,e),fw(n)&&dw(n)}async function p_(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),de(Is,"RemoteStore received new credentials");const i=xs(t);t.da.add(3),await Dl(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await lh(t)}async function BN(n,e){const t=Oe(n);e?(t.da.delete(2),await lh(t)):e||(t.da.add(2),await Dl(t),t.Va.set("Unknown"))}function Xo(n){return n.fa||(n.fa=function(t,i,o){const a=Oe(t);return a.oa(),new AN(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{e_:ON.bind(null,n),n_:xN.bind(null,n),i_:bN.bind(null,n),Y_:DN.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Bp(n)?jp(n):n.Va.set("Unknown")):(await n.fa.stop(),cw(n))})),n.fa}function Di(n){return n.ga||(n.ga=function(t,i,o){const a=Oe(t);return a.oa(),new RN(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:MN.bind(null,n),i_:jN.bind(null,n),na:FN.bind(null,n),ra:UN.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await uh(n)):(await n.ga.stop(),n.Ia.length>0&&(de(Is,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,f=new zp(e,t,c,o,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(n,e){if(Br("AsyncQueue",`${e}: ${n}`),Yo(n))return new me(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ee.comparator(t.key,i.key):(t,i)=>Ee.comparator(t.key,i.key),this.keyedMap=Ja(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Mo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.pa=new st(Ee.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Re(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Wo{constructor(e,t,i,o,a,c,f,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Wo(e,t,Mo.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class $N{constructor(){this.queries=g_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Oe(t),a=o.queries;o.queries=g_(),a.forEach((c,f)=>{for(const p of f.Sa)p.onError(i)})})(this,new me(X.ABORTED,"Firestore shutting down"))}}function g_(){return new Ns(n=>b0(n),nh)}async function pw(n,e){const t=Oe(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Da()&&e.va()&&(i=2):(a=new zN,i=e.va()?0:1);try{switch(i){case 0:a.ba=await t.onListen(o,!0);break;case 1:a.ba=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=$p(c,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&Wp(t)}async function mw(n,e){const t=Oe(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.va()?0:1:!a.Da()&&e.va()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function WN(n,e){const t=Oe(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const f of c.Sa)f.Ma(o)&&(i=!0);c.ba=o}}i&&Wp(t)}function HN(n,e,t){const i=Oe(n),o=i.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);i.queries.delete(e)}function Wp(n){n.Ca.forEach(e=>{e.next()})}var Qd,y_;(y_=Qd||(Qd={})).xa="default",y_.Cache="cache";class gw{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Wo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.key=e}}class vw{constructor(e){this.key=e}}class qN{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.Za=D0(e),this.Xa=new Mo(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new m_,o=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,E)=>{const I=o.get(_),k=rh(this.query,E)?E:null,D=!!I&&this.mutatedKeys.has(I.key),O=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let A=!1;I&&k?I.data.isEqual(k.data)?D!==O&&(i.track({type:3,doc:k}),A=!0):this.ru(I,k)||(i.track({type:2,doc:k}),A=!0,(p&&this.Za(k,p)>0||g&&this.Za(k,g)<0)&&(f=!0)):!I&&k?(i.track({type:0,doc:k}),A=!0):I&&!k&&(i.track({type:1,doc:I}),A=!0,(p||g)&&(f=!0)),A&&(k?(c=c.add(k),a=O?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{Xa:c,nu:i,Cs:f,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((_,E)=>function(k,D){const O=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:A})}};return O(k)-O(D)}(_.type,E.type)||this.Za(_.doc,E.doc)),this.iu(i),o=o!=null&&o;const f=t&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,c.length!==0||g?{snapshot:new Wo(this.query,e.Xa,a,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new m_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new vw(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new yw(i))}),t}au(e){this.Ha=e.$s,this.Ya=Me();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Wo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Hp="SyncEngine";class KN{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class GN{constructor(e){this.key=e,this.cu=!1}}class QN{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Ns(f=>b0(f),nh),this.Pu=new Map,this.Tu=new Set,this.Iu=new st(Ee.comparator),this.Eu=new Map,this.du=new Dp,this.Au={},this.Ru=new Map,this.Vu=$o.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function YN(n,e,t=!0){const i=Sw(n);let o;const a=i.hu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.uu()):o=await _w(i,e,t,!0),o}async function XN(n,e){const t=Sw(n);await _w(t,e,!0,!1)}async function _w(n,e,t,i){const o=await yN(n.localStore,ur(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let f;return i&&(f=await JN(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&lw(n.remoteStore,o),f}async function JN(n,e,t,i,o){n.fu=(E,I,k)=>async function(O,A,Q,H){let q=A.view.tu(Q);q.Cs&&(q=await u_(O.localStore,A.query,!1).then(({documents:N})=>A.view.tu(N,q)));const ne=H&&H.targetChanges.get(A.targetId),K=H&&H.targetMismatches.get(A.targetId)!=null,ce=A.view.applyChanges(q,O.isPrimaryClient,ne,K);return __(O,A.targetId,ce.ou),ce.snapshot}(n,E,I,k);const a=await u_(n.localStore,e,!0),c=new qN(e,a.$s),f=c.tu(a.documents),p=bl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),g=c.applyChanges(f,n.isPrimaryClient,p);__(n,t,g.ou);const _=new KN(e,t,c);return n.hu.set(e,_),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),g.snapshot}async function ZN(n,e,t){const i=Oe(n),o=i.hu.get(e),a=i.Pu.get(o.targetId);if(a.length>1)return i.Pu.set(o.targetId,a.filter(c=>!nh(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Kd(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Fp(i.remoteStore,o.targetId),Yd(i,o.targetId)}).catch(Qo)):(Yd(i,o.targetId),await Kd(i.localStore,o.targetId,!0))}async function eO(n,e){const t=Oe(n),i=t.hu.get(e),o=t.Pu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Fp(t.remoteStore,i.targetId))}async function tO(n,e,t){const i=lO(n);try{const o=await function(c,f){const p=Oe(c),g=Et.now(),_=f.reduce((k,D)=>k.add(D.key),Me());let E,I;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let D=zr(),O=Me();return p.Bs.getEntries(k,_).next(A=>{D=A,D.forEach((Q,H)=>{H.isValidDocument()||(O=O.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,D)).next(A=>{E=A;const Q=[];for(const H of f){const q=yk(H,E.get(H.key).overlayedDocument);q!=null&&Q.push(new Os(H.key,q,A0(q.value.mapValue),cr.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,Q,f)}).next(A=>{I=A;const Q=A.applyToLocalDocumentSet(E,O);return p.documentOverlayCache.saveOverlays(k,A.batchId,Q)})}).then(()=>({batchId:I.batchId,changes:L0(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,f,p){let g=c.Au[c.currentUser.toKey()];g||(g=new st(xe)),g=g.insert(f,p),c.Au[c.currentUser.toKey()]=g}(i,o.batchId,t),await Vl(i,o.changes),await uh(i.remoteStore)}catch(o){const a=$p(o,"Failed to persist write");t.reject(a)}}async function Ew(n,e){const t=Oe(n);try{const i=await pN(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Eu.get(a);c&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.cu=!0:o.modifiedDocuments.size>0?He(c.cu,14607):o.removedDocuments.size>0&&(He(c.cu,42227),c.cu=!1))}),await Vl(t,i,e)}catch(i){await Qo(i)}}function v_(n,e,t){const i=Oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.hu.forEach((a,c)=>{const f=c.view.Fa(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const p=Oe(c);p.onlineState=f;let g=!1;p.queries.forEach((_,E)=>{for(const I of E.Sa)I.Fa(f)&&(g=!0)}),g&&Wp(p)}(i.eventManager,e),o.length&&i.lu.Y_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function nO(n,e,t){const i=Oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Eu.get(e),a=o&&o.key;if(a){let c=new st(Ee.comparator);c=c.insert(a,zt.newNoDocument(a,Ne.min()));const f=Me().add(a),p=new oh(Ne.min(),new Map,new st(xe),c,f);await Ew(i,p),i.Iu=i.Iu.remove(a),i.Eu.delete(e),qp(i)}else await Kd(i.localStore,e,!1).then(()=>Yd(i,e,t)).catch(Qo)}async function rO(n,e){const t=Oe(n),i=e.batch.batchId;try{const o=await dN(t.localStore,e);Tw(t,i,null),ww(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Vl(t,o)}catch(o){await Qo(o)}}async function iO(n,e,t){const i=Oe(n);try{const o=await function(c,f){const p=Oe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,f).next(E=>(He(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(i.localStore,e);Tw(i,e,t),ww(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Vl(i,o)}catch(o){await Qo(o)}}function ww(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function Tw(n,e,t){const i=Oe(n);let o=i.Au[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Au[i.currentUser.toKey()]=o}}function Yd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||Iw(n,i)})}function Iw(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Fp(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),qp(n))}function __(n,e,t){for(const i of t)i instanceof yw?(n.du.addReference(i.key,e),sO(n,i)):i instanceof vw?(de(Hp,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||Iw(n,i.key)):Re(19791,{pu:i})}function sO(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(de(Hp,"New document in limbo: "+t),n.Tu.add(i),qp(n))}function qp(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Ee(Ze.fromString(e)),i=n.Vu.next();n.Eu.set(i,new GN(t)),n.Iu=n.Iu.insert(t,i),lw(n.remoteStore,new wi(ur(kp(t.path)),i,"TargetPurposeLimboResolution",Zc.le))}}async function Vl(n,e,t){const i=Oe(n),o=[],a=[],c=[];i.hu.isEmpty()||(i.hu.forEach((f,p)=>{c.push(i.fu(p,e,t).then(g=>{var _;if((g||t)&&i.isPrimaryClient){const E=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Lp.Rs(p.targetId,g);a.push(E)}}))}),await Promise.all(c),i.lu.Y_(o),await async function(p,g){const _=Oe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Y.forEach(g,I=>Y.forEach(I.ds,k=>_.persistence.referenceDelegate.addReference(E,I.targetId,k)).next(()=>Y.forEach(I.As,k=>_.persistence.referenceDelegate.removeReference(E,I.targetId,k)))))}catch(E){if(!Yo(E))throw E;de(Mp,"Failed to update sequence numbers: "+E)}for(const E of g){const I=E.targetId;if(!E.fromCache){const k=_.xs.get(I),D=k.snapshotVersion,O=k.withLastLimboFreeSnapshotVersion(D);_.xs=_.xs.insert(I,O)}}}(i.localStore,a))}async function oO(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){de(Hp,"User change. New user:",e.toKey());const i=await iw(t.localStore,e);t.currentUser=e,function(a,c){a.Ru.forEach(f=>{f.forEach(p=>{p.reject(new me(X.CANCELLED,c))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Vl(t,i.ks)}}function aO(n,e){const t=Oe(n),i=t.Eu.get(e);if(i&&i.cu)return Me().add(i.key);{let o=Me();const a=t.Pu.get(e);if(!a)return o;for(const c of a){const f=t.hu.get(c);o=o.unionWith(f.view.eu)}return o}}function Sw(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ew.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nO.bind(null,e),e.lu.Y_=WN.bind(null,e.eventManager),e.lu.gu=HN.bind(null,e.eventManager),e}function lO(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iO.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ah(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return fN(this.persistence,new uN,e.initialUser,this.serializer)}Su(e){return new rw(Vp.fi,this.serializer)}bu(e){return new _N}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class uO extends zc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){He(this.persistence.referenceDelegate instanceof jc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Gk(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new rw(i=>jc.fi(i,t),this.serializer)}}class Xd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>v_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=oO.bind(null,this.syncEngine),await BN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $N}()}createDatastore(e){const t=ah(e.databaseInfo.databaseId),i=function(a){return new SN(a)}(e.databaseInfo);return function(a,c,f,p){return new CN(a,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,f){return new NN(i,o,a,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>v_(this.syncEngine,t,0),function(){return f_.C()?new f_:new EN}())}createSyncEngine(e,t){return function(o,a,c,f,p,g,_){const E=new QN(o,a,c,f,p,g);return _&&(E.mu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Oe(o);de(Is,"RemoteStore shutting down."),a.da.add(5),await Dl(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Xd.provider={build:()=>new Xd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="FirestoreClient";class cO{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Bt.UNAUTHENTICATED,this.clientId=m0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{de(Vi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(de(Vi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=$p(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function gd(n,e){n.asyncQueue.verifyOperationInProgress(),de(Vi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await iw(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function E_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await hO(n);de(Vi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>p_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>p_(e.remoteStore,o)),n._onlineComponents=e}async function hO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Vi,"Using user provided OfflineComponentProvider");try{await gd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),await gd(n,new zc)}}else de(Vi,"Using default OfflineComponentProvider"),await gd(n,new uO(void 0));return n._offlineComponents}async function Rw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Vi,"Using user provided OnlineComponentProvider"),await E_(n,n._uninitializedComponentsProvider._online)):(de(Vi,"Using default OnlineComponentProvider"),await E_(n,new Xd))),n._onlineComponents}function fO(n){return Rw(n).then(e=>e.syncEngine)}async function Pw(n){const e=await Rw(n),t=e.eventManager;return t.onListen=YN.bind(null,e.syncEngine),t.onUnlisten=ZN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=XN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=eO.bind(null,e.syncEngine),t}function dO(n,e,t={}){const i=new Mr;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,f,p,g){const _=new Aw({next:I=>{_.xu(),c.enqueueAndForget(()=>mw(a,E));const k=I.docs.has(f);!k&&I.fromCache?g.reject(new me(X.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&I.fromCache&&p&&p.source==="server"?g.reject(new me(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),E=new gw(kp(f.path),_,{includeMetadataChanges:!0,Qa:!0});return pw(a,E)}(await Pw(n),n.asyncQueue,e,t,i)),i.promise}function pO(n,e,t={}){const i=new Mr;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,f,p,g){const _=new Aw({next:I=>{_.xu(),c.enqueueAndForget(()=>mw(a,E)),I.fromCache&&p.source==="server"?g.reject(new me(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),E=new gw(f,_,{includeMetadataChanges:!0,Qa:!0});return pw(a,E)}(await Pw(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(n,e,t){if(!t)throw new me(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mO(n,e,t,i){if(e===!0&&i===!0)throw new me(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function T_(n){if(!Ee.isDocumentKey(n))throw new me(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function I_(n){if(Ee.isDocumentKey(n))throw new me(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ch(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function Li(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ch(n);throw new me(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="firestore.googleapis.com",S_=!0;class A_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new me(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nw,this.ssl=S_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:S_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qk)throw new me(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new IC;switch(i.type){case"firstParty":return new PC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=w_.get(t);i&&(de("ComponentProvider","Removing Datastore"),w_.delete(t),i.terminate())}(this),Promise.resolve()}}function gO(n,e,t,i={}){var o;n=Li(n,hh);const a=Rs(e),c=n._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;a&&(up(`https://${p}`),cp("Firestore",!0)),c.host!==Nw&&c.host!==p&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:a,emulatorOptions:i});if(!vs(g,f)&&(n._setSettings(g),i.mockUserToken)){let _,E;if(typeof i.mockUserToken=="string")_=i.mockUserToken,E=Bt.MOCK_USER;else{_=EE(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const I=i.mockUserToken.sub||i.mockUserToken.user_id;if(!I)throw new me(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Bt(I)}n._authCredentials=new SC(new d0(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class sn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class Pi extends Jo{constructor(e,t,i){super(e,t,kp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Ee(e))}withConverter(e){return new Pi(this.firestore,e,this._path)}}function Tx(n,e,...t){if(n=Gt(n),kw("collection","path",e),n instanceof hh){const i=Ze.fromString(e,...t);return I_(i),new Pi(n,null,i)}{if(!(n instanceof sn||n instanceof Pi))throw new me(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ze.fromString(e,...t));return I_(i),new Pi(n.firestore,null,i)}}function Ow(n,e,...t){if(n=Gt(n),arguments.length===1&&(e=m0.newId()),kw("doc","path",e),n instanceof hh){const i=Ze.fromString(e,...t);return T_(i),new sn(n,null,new Ee(i))}{if(!(n instanceof sn||n instanceof Pi))throw new me(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ze.fromString(e,...t));return T_(i),new sn(n.firestore,n instanceof Pi?n.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="AsyncQueue";class P_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new ow(this,"async_queue_retry"),this.rc=()=>{const i=md();i&&de(R_,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=md();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=md();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Mr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Yo(e))throw e;de(R_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Br("INTERNAL UNHANDLED ERROR: ",C_(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const o=zp.createAndSchedule(this,e,t,i,a=>this.uc(a));return this.Zu.push(o),o}oc(){this.Xu&&Re(47125,{cc:C_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function C_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ll extends hh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new P_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P_(e),this._firestoreClient=void 0,await e}}}function yO(n,e){const t=typeof n=="object"?n:dp(),i=typeof n=="string"?n:bc,o=Qc(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=yE("firestore");a&&gO(o,...a)}return o}function Kp(n){if(n._terminated)throw new me(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vO(n),n._firestoreClient}function vO(n){var e,t,i;const o=n._freezeSettings(),a=function(f,p,g,_){return new zC(f,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Cw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new cO(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(Vt.fromBase64String(e))}catch(t){throw new me(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ho(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=/^__.*__$/;class EO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,t,this.fieldTransforms):new xl(e,this.data,t,this.fieldTransforms)}}function bw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ic:n})}}class Xp{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Xp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:i,Rc:!1});return o.Vc(e),o}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:i,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return $c(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(bw(this.Ic)&&_O.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class wO{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ah(e)}bc(e,t,i,o=!1){return new Xp({Ic:e,methodName:t,wc:i,path:Dt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jp(n){const e=n._freezeSettings(),t=ah(n._databaseId);return new wO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Dw(n,e,t,i,o,a={}){const c=n.bc(a.merge||a.mergeFields?2:0,e,t,o);Mw("Data must be an object, but it was:",c,i);const f=Vw(i,c);let p,g;if(a.merge)p=new $n(c.fieldMask),g=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const I=IO(e,E,t);if(!c.contains(I))throw new me(X.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);AO(_,I)||_.push(I)}p=new $n(_),g=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=c.fieldTransforms;return new EO(new An(f),p,g)}function TO(n,e,t,i=!1){return Zp(t,n.bc(i?4:3,e))}function Zp(n,e){if(Lw(n=Gt(n)))return Mw("Unsupported field value:",e,n),Vw(n,e);if(n instanceof xw)return function(i,o){if(!bw(o.Ic))throw o.gc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const f of i){let p=Zp(f,o.fc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=Gt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return hk(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Et.fromDate(i);return{timestampValue:Uc(o.serializer,a)}}if(i instanceof Et){const a=new Et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Uc(o.serializer,a)}}if(i instanceof Qp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ho)return{bytesValue:Q0(o.serializer,i._byteString)};if(i instanceof sn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:bp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Yp)return function(c,f){return{mapValue:{fields:{[I0]:{stringValue:S0},[Dc]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw f.gc("VectorValues must only contain numeric values.");return Np(f.serializer,g)})}}}}}}(i,o);throw o.gc(`Unsupported field value: ${ch(i)}`)}(n,e)}function Vw(n,e){const t={};return y0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(n,(i,o)=>{const a=Zp(o,e.Ac(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function Lw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Et||n instanceof Qp||n instanceof Ho||n instanceof sn||n instanceof xw||n instanceof Yp)}function Mw(n,e,t){if(!Lw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=ch(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function IO(n,e,t){if((e=Gt(e))instanceof Gp)return e._internalPath;if(typeof e=="string")return Fw(n,e);throw $c("Field path arguments must be of type string or ",n,!1,void 0,t)}const SO=new RegExp("[~\\*/\\[\\]]");function Fw(n,e,t){if(e.search(SO)>=0)throw $c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gp(...e.split("."))._internalPath}catch{throw $c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $c(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new me(X.INVALID_ARGUMENT,f+n+p)}function AO(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(em("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class RO extends Uw{data(){return super.data()}}function em(n,e){return typeof e=="string"?Fw(n,e):e instanceof Gp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tm{}class CO extends tm{}function Ix(n,e,...t){let i=[];e instanceof tm&&i.push(e),i=i.concat(t),function(a){const c=a.filter(p=>p instanceof nm).length,f=a.filter(p=>p instanceof fh).length;if(c>1||c>0&&f>0)throw new me(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class fh extends CO{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new fh(e,t,i)}_apply(e){const t=this._parse(e);return jw(e._query,t),new Jo(e.firestore,e.converter,Bd(e._query,t))}_parse(e){const t=Jp(e.firestore);return function(a,c,f,p,g,_,E){let I;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new me(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){N_(E,_);const D=[];for(const O of E)D.push(k_(p,a,O));I={arrayValue:{values:D}}}else I=k_(p,a,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||N_(E,_),I=TO(f,c,E,_==="in"||_==="not-in");return dt.create(g,_,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Sx(n,e,t){const i=e,o=em("where",n);return fh._create(o,i,t)}class nm extends tm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new nm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let c=o;const f=a.getFlattenedFilters();for(const p of f)jw(c,p),c=Bd(c,p)}(e._query,t),new Jo(e.firestore,e.converter,Bd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function k_(n,e,t){if(typeof(t=Gt(t))=="string"){if(t==="")throw new me(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x0(e)&&t.indexOf("/")!==-1)throw new me(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ze.fromString(t));if(!Ee.isDocumentKey(i))throw new me(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Wv(n,new Ee(i))}if(t instanceof sn)return Wv(n,t._key);throw new me(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(t)}.`)}function N_(n,e){if(!Array.isArray(n)||n.length===0)throw new me(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jw(n,e){const t=function(o,a){for(const c of o)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class kO{convertValue(e,t="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ks(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Dc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>ut(c.doubleValue));return new Yp(a)}convertGeoPoint(e){return new Qp(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=th(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const t=Oi(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ze.fromString(e);He(tw(i),9688,{name:e});const o=new vl(i.get(1),i.get(3)),a=new Ee(i.popFirst(5));return o.isEqual(t)||Br(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zw extends Uw{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(em("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class yc extends zw{data(e={}){return super.data(e)}}class NO{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new el(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new yc(this._firestore,this._userDataWriter,i.key,i,new el(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const p=new yc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new el(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const p=new yc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new el(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:OO(f.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function OO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(n){n=Li(n,sn);const e=Li(n.firestore,Ll);return dO(Kp(e),n._key).then(t=>bO(e,n,t))}class $w extends kO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,t)}}function Ax(n){n=Li(n,Jo);const e=Li(n.firestore,Ll),t=Kp(e),i=new $w(e);return PO(n._query),pO(t,n._query).then(o=>new NO(e,i,n,o))}function Rx(n,e,t){n=Li(n,sn);const i=Li(n.firestore,Ll),o=Bw(n.converter,e);return Ww(i,[Dw(Jp(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,cr.none())])}function Px(n,e){const t=Li(n.firestore,Ll),i=Ow(n),o=Bw(n.converter,e);return Ww(t,[Dw(Jp(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,cr.exists(!1))]).then(()=>i)}function Ww(n,e){return function(i,o){const a=new Mr;return i.asyncQueue.enqueueAndForget(async()=>tO(await fO(i),o,a)),a.promise}(Kp(n),e)}function bO(n,e,t){const i=t.docs.get(e._key),o=new $w(n);return new zw(n,o,e._key,i,new el(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Go=o})(Ps),_s(new ki("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),f=new Ll(new AC(i.getProvider("auth-internal")),new CC(c,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(g.options.projectId,_)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),or(xv,bv,e),or(xv,bv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="firebasestorage.googleapis.com",DO="storageBucket",VO=2*60*1e3,LO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends pr{constructor(e,t,i=0){super(yd(e),`Firebase Storage: ${t} (${yd(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dr||(dr={}));function yd(n){return"storage/"+n}function MO(){const n="An unknown error occurred, please check the error payload for server response.";return new mr(dr.UNKNOWN,n)}function FO(){return new mr(dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UO(){return new mr(dr.CANCELED,"User canceled the upload/download.")}function jO(n){return new mr(dr.INVALID_URL,"Invalid URL '"+n+"'.")}function BO(n){return new mr(dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function O_(n){return new mr(dr.INVALID_ARGUMENT,n)}function qw(){return new mr(dr.APP_DELETED,"The Firebase app was deleted.")}function zO(n){return new mr(dr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Wn.makeFromUrl(e,t)}catch{return new Wn(e,"")}if(i.path==="")return i;throw BO(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(ne){ne.path_=decodeURIComponent(ne.path)}const _="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",k=new RegExp(`^https?://${E}/${_}/b/${o}/o${I}`,"i"),D={bucket:1,path:3},O=t===Hw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,A="([^?#]*)",Q=new RegExp(`^https?://${O}/${o}/${A}`,"i"),q=[{regex:f,indices:p,postModify:a},{regex:k,indices:D,postModify:g},{regex:Q,indices:{bucket:1,path:2},postModify:g}];for(let ne=0;ne<q.length;ne++){const K=q[ne],ce=K.regex.exec(e);if(ce){const N=ce[K.indices.bucket];let R=ce[K.indices.path];R||(R=""),i=new Wn(N,R),K.postModify(i);break}}if(i==null)throw jO(e);return i}}class $O{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(n,e,t){let i=1,o=null,a=null,c=!1,f=0;function p(){return f===2}let g=!1;function _(...A){g||(g=!0,e.apply(null,A))}function E(A){o=setTimeout(()=>{o=null,n(k,p())},A)}function I(){a&&clearTimeout(a)}function k(A,...Q){if(g){I();return}if(A){I(),_.call(null,A,...Q);return}if(p()||c){I(),_.call(null,A,...Q);return}i<64&&(i*=2);let q;f===1?(f=2,q=0):q=(i+Math.random())*1e3,E(q)}let D=!1;function O(A){D||(D=!0,I(),!g&&(o!==null?(A||(f=2),clearTimeout(o),E(0)):A||(f=1)))}return E(0),a=setTimeout(()=>{c=!0,O(!0)},t),O}function HO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(n){return n!==void 0}function x_(n,e,t,i){if(i<e)throw O_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw O_(`Invalid value for '${n}'. Expected ${t} or less.`)}function KO(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Wc;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Wc||(Wc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,t,i,o,a,c,f,p,g,_,E,I=!0,k=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=E,this.retry=I,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,O)=>{this.resolve_=D,this.reject_=O,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new oc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=f=>{const p=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const f=a.getErrorCode()===Wc.NO_ERROR,p=a.getStatus();if(!f||GO(p,this.additionalRetryCodes_)&&this.retry){const _=a.getErrorCode()===Wc.ABORT;i(!1,new oc(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;i(!0,new oc(g,a))})},t=(i,o)=>{const a=this.resolve_,c=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());qO(p)?a(p):a()}catch(p){c(p)}else if(f!==null){const p=MO();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(o.canceled){const p=this.appDelete_?qw():UO();c(p)}else{const p=FO();c(p)}};this.canceled_?t(!1,new oc(!1,null,!0)):this.backoffId_=WO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class oc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function YO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function XO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function ZO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function ex(n,e,t,i,o,a,c=!0,f=!1){const p=KO(n.urlParams),g=n.url+p,_=Object.assign({},n.headers);return JO(_,e),YO(_,t),XO(_,a),ZO(_,i),new QO(g,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function nx(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t){this._service=e,t instanceof Wn?this._location=t:this._location=Wn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Hc(e,t)}get root(){const e=new Wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nx(this._location.path)}get storage(){return this._service}get parent(){const e=tx(this._location.path);if(e===null)return null;const t=new Wn(this._location.bucket,e);return new Hc(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw zO(e)}}function b_(n,e){const t=e==null?void 0:e[DO];return t==null?null:Wn.makeFromBucketSpec(t,n)}function rx(n,e,t,i={}){n.host=`${e}:${t}`;const o=Rs(e);o&&(up(`https://${n.host}/b`),cp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:EE(a,n.app.options.projectId))}class ix{constructor(e,t,i,o,a,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=Hw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VO,this._maxUploadRetryTime=LO,this._requests=new Set,o!=null?this._bucket=Wn.makeFromBucketSpec(o,this._host):this._bucket=b_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,e):this._bucket=b_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){x_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){x_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hc(this,e)}_makeRequest(e,t,i,o,a=!0){if(this._deleted)return new $O(qw());{const c=ex(e,this._appId,i,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const D_="@firebase/storage",V_="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="storage";function sx(n=dp(),e){n=Gt(n);const i=Qc(n,Kw).getImmediate({identifier:e}),o=yE("storage");return o&&ox(i,...o),i}function ox(n,e,t,i={}){rx(n,e,t,i)}function ax(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new ix(t,i,o,e,Ps)}function lx(){_s(new ki(Kw,ax,"PUBLIC").setMultipleInstances(!0)),or(D_,V_,""),or(D_,V_,"esm2017")}lx();const ux={apiKey:"AIzaSyDgA76WHz1JzwEc1YeazhKTUxqxHzhcP2c",authDomain:"session-logger-3619e.firebaseapp.com",projectId:"session-logger-3619e",storageBucket:"session-logger-3619e.firebasestorage.app",messagingSenderId:"936476651752",appId:"1:936476651752:web:7048bd9fcc902dc816595d",measurementId:"G-B6K0DDSVTH"},rm=IE(ux),cx=_C(rm),hx=yO(rm);sx(rm);var tl={exports:{}};/*! mobile-drag-drop 3.0.0-rc.0 | Copyright (c) 2022 Tim Ruffles | MIT License */var fx=tl.exports,L_;function dx(){return L_||(L_=1,function(n,e){(function(t,i){i(e)})(fx,function(t){var i="dnd-poly-",o=["none","copy","copyLink","copyMove","link","linkMove","move","all"],a=["none","copy","move","link"];function c(){var T=!1;try{var J=Object.defineProperty({},"passive",{get:function(){T=!0}});window.addEventListener("test",null,J)}catch{}return T}var f=c();function p(T){return T&&T.tagName}function g(T,J,le){document.addEventListener(T,J,!!f&&{passive:le})}function _(T,J){document.removeEventListener(T,J)}function E(T,J,le,fe){fe===void 0&&(fe=!1);var ae=f?{passive:!0,capture:fe}:fe;return T.addEventListener(J,le,ae),{off:function(){T.removeEventListener(J,le,ae)}}}function I(T){return T.length===0?0:T.reduce(function(J,le){return le+J},0)/T.length}function k(T,J){for(var le=0;le<T.changedTouches.length;le++)if(T.changedTouches[le].identifier===J)return!0;return!1}function D(T,J,le){for(var fe=[],ae=[],G=0;G<J.touches.length;G++){var se=J.touches[G];fe.push(se[T+"X"]),ae.push(se[T+"Y"])}le.x=I(fe),le.y=I(ae)}var O=["","-webkit-"];function A(T,se,le,fe,ae){var G=se.x,se=se.y;fe&&(G+=fe.x,se+=fe.y),(ae=ae===void 0||ae)&&(G-=parseInt(T.offsetWidth,10)/2,se-=parseInt(T.offsetHeight,10)/2);for(var re="translate3d("+G+"px,"+se+"px, 0)",V=0;V<O.length;V++){var W=O[V]+"transform";T.style[W]=re+" "+le[V]}}var Q=(Object.defineProperty(H.prototype,"dropEffect",{get:function(){return this.t},set:function(T){this.i.mode!==0&&-1<o.indexOf(T)&&(this.t=T)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"types",{get:function(){if(this.i.mode!==0)return Object.freeze(this.i.types)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"effectAllowed",{get:function(){return this.i.effectAllowed},set:function(T){this.i.mode===2&&-1<o.indexOf(T)&&(this.i.effectAllowed=T)},enumerable:!1,configurable:!0}),H.prototype.setData=function(T,J){if(this.i.mode===2){if(-1<T.indexOf(" "))throw new Error("illegal arg: type contains space");this.i.data[T]=J,this.i.types.indexOf(T)===-1&&this.i.types.push(T)}},H.prototype.getData=function(T){if(this.i.mode===1||this.i.mode===2)return this.i.data[T]||""},H.prototype.clearData=function(T){this.i.mode===2&&(T&&this.i.data[T]?(delete this.i.data[T],-1<(T=this.i.types.indexOf(T))&&this.i.types.splice(T,1)):(this.i.data={},this.i.types=[]))},H.prototype.setDragImage=function(T,J,le){this.i.mode===2&&this.h(T,J,le)},H);function H(T,J){this.i=T,this.h=J,this.t=a[0]}function q(T,J){return T?T===o[0]?a[0]:T.indexOf(o[1])===0||T===o[7]?a[1]:T.indexOf(o[4])===0?a[3]:T===o[6]?a[2]:a[1]:J.nodeType===3&&J.tagName==="A"?a[3]:a[1]}function ne(T,J,le,fe,ae,G,se){return se===void 0&&(se=null),ae=function(re,V,W,Ce,Ie,Pe,Ve){se===void 0&&(Ve=null);var be=le.changedTouches[0],Ce=new Event(T,{bubbles:!0,cancelable:Ce});return Ce.dataTransfer=Pe,Ce.relatedTarget=Ve,Ce.screenX=be.screenX,Ce.screenY=be.screenY,Ce.clientX=be.clientX,Ce.clientY=be.clientY,Ce.pageX=be.pageX,Ce.pageY=be.pageY,re=re.getBoundingClientRect(),Ce.offsetX=Ce.clientX-re.left,Ce.offsetY=Ce.clientY-re.top,Ce}(J,0,0,G=G===void 0||G,document.defaultView,ae,se),ae=!J.dispatchEvent(ae),fe.mode=0,ae}function K(T,J){if(!T||T===o[7])return J;if(J===a[1]){if(T.indexOf(a[1])===0)return a[1]}else if(J===a[3]){if(T.indexOf(a[3])===0||-1<T.indexOf("Link"))return a[3]}else if(J===a[2]&&(T.indexOf(a[2])===0||-1<T.indexOf("Move")))return a[2];return a[0]}var ce=(N.prototype.o=function(){var T=this;this.u=1,this.l=a[0],this.v={data:{},effectAllowed:void 0,mode:3,types:[]},this.p={x:null,y:null},this.g={x:null,y:null};var J=this.m;if(this.I=new Q(this.v,function(G,se,re){J=G,typeof se!="number"&&typeof re!="number"||(T.j={x:se||0,y:re||0})}),this.v.mode=2,this.I.dropEffect=a[0],ne("dragstart",this.m,this.k,this.v,this.I))return this.u=3,this.C(),!1;D("page",this.k,this.g);var le,fe,ae=this.S.dragImageSetup(J);return this.A=(le=ae,O.map(function(G){return G=le.style[G+"transform"],G&&G!=="none"?G.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),ae.style.position="absolute",ae.style.left="0px",ae.style.top="0px",ae.style.zIndex="999999",ae.classList.add("dnd-poly-drag-image"),ae.classList.add("dnd-poly-icon"),this.O=ae,this.j||(this.S.dragImageOffset?this.j={x:this.S.dragImageOffset.x,y:this.S.dragImageOffset.y}:this.S.dragImageCenterOnTouch?(fe=getComputedStyle(J),this.j={x:0-parseInt(fe.marginLeft,10),y:0-parseInt(fe.marginTop,10)}):(ae=J.getBoundingClientRect(),fe=getComputedStyle(J),this.j={x:ae.left-this.M.clientX-parseInt(fe.marginLeft,10)+ae.width/2,y:ae.top-this.M.clientY-parseInt(fe.marginTop,10)+ae.height/2})),A(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch),document.body.appendChild(this.O),this.D=window.setInterval(function(){T.F||(T.F=!0,T.N(),T.F=!1)},this.S.iterationInterval),!0},N.prototype.C=function(){this.D&&(clearInterval(this.D),this.D=null),_("touchmove",this.P),_("touchend",this.T),_("touchcancel",this.T),this.O&&(this.O.parentNode.removeChild(this.O),this.O=null),this.L(this.S,this.k,this.u)},N.prototype._=function(T){var J=this;if(k(T,this.M.identifier)!==!1){if(this.k=T,this.u===0){var le=void 0;if(this.S.dragStartConditionOverride)try{le=this.S.dragStartConditionOverride(T)}catch{le=!1}else le=T.touches.length===1;return le?void(this.o()===!0&&(this.H.preventDefault(),T.preventDefault())):void this.C()}if(T.preventDefault(),D("client",T,this.p),D("page",T,this.g),this.S.dragImageTranslateOverride)try{var fe=!1;if(this.S.dragImageTranslateOverride(T,{x:this.p.x,y:this.p.y},this.V,function(ae,G){J.O&&(fe=!0,J.p.x+=ae,J.p.y+=G,J.g.x+=ae,J.g.y+=G,A(J.O,J.g,J.A,J.j,J.S.dragImageCenterOnTouch))}),fe)return}catch{}A(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch)}},N.prototype.X=function(T){if(k(T,this.M.identifier)!==!1){if(this.S.dragImageTranslateOverride)try{this.S.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch{}this.u!==0?(T.preventDefault(),this.u=T.type==="touchcancel"?3:2):this.C()}},N.prototype.N=function(){var T=this,J=this.l;this.v.mode=3,this.I.dropEffect=a[0];var le,fe,ae,G,se,re=ne("drag",this.m,this.k,this.v,this.I);if(re&&(this.l=a[0]),re||this.u===2||this.u===3)return this.Y(this.u)?(G=this.m,le=this.O,fe=this.A,W=function(){T.q()},void((se=getComputedStyle(G)).visibility!=="hidden"&&se.display!=="none"?(le.classList.add("dnd-poly-snapback"),ae=getComputedStyle(le),re=parseFloat(ae.transitionDuration),isNaN(re)||re===0?W():((G={x:(V=G.getBoundingClientRect()).left,y:V.top}).x+=document.body.scrollLeft||document.documentElement.scrollLeft,G.y+=document.body.scrollTop||document.documentElement.scrollTop,G.x-=parseInt(se.marginLeft,10),G.y-=parseInt(se.marginTop,10),V=parseFloat(ae.transitionDelay),V=Math.round(1e3*(re+V)),A(le,G,fe,void 0,!1),setTimeout(W,V))):W())):void this.q();var V=this.S.elementFromPoint(this.p.x,this.p.y),W=this.B;V!==this.V&&V!==this.B&&(this.V=V,this.B!==null&&(this.v.mode=3,this.I.dropEffect=a[0],ne("dragexit",this.B,this.k,this.v,this.I,!1)),this.V===null?this.B=this.V:(this.v.mode=3,this.I.dropEffect=q(this.v.effectAllowed,this.m),ne("dragenter",this.V,this.k,this.v,this.I)?(this.B=this.V,this.l=K(this.I.effectAllowed,this.I.dropEffect)):this.V!==document.body&&(this.B=document.body))),W!==this.B&&p(W)&&(this.v.mode=3,this.I.dropEffect=a[0],ne("dragleave",W,this.k,this.v,this.I,!1,this.B)),p(this.B)&&(this.v.mode=3,this.I.dropEffect=q(this.v.effectAllowed,this.m),ne("dragover",this.B,this.k,this.v,this.I)===!1?this.l=a[0]:this.l=K(this.I.effectAllowed,this.I.dropEffect)),J!==this.l&&this.O.classList.remove(i+J),J=i+this.l,this.O.classList.add(J)},N.prototype.Y=function(T){return T=this.l===a[0]||this.B===null||T===3,T?p(this.B)&&(this.v.mode=3,this.I.dropEffect=a[0],ne("dragleave",this.B,this.k,this.v,this.I,!1)):p(this.B)&&(this.v.mode=1,this.I.dropEffect=this.l,ne("drop",this.B,this.k,this.v,this.I)===!0?this.l=this.I.dropEffect:this.l=a[0]),T},N.prototype.q=function(){this.v.mode=3,this.I.dropEffect=this.l,ne("dragend",this.m,this.k,this.v,this.I,!1),this.u=2,this.C()},N);function N(T,J,le,fe){this.H=T,this.S=J,this.m=le,this.L=fe,this.u=0,this.V=null,this.B=null,this.k=T,this.M=T.changedTouches[0],this.P=this._.bind(this),this.T=this.X.bind(this),g("touchmove",this.P,!1),g("touchend",this.T,!1),g("touchcancel",this.T,!1)}var R,C={iterationInterval:150,tryFindDraggableTarget:function(T){for(var J=0,le=T.composedPath();J<le.length;J++){var fe=le[J];do if(fe.draggable!==!1&&(fe.draggable===!0||fe.getAttribute&&fe.getAttribute("draggable")==="true"))return fe;while((fe=fe.parentNode)&&fe!==document.body)}},dragImageSetup:function(T){var J=T.cloneNode(!0);return function le(fe,ae){if(fe.nodeType===1){for(var G,se,re=getComputedStyle(fe),V=0;V<re.length;V++){var W=re[V];ae.style.setProperty(W,re.getPropertyValue(W),re.getPropertyPriority(W))}ae.style.pointerEvents="none",ae.removeAttribute("id"),ae.removeAttribute("class"),ae.removeAttribute("draggable"),ae.nodeName==="CANVAS"&&(G=ae,se=(se=fe).getContext("2d").getImageData(0,0,se.width,se.height),G.getContext("2d").putImageData(se,0,0))}if(fe.hasChildNodes())for(V=0;V<fe.childNodes.length;V++)le(fe.childNodes[V],ae.childNodes[V]);(function _e(Ie){if(Ie instanceof HTMLElement&&(Ie.style.pointerEvents="none"),Ie.children&&Ie.children.length)for(var Pe=0;Pe<Ie.children.length;Pe++)_e(Ie.children[Pe]);if(Ie.shadowRoot&&Ie.shadowRoot.children.length)for(Pe=0;Pe<Ie.shadowRoot.children.length;Pe++)_e(Ie.shadowRoot.children[Pe])})(ae)}(T,J),J},elementFromPoint:function(T,J){var le=document.elementFromPoint(T,J);if(le){for(;le.shadowRoot;){var fe=le.shadowRoot.elementFromPoint(T,J);if(fe===null||fe===le)break;le=fe}return le}}};function x(T){if(!R){var J=C.tryFindDraggableTarget(T);if(J)try{R=new ce(T,C,J,F)}catch(le){throw F(C,T,3),le}}}function M(T){function J(V){ae.off(),G.off(),se.off(),re.off(),le&&le.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(fe)}var le=T.target;le&&le.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var fe=window.setTimeout(function(){ae.off(),G.off(),se.off(),re.off(),x(T)},C.holdToDrag),ae=E(le,"touchend",J),G=E(le,"touchcancel",J),se=E(le,"touchmove",J),re=E(window,"scroll",J,!0)}function F(T,J,le){if(le===0&&T.defaultActionOverride)try{T.defaultActionOverride(J),J.defaultPrevented}catch{}R=null}t.polyfill=function(T){if(T&&Object.keys(T).forEach(function(le){C[le]=T[le]}),!C.forceApply&&(J=(J=!!window.chrome||/chrome/i.test(navigator.userAgent),{dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||J&&"ontouchstart"in document.documentElement)}),J.userAgentSupportingNativeDnD&&J.draggable&&J.dragEvents))return!1;var J;return C.holdToDrag?g("touchstart",M,!1):g("touchstart",x,!1),!0},t.supportsPassiveEventListener=c,Object.defineProperty(t,"G",{value:!0})})}(tl,tl.exports)),tl.exports}var px=dx();const mx=()=>{const[n,e]=ue.useState(null);return ue.useEffect(()=>{try{px.polyfill({dragImageTranslateOverride:()=>({x:-10,y:-10}),holdToDrag:300,forceApply:!0})&&console.log("Mobile drag and drop polyfill applied successfully"),window.addEventListener("touchmove",function(o){document.querySelector(".is-dragging")&&o.stopPropagation()},{passive:!1}),Ro.dispatch(g1(!0));const i=lP(cx,async o=>{var a,c;try{if(o){const f=await xO(Ow(hx,"users",o.uid));if(f.exists()){const p=f.data();Ro.dispatch(Zu({id:o.uid,email:o.email||"",firstName:p.firstName||"",lastName:p.lastName||"",role:p.role||"athlete",createdAt:((a=p.createdAt)==null?void 0:a.toDate())||new Date,updatedAt:((c=p.updatedAt)==null?void 0:c.toDate())||new Date}))}else Ro.dispatch(Zu(null))}else Ro.dispatch(Zu(null))}catch(f){console.error("Error fetching user data:",f),e("Failed to fetch user data. Please try again later."),Ro.dispatch(Zu(null))}});return()=>i()}catch(t){console.error("Error initializing app:",t),e("Failed to initialize the app. Please try again later.")}},[]),n?Se.jsxs("div",{className:"p-4 text-center",children:[Se.jsx("h1",{className:"text-xl font-bold text-red-600",children:"Error"}),Se.jsx("p",{children:n}),Se.jsx("button",{className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>window.location.reload(),children:"Retry"})]}):Se.jsx(xI,{store:Ro,children:Se.jsx(RS,{children:Se.jsx(P1,{children:Se.jsx(A1,{})})})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(n=>{console.log("SW registered:",n)}).catch(n=>{console.log("SW registration failed:",n)})});aI.createRoot(document.getElementById("root")).render(Se.jsx(M_.StrictMode,{children:Se.jsx(mx,{})}));export{Rx as A,M_ as R,Et as T,j_ as a,vx as b,Tx as c,hx as d,gx as e,lE as f,Ax as g,yx as h,Ic as i,Se as j,$S as k,Px as l,Z_ as m,vc as n,gI as o,z_ as p,Ix as q,ue as r,Zu as s,Ex as t,wI as u,cx as v,Sx as w,xO as x,Ow as y,_x as z};
