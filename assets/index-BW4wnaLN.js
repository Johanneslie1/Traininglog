const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-DAVd_Zz4.js","assets/react-vendor-DOxSmbpi.js","assets/types-CajRpuhK.js","assets/firebase-vendor-CDzPPbaT.js","assets/Register-CrccN9HI.js","assets/ExerciseLog-DEcIf9Jp.js","assets/ProgramModal-gqqF9Ltc.js","assets/ExerciseHistoryPicker-mDNrnu8A.js","assets/useAuth-Bl_XYtwH.js","assets/speedAgility-DxCoHWLB.js","assets/speedAgilityFilters-C5QwlS5y.js","assets/ProgramList-D6WBhRTq.js","assets/ProgramBuilder-BzEeHDp7.js","assets/ProgramDetail-sV_Px1nl.js","assets/Debug-B_LmR-3p.js","assets/ExerciseOverview-DH5OZ_8D.js","assets/SpeedAgilityPlyoPage-D4sNK1YQ.js"])))=>i.map(i=>d[i]);
var Pn=Object.defineProperty;var _n=(e,t,r)=>t in e?Pn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Yt=(e,t,r)=>_n(e,typeof t!="symbol"?t+"":t,r);import{r as Lt,a as On,g as $r,b as E,c as An,H as kn,u as ze,d as Ur,R as Rn,e as se,N as Nn,f as In,h as Tn}from"./react-vendor-DOxSmbpi.js";import{_ as Cn,C as Dn,r as Xt,S as Ln,a as Mn,F as $n,g as Fr,b as Un,c as Fn,d as Bn,i as Wn,p as zn,u as Vn,e as qn,f as _t,h as Br,j as ae,k as Wr,l as $,m as ee,n as te,w as Ce,s as G,q as Hn,o as Kn,t as Je,v as Ve,x as Gn,y as Yn,T as Ot,z as Ye,A as zr}from"./firebase-vendor-CDzPPbaT.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var ut={exports:{}},Le={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jt;function Xn(){if(Jt)return Le;Jt=1;var e=Lt(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(a,u,c){var d,f={},h=null,m=null;c!==void 0&&(h=""+c),u.key!==void 0&&(h=""+u.key),u.ref!==void 0&&(m=u.ref);for(d in u)n.call(u,d)&&!o.hasOwnProperty(d)&&(f[d]=u[d]);if(a&&a.defaultProps)for(d in u=a.defaultProps,u)f[d]===void 0&&(f[d]=u[d]);return{$$typeof:t,type:a,key:h,ref:m,props:f,_owner:s.current}}return Le.Fragment=r,Le.jsx=i,Le.jsxs=i,Le}var Zt;function Jn(){return Zt||(Zt=1,ut.exports=Xn()),ut.exports}var l=Jn(),He={},Qt;function Zn(){if(Qt)return He;Qt=1;var e=On();return He.createRoot=e.createRoot,He.hydrateRoot=e.hydrateRoot,He}var Qn=Zn();const eo=$r(Qn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="firebasestorage.googleapis.com",to="storageBucket",ro=2*60*1e3,no=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne extends $n{constructor(t,r,n=0){super(lt(t),`Firebase Storage: ${r} (${lt(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ne.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return lt(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var re;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(re||(re={}));function lt(e){return"storage/"+e}function oo(){const e="An unknown error occurred, please check the error payload for server response.";return new ne(re.UNKNOWN,e)}function so(){return new ne(re.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function io(){return new ne(re.CANCELED,"User canceled the upload/download.")}function ao(e){return new ne(re.INVALID_URL,"Invalid URL '"+e+"'.")}function co(e){return new ne(re.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function er(e){return new ne(re.INVALID_ARGUMENT,e)}function qr(){return new ne(re.APP_DELETED,"The Firebase app was deleted.")}function uo(e){return new ne(re.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=Z.makeFromUrl(t,r)}catch{return new Z(t,"")}if(n.path==="")return n;throw co(t)}static makeFromUrl(t,r){let n=null;const s="([A-Za-z0-9.\\-_]+)";function o(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const i="(/(.*))?$",a=new RegExp("^gs://"+s+i,"i"),u={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${s}/o${h}`,"i"),y={bucket:1,path:3},v=r===Vr?"(?:storage.googleapis.com|storage.cloud.google.com)":r,p="([^?#]*)",x=new RegExp(`^https?://${v}/${s}/${p}`,"i"),j=[{regex:a,indices:u,postModify:o},{regex:m,indices:y,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<j.length;A++){const b=j[A],R=b.regex.exec(t);if(R){const C=R[b.indices.bucket];let B=R[b.indices.path];B||(B=""),n=new Z(C,B),b.postModify(n);break}}if(n==null)throw ao(t);return n}}class lo{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(e,t,r){let n=1,s=null,o=null,i=!1,a=0;function u(){return a===2}let c=!1;function d(...p){c||(c=!0,t.apply(null,p))}function f(p){s=setTimeout(()=>{s=null,e(m,u())},p)}function h(){o&&clearTimeout(o)}function m(p,...x){if(c){h();return}if(p){h(),d.call(null,p,...x);return}if(u()||i){h(),d.call(null,p,...x);return}n<64&&(n*=2);let j;a===1?(a=2,j=0):j=(n+Math.random())*1e3,f(j)}let y=!1;function v(p){y||(y=!0,h(),!c&&(s!==null?(p||(a=2),clearTimeout(s),f(0)):p||(a=1)))}return f(0),o=setTimeout(()=>{i=!0,v(!0)},r),v}function ho(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(e){return e!==void 0}function tr(e,t,r,n){if(n<t)throw er(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw er(`Invalid value for '${e}'. Expected ${r} or less.`)}function mo(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const s=t(n)+"="+t(e[n]);r=r+s+"&"}return r=r.slice(0,-1),r}var Ze;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ze||(Ze={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(e,t){const r=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return r||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t,r,n,s,o,i,a,u,c,d,f,h=!0,m=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,v)=>{this.resolve_=y,this.reject_=v,this.start_()})}start_(){const t=(n,s)=>{if(s){n(!1,new Ke(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const i=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&o.addUploadProgressListener(i),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(i),this.pendingConnection_=null;const a=o.getErrorCode()===Ze.NO_ERROR,u=o.getStatus();if(!a||go(u,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===Ze.ABORT;n(!1,new Ke(!1,null,d));return}const c=this.successCodes_.indexOf(u)!==-1;n(!0,new Ke(c,o))})},r=(n,s)=>{const o=this.resolve_,i=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());po(u)?o(u):o()}catch(u){i(u)}else if(a!==null){const u=oo();u.serverResponse=a.getErrorText(),this.errorCallback_?i(this.errorCallback_(a,u)):i(u)}else if(s.canceled){const u=this.appDelete_?qr():io();i(u)}else{const u=so();i(u)}};this.canceled_?r(!1,new Ke(!1,null,!0)):this.backoffId_=fo(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&ho(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ke{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function yo(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function bo(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function wo(e,t){t&&(e["X-Firebase-GMPID"]=t)}function xo(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function So(e,t,r,n,s,o,i=!0,a=!1){const u=mo(e.urlParams),c=e.url+u,d=Object.assign({},e.headers);return wo(d,t),yo(d,r),bo(d,o),xo(d,n),new vo(c,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function jo(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,r){this._service=t,r instanceof Z?this._location=r:this._location=Z.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new Qe(t,r)}get root(){const t=new Z(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jo(this._location.path)}get storage(){return this._service}get parent(){const t=Eo(this._location.path);if(t===null)return null;const r=new Z(this._location.bucket,t);return new Qe(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw uo(t)}}function rr(e,t){const r=t==null?void 0:t[to];return r==null?null:Z.makeFromBucketSpec(r,e)}function Po(e,t,r,n={}){e.host=`${t}:${r}`;const s=Wn(t);s&&(zn(`https://${e.host}/b`),Vn("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:o}=n;o&&(e._overrideAuthToken=typeof o=="string"?o:qn(o,e.app.options.projectId))}class _o{constructor(t,r,n,s,o,i=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=i,this._bucket=null,this._host=Vr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ro,this._maxUploadRetryTime=no,this._requests=new Set,s!=null?this._bucket=Z.makeFromBucketSpec(s,this._host):this._bucket=rr(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Z.makeFromBucketSpec(this._url,t):this._bucket=rr(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){tr("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){tr("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Qe(this,t)}_makeRequest(t,r,n,s,o=!0){if(this._deleted)return new lo(qr());{const i=So(t,this._appId,n,s,r,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(t,r){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,s).getPromise()}}const nr="@firebase/storage",or="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="storage";function Oo(e=Fr(),t){e=Un(e);const n=Fn(e,Hr).getImmediate({identifier:t}),s=Bn("storage");return s&&Ao(n,...s),n}function Ao(e,t,r,n={}){Po(e,t,r,n)}function ko(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new _o(r,n,s,t,Ln)}function Ro(){Cn(new Dn(Hr,ko,"PUBLIC").setMultipleInstances(!0)),Xt(nr,or,""),Xt(nr,or,"esm2017")}Ro();const No={apiKey:"AIzaSyDgA76WHz1JzwEc1YeazhKTUxqxHzhcP2c",authDomain:"session-logger-3619e.firebaseapp.com",projectId:"session-logger-3619e",storageBucket:"session-logger-3619e.firebasestorage.app",messagingSenderId:"936476651752",appId:"1:936476651752:web:7048bd9fcc902dc816595d",measurementId:"G-B6K0DDSVTH"},Mt=_t().length?_t()[0]:Br(No),ce=ae(Mt),_e=Wr(Mt);Oo(Mt);function J(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function me(e){return!!e&&!!e[M]}function ue(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var s=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===Fo}(e)||Array.isArray(e)||!!e[dr]||!!(!((t=e.constructor)===null||t===void 0)&&t[dr])||$t(e)||Ut(e))}function Oe(e,t,r){r===void 0&&(r=!1),De(e)===0?(r?Object.keys:Ie)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,s){return t(s,n,e)})}function De(e){var t=e[M];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:$t(e)?2:Ut(e)?3:0}function Ne(e,t){return De(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Io(e,t){return De(e)===2?e.get(t):e[t]}function Kr(e,t,r){var n=De(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Gr(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function $t(e){return $o&&e instanceof Map}function Ut(e){return Uo&&e instanceof Set}function je(e){return e.o||e.t}function Ft(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Xr(e);delete t[M];for(var r=Ie(t),n=0;n<r.length;n++){var s=r[n],o=t[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Object.getPrototypeOf(e),t)}function Bt(e,t){return t===void 0&&(t=!1),Wt(e)||me(e)||!ue(e)||(De(e)>1&&(e.set=e.add=e.clear=e.delete=To),Object.freeze(e),t&&Oe(e,function(r,n){return Bt(n,!0)},!0)),e}function To(){J(2)}function Wt(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Q(e){var t=Nt[e];return t||J(18,e),t}function Co(e,t){Nt[e]||(Nt[e]=t)}function At(){return Fe}function dt(e,t){t&&(Q("Patches"),e.u=[],e.s=[],e.v=t)}function et(e){kt(e),e.p.forEach(Do),e.p=null}function kt(e){e===Fe&&(Fe=e.l)}function sr(e){return Fe={p:[],l:Fe,h:e,m:!0,_:0}}function Do(e){var t=e[M];t.i===0||t.i===1?t.j():t.g=!0}function ft(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||Q("ES5").S(t,e,n),n?(r[M].P&&(et(t),J(4)),ue(e)&&(e=tt(t,e),t.l||rt(t,e)),t.u&&Q("Patches").M(r[M].t,e,t.u,t.s)):e=tt(t,r,[]),et(t),t.u&&t.v(t.u,t.s),e!==Yr?e:void 0}function tt(e,t,r){if(Wt(t))return t;var n=t[M];if(!n)return Oe(t,function(a,u){return ir(e,n,t,a,u,r)},!0),t;if(n.A!==e)return t;if(!n.P)return rt(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var s=n.i===4||n.i===5?n.o=Ft(n.k):n.o,o=s,i=!1;n.i===3&&(o=new Set(s),s.clear(),i=!0),Oe(o,function(a,u){return ir(e,n,s,a,u,r,i)}),rt(e,s,!1),r&&e.u&&Q("Patches").N(n,r,e.u,e.s)}return n.o}function ir(e,t,r,n,s,o,i){if(me(s)){var a=tt(e,s,o&&t&&t.i!==3&&!Ne(t.R,n)?o.concat(n):void 0);if(Kr(r,n,a),!me(a))return;e.m=!1}else i&&r.add(s);if(ue(s)&&!Wt(s)){if(!e.h.D&&e._<1)return;tt(e,s),t&&t.A.l||rt(e,s)}}function rt(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&Bt(t,r)}function ht(e,t){var r=e[M];return(r?je(r):e)[t]}function ar(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function de(e){e.P||(e.P=!0,e.l&&de(e.l))}function pt(e){e.o||(e.o=Ft(e.t))}function Rt(e,t,r){var n=$t(t)?Q("MapSet").F(t,r):Ut(t)?Q("MapSet").T(t,r):e.O?function(s,o){var i=Array.isArray(s),a={i:i?1:0,A:o?o.A:At(),P:!1,I:!1,R:{},l:o,t:s,k:null,o:null,j:null,C:!1},u=a,c=Be;i&&(u=[a],c=Me);var d=Proxy.revocable(u,c),f=d.revoke,h=d.proxy;return a.k=h,a.j=f,h}(t,r):Q("ES5").J(t,r);return(r?r.A:At()).p.push(n),n}function Lo(e){return me(e)||J(22,e),function t(r){if(!ue(r))return r;var n,s=r[M],o=De(r);if(s){if(!s.P&&(s.i<4||!Q("ES5").K(s)))return s.t;s.I=!0,n=cr(r,o),s.I=!1}else n=cr(r,o);return Oe(n,function(i,a){s&&Io(s.t,i)===a||Kr(n,i,t(a))}),o===3?new Set(n):n}(e)}function cr(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Ft(e)}function Mo(){function e(o,i){var a=s[o];return a?a.enumerable=i:s[o]=a={configurable:!0,enumerable:i,get:function(){var u=this[M];return Be.get(u,o)},set:function(u){var c=this[M];Be.set(c,o,u)}},a}function t(o){for(var i=o.length-1;i>=0;i--){var a=o[i][M];if(!a.P)switch(a.i){case 5:n(a)&&de(a);break;case 4:r(a)&&de(a)}}}function r(o){for(var i=o.t,a=o.k,u=Ie(a),c=u.length-1;c>=0;c--){var d=u[c];if(d!==M){var f=i[d];if(f===void 0&&!Ne(i,d))return!0;var h=a[d],m=h&&h[M];if(m?m.t!==f:!Gr(h,f))return!0}}var y=!!i[M];return u.length!==Ie(i).length+(y?0:1)}function n(o){var i=o.k;if(i.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(i,i.length-1);if(a&&!a.get)return!0;for(var u=0;u<i.length;u++)if(!i.hasOwnProperty(u))return!0;return!1}var s={};Co("ES5",{J:function(o,i){var a=Array.isArray(o),u=function(d,f){if(d){for(var h=Array(f.length),m=0;m<f.length;m++)Object.defineProperty(h,""+m,e(m,!0));return h}var y=Xr(f);delete y[M];for(var v=Ie(y),p=0;p<v.length;p++){var x=v[p];y[x]=e(x,d||!!y[x].enumerable)}return Object.create(Object.getPrototypeOf(f),y)}(a,o),c={i:a?5:4,A:i?i.A:At(),P:!1,I:!1,R:{},l:i,t:o,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,M,{value:c,writable:!0}),u},S:function(o,i,a){a?me(i)&&i[M].A===o&&t(o.p):(o.u&&function u(c){if(c&&typeof c=="object"){var d=c[M];if(d){var f=d.t,h=d.k,m=d.R,y=d.i;if(y===4)Oe(h,function(j){j!==M&&(f[j]!==void 0||Ne(f,j)?m[j]||u(h[j]):(m[j]=!0,de(d)))}),Oe(f,function(j){h[j]!==void 0||Ne(h,j)||(m[j]=!1,de(d))});else if(y===5){if(n(d)&&(de(d),m.length=!0),h.length<f.length)for(var v=h.length;v<f.length;v++)m[v]=!1;else for(var p=f.length;p<h.length;p++)m[p]=!0;for(var x=Math.min(h.length,f.length),S=0;S<x;S++)h.hasOwnProperty(S)||(m[S]=!0),m[S]===void 0&&u(h[S])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?r(o):n(o)}})}var ur,Fe,zt=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",$o=typeof Map<"u",Uo=typeof Set<"u",lr=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Yr=zt?Symbol.for("immer-nothing"):((ur={})["immer-nothing"]=!0,ur),dr=zt?Symbol.for("immer-draftable"):"__$immer_draftable",M=zt?Symbol.for("immer-state"):"__$immer_state",Fo=""+Object.prototype.constructor,Ie=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Xr=Object.getOwnPropertyDescriptors||function(e){var t={};return Ie(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},Nt={},Be={get:function(e,t){if(t===M)return e;var r=je(e);if(!Ne(r,t))return function(s,o,i){var a,u=ar(o,i);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(s.k):void 0}(e,r,t);var n=r[t];return e.I||!ue(n)?n:n===ht(e.t,t)?(pt(e),e.o[t]=Rt(e.A.h,n,e)):n},has:function(e,t){return t in je(e)},ownKeys:function(e){return Reflect.ownKeys(je(e))},set:function(e,t,r){var n=ar(je(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var s=ht(je(e),t),o=s==null?void 0:s[M];if(o&&o.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(Gr(r,s)&&(r!==void 0||Ne(e.t,t)))return!0;pt(e),de(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return ht(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,pt(e),de(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=je(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){J(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){J(12)}},Me={};Oe(Be,function(e,t){Me[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Me.deleteProperty=function(e,t){return Me.set.call(this,e,t,void 0)},Me.set=function(e,t,r){return Be.set.call(this,e[0],t,r,e[0])};var Bo=function(){function e(r){var n=this;this.O=lr,this.D=!0,this.produce=function(s,o,i){if(typeof s=="function"&&typeof o!="function"){var a=o;o=s;var u=n;return function(v){var p=this;v===void 0&&(v=a);for(var x=arguments.length,S=Array(x>1?x-1:0),j=1;j<x;j++)S[j-1]=arguments[j];return u.produce(v,function(A){var b;return(b=o).call.apply(b,[p,A].concat(S))})}}var c;if(typeof o!="function"&&J(6),i!==void 0&&typeof i!="function"&&J(7),ue(s)){var d=sr(n),f=Rt(n,s,void 0),h=!0;try{c=o(f),h=!1}finally{h?et(d):kt(d)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(v){return dt(d,i),ft(v,d)},function(v){throw et(d),v}):(dt(d,i),ft(c,d))}if(!s||typeof s!="object"){if((c=o(s))===void 0&&(c=s),c===Yr&&(c=void 0),n.D&&Bt(c,!0),i){var m=[],y=[];Q("Patches").M(s,c,m,y),i(m,y)}return c}J(21,s)},this.produceWithPatches=function(s,o){if(typeof s=="function")return function(c){for(var d=arguments.length,f=Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];return n.produceWithPatches(c,function(m){return s.apply(void 0,[m].concat(f))})};var i,a,u=n.produce(s,o,function(c,d){i=c,a=d});return typeof Promise<"u"&&u instanceof Promise?u.then(function(c){return[c,i,a]}):[u,i,a]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){ue(r)||J(8),me(r)&&(r=Lo(r));var n=sr(this),s=Rt(this,r,void 0);return s[M].C=!0,kt(n),s},t.finishDraft=function(r,n){var s=r&&r[M],o=s.A;return dt(o,n),ft(void 0,o)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!lr&&J(20),this.O=r},t.applyPatches=function(r,n){var s;for(s=n.length-1;s>=0;s--){var o=n[s];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}s>-1&&(n=n.slice(s+1));var i=Q("Patches").$;return me(r)?i(r,n):this.produce(r,function(a){return i(a,n)})},e}(),Y=new Bo,Jr=Y.produce;Y.produceWithPatches.bind(Y);Y.setAutoFreeze.bind(Y);Y.setUseProxies.bind(Y);Y.applyPatches.bind(Y);Y.createDraft.bind(Y);Y.finishDraft.bind(Y);function We(e){"@babel/helpers - typeof";return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},We(e)}function Wo(e,t){if(We(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(We(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zo(e){var t=Wo(e,"string");return We(t)=="symbol"?t:t+""}function Vo(e,t,r){return(t=zo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fr(Object(r),!0).forEach(function(n){Vo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var pr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),mt=function(){return Math.random().toString(36).substring(7).split("").join(".")},nt={INIT:"@@redux/INIT"+mt(),REPLACE:"@@redux/REPLACE"+mt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+mt()}};function qo(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Zr(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(U(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(U(1));return r(Zr)(e,t)}if(typeof e!="function")throw new Error(U(2));var s=e,o=t,i=[],a=i,u=!1;function c(){a===i&&(a=i.slice())}function d(){if(u)throw new Error(U(3));return o}function f(v){if(typeof v!="function")throw new Error(U(4));if(u)throw new Error(U(5));var p=!0;return c(),a.push(v),function(){if(p){if(u)throw new Error(U(6));p=!1,c();var S=a.indexOf(v);a.splice(S,1),i=null}}}function h(v){if(!qo(v))throw new Error(U(7));if(typeof v.type>"u")throw new Error(U(8));if(u)throw new Error(U(9));try{u=!0,o=s(o,v)}finally{u=!1}for(var p=i=a,x=0;x<p.length;x++){var S=p[x];S()}return v}function m(v){if(typeof v!="function")throw new Error(U(10));s=v,h({type:nt.REPLACE})}function y(){var v,p=f;return v={subscribe:function(S){if(typeof S!="object"||S===null)throw new Error(U(11));function j(){S.next&&S.next(d())}j();var A=p(j);return{unsubscribe:A}}},v[pr]=function(){return this},v}return h({type:nt.INIT}),n={dispatch:h,subscribe:f,getState:d,replaceReducer:m},n[pr]=y,n}function Ho(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:nt.INIT});if(typeof n>"u")throw new Error(U(12));if(typeof r(void 0,{type:nt.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(U(13))})}function Ko(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var s=t[n];typeof e[s]=="function"&&(r[s]=e[s])}var o=Object.keys(r),i;try{Ho(r)}catch(a){i=a}return function(u,c){if(u===void 0&&(u={}),i)throw i;for(var d=!1,f={},h=0;h<o.length;h++){var m=o[h],y=r[m],v=u[m],p=y(v,c);if(typeof p>"u")throw c&&c.type,new Error(U(14));f[m]=p,d=d||p!==v}return d=d||o.length!==Object.keys(u).length,d?f:u}}function mr(e,t){return function(){return t(e.apply(this,arguments))}}function Sa(e,t){if(typeof e=="function")return mr(e,t);if(typeof e!="object"||e===null)throw new Error(U(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=mr(s,t))}return r}function ot(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function Go(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),o=function(){throw new Error(U(15))},i={getState:s.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(u){return u(i)});return o=ot.apply(void 0,a)(s.dispatch),hr(hr({},s),{},{dispatch:o})}}}function Qr(e){var t=function(n){var s=n.dispatch,o=n.getState;return function(i){return function(a){return typeof a=="function"?a(s,o,e):i(a)}}};return t}var It=Qr();It.withExtraArgument=Qr;var en=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yo=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(o=c[0]&2?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],s=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Te=function(e,t){for(var r=0,n=t.length,s=e.length;r<n;r++,s++)e[s]=t[r];return e},Xo=Object.defineProperty,Jo=Object.defineProperties,Zo=Object.getOwnPropertyDescriptors,gr=Object.getOwnPropertySymbols,Qo=Object.prototype.hasOwnProperty,es=Object.prototype.propertyIsEnumerable,vr=function(e,t,r){return t in e?Xo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},he=function(e,t){for(var r in t||(t={}))Qo.call(t,r)&&vr(e,r,t[r]);if(gr)for(var n=0,s=gr(t);n<s.length;n++){var r=s[n];es.call(t,r)&&vr(e,r,t[r])}return e},gt=function(e,t){return Jo(e,Zo(t))},ts=function(e,t,r){return new Promise(function(n,s){var o=function(u){try{a(r.next(u))}catch(c){s(c)}},i=function(u){try{a(r.throw(u))}catch(c){s(c)}},a=function(u){return u.done?n(u.value):Promise.resolve(u.value).then(o,i)};a((r=r.apply(e,t)).next())})},rs=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ot:ot.apply(null,arguments)};function ns(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}function pe(e,t){function r(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return he(he({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}var os=function(e){en(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var s=e.apply(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Te([void 0],r[0].concat(this)))):new(t.bind.apply(t,Te([void 0],r.concat(this))))},t}(Array),ss=function(e){en(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var s=e.apply(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Te([void 0],r[0].concat(this)))):new(t.bind.apply(t,Te([void 0],r.concat(this))))},t}(Array);function Tt(e){return ue(e)?Jr(e,function(){}):e}function is(e){return typeof e=="boolean"}function as(){return function(t){return cs(t)}}function cs(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var n=new os;return r&&(is(r)?n.push(It):n.push(It.withExtraArgument(r.extraArgument))),n}function us(e){var t=as(),r=e||{},n=r.reducer,s=n===void 0?void 0:n,o=r.middleware,i=o===void 0?t():o,a=r.devTools,u=a===void 0?!0:a,c=r.preloadedState,d=c===void 0?void 0:c,f=r.enhancers,h=f===void 0?void 0:f,m;if(typeof s=="function")m=s;else if(ns(s))m=Ko(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var y=i;typeof y=="function"&&(y=y(t));var v=Go.apply(void 0,y),p=ot;u&&(p=rs(he({trace:!1},typeof u=="object"&&u)));var x=new ss(v),S=x;Array.isArray(h)?S=Te([v],h):typeof h=="function"&&(S=h(x));var j=p.apply(void 0,S);return Zr(m,d,j)}function tn(e){var t={},r=[],n,s={addCase:function(o,i){var a=typeof o=="string"?o:o.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=i,s},addMatcher:function(o,i){return r.push({matcher:o,reducer:i}),s},addDefaultCase:function(o){return n=o,s}};return e(s),[t,r,n]}function ls(e){return typeof e=="function"}function ds(e,t,r,n){r===void 0&&(r=[]);var s=typeof t=="function"?tn(t):[t,r,n],o=s[0],i=s[1],a=s[2],u;if(ls(e))u=function(){return Tt(e())};else{var c=Tt(e);u=function(){return c}}function d(f,h){f===void 0&&(f=u());var m=Te([o[h.type]],i.filter(function(y){var v=y.matcher;return v(h)}).map(function(y){var v=y.reducer;return v}));return m.filter(function(y){return!!y}).length===0&&(m=[a]),m.reduce(function(y,v){if(v)if(me(y)){var p=y,x=v(p,h);return x===void 0?y:x}else{if(ue(y))return Jr(y,function(S){return v(S,h)});var x=v(y,h);if(x===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}return y},f)}return d.getInitialState=u,d}function fs(e,t){return e+"/"+t}function hs(e){var t=e.name,r=typeof e.initialState=="function"?e.initialState:Tt(e.initialState),n=e.reducers||{},s=Object.keys(n),o={},i={},a={};s.forEach(function(d){var f=n[d],h=fs(t,d),m,y;"reducer"in f?(m=f.reducer,y=f.prepare):m=f,o[d]=m,i[h]=m,a[d]=y?pe(h,y):pe(h)});function u(){var d=typeof e.extraReducers=="function"?tn(e.extraReducers):[e.extraReducers],f=d[0],h=f===void 0?{}:f,m=d[1],y=m===void 0?[]:m,v=d[2],p=v===void 0?void 0:v,x=he(he({},h),i);return ds(r,function(S){for(var j in x)S.addCase(j,x[j]);for(var A=0,b=y;A<b.length;A++){var R=b[A];S.addMatcher(R.matcher,R.reducer)}p&&S.addDefaultCase(p)})}var c;return{name:t,reducer:function(d,f){return c||(c=u()),c(d,f)},actions:a,caseReducers:o,getInitialState:function(){return c||(c=u()),c.getInitialState()}}}var ps="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ms=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=ps[Math.random()*64|0];return t},gs=["name","message","stack","code"],vt=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),yr=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),vs=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=gs;r<n.length;r++){var s=n[r];typeof e[s]=="string"&&(t[s]=e[s])}return t}return{message:String(e)}};(function(){function e(t,r,n){var s=pe(t+"/fulfilled",function(c,d,f,h){return{payload:c,meta:gt(he({},h||{}),{arg:f,requestId:d,requestStatus:"fulfilled"})}}),o=pe(t+"/pending",function(c,d,f){return{payload:void 0,meta:gt(he({},f||{}),{arg:d,requestId:c,requestStatus:"pending"})}}),i=pe(t+"/rejected",function(c,d,f,h,m){return{payload:h,error:(n&&n.serializeError||vs)(c||"Rejected"),meta:gt(he({},m||{}),{arg:f,requestId:d,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function u(c){return function(d,f,h){var m=n!=null&&n.idGenerator?n.idGenerator(c):ms(),y=new a,v;function p(S){v=S,y.abort()}var x=function(){return ts(this,null,function(){var S,j,A,b,R,C,B;return Yo(this,function(W){switch(W.label){case 0:return W.trys.push([0,4,,5]),b=(S=n==null?void 0:n.condition)==null?void 0:S.call(n,c,{getState:f,extra:h}),bs(b)?[4,b]:[3,2];case 1:b=W.sent(),W.label=2;case 2:if(b===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return R=new Promise(function(z,xe){return y.signal.addEventListener("abort",function(){return xe({name:"AbortError",message:v||"Aborted"})})}),d(o(m,c,(j=n==null?void 0:n.getPendingMeta)==null?void 0:j.call(n,{requestId:m,arg:c},{getState:f,extra:h}))),[4,Promise.race([R,Promise.resolve(r(c,{dispatch:d,getState:f,extra:h,requestId:m,signal:y.signal,abort:p,rejectWithValue:function(z,xe){return new vt(z,xe)},fulfillWithValue:function(z,xe){return new yr(z,xe)}})).then(function(z){if(z instanceof vt)throw z;return z instanceof yr?s(z.payload,m,c,z.meta):s(z,m,c)})])];case 3:return A=W.sent(),[3,5];case 4:return C=W.sent(),A=C instanceof vt?i(null,m,c,C.payload,C.meta):i(C,m,c),[3,5];case 5:return B=n&&!n.dispatchConditionRejection&&i.match(A)&&A.meta.condition,B||d(A),[2,A]}})})}();return Object.assign(x,{abort:p,requestId:m,arg:c,unwrap:function(){return x.then(ys)}})}}return Object.assign(u,{pending:o,rejected:i,fulfilled:s,typePrefix:t})}return e.withTypes=function(){return e},e})();function ys(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function bs(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Vt="listenerMiddleware";pe(Vt+"/add");pe(Vt+"/removeAll");pe(Vt+"/remove");var br;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Mo();const ws={user:null,isAuthenticated:!1,isLoading:!0,error:null},rn=hs({name:"auth",initialState:ws,reducers:{setUser:(e,t)=>{e.user=t.payload,e.isAuthenticated=!!t.payload,e.isLoading=!1,e.error=null},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload,e.isLoading=!1},clearError:e=>{e.error=null},logout:e=>{e.user=null,e.isAuthenticated=!1,e.isLoading=!1,e.error=null}}}),{setUser:yt,setLoading:wr,logout:nn}=rn.actions,xs=rn.reducer;var $e={exports:{}};/*! mobile-drag-drop 3.0.0-rc.0 | Copyright (c) 2022 Tim Ruffles | MIT License */var Ss=$e.exports,xr;function Es(){return xr||(xr=1,function(e,t){(function(r,n){n(t)})(Ss,function(r){var n="dnd-poly-",s=["none","copy","copyLink","copyMove","link","linkMove","move","all"],o=["none","copy","move","link"];function i(){var g=!1;try{var w=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("test",null,w)}catch{}return g}var a=i();function u(g){return g&&g.tagName}function c(g,w,P){document.addEventListener(g,w,!!a&&{passive:P})}function d(g,w){document.removeEventListener(g,w)}function f(g,w,P,_){_===void 0&&(_=!1);var O=a?{passive:!0,capture:_}:_;return g.addEventListener(w,P,O),{off:function(){g.removeEventListener(w,P,O)}}}function h(g){return g.length===0?0:g.reduce(function(w,P){return P+w},0)/g.length}function m(g,w){for(var P=0;P<g.changedTouches.length;P++)if(g.changedTouches[P].identifier===w)return!0;return!1}function y(g,w,P){for(var _=[],O=[],k=0;k<w.touches.length;k++){var N=w.touches[k];_.push(N[g+"X"]),O.push(N[g+"Y"])}P.x=h(_),P.y=h(O)}var v=["","-webkit-"];function p(g,N,P,_,O){var k=N.x,N=N.y;_&&(k+=_.x,N+=_.y),(O=O===void 0||O)&&(k-=parseInt(g.offsetWidth,10)/2,N-=parseInt(g.offsetHeight,10)/2);for(var L="translate3d("+k+"px,"+N+"px, 0)",D=0;D<v.length;D++){var V=v[D]+"transform";g.style[V]=L+" "+P[D]}}var x=(Object.defineProperty(S.prototype,"dropEffect",{get:function(){return this.t},set:function(g){this.i.mode!==0&&-1<s.indexOf(g)&&(this.t=g)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"types",{get:function(){if(this.i.mode!==0)return Object.freeze(this.i.types)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"effectAllowed",{get:function(){return this.i.effectAllowed},set:function(g){this.i.mode===2&&-1<s.indexOf(g)&&(this.i.effectAllowed=g)},enumerable:!1,configurable:!0}),S.prototype.setData=function(g,w){if(this.i.mode===2){if(-1<g.indexOf(" "))throw new Error("illegal arg: type contains space");this.i.data[g]=w,this.i.types.indexOf(g)===-1&&this.i.types.push(g)}},S.prototype.getData=function(g){if(this.i.mode===1||this.i.mode===2)return this.i.data[g]||""},S.prototype.clearData=function(g){this.i.mode===2&&(g&&this.i.data[g]?(delete this.i.data[g],-1<(g=this.i.types.indexOf(g))&&this.i.types.splice(g,1)):(this.i.data={},this.i.types=[]))},S.prototype.setDragImage=function(g,w,P){this.i.mode===2&&this.h(g,w,P)},S);function S(g,w){this.i=g,this.h=w,this.t=o[0]}function j(g,w){return g?g===s[0]?o[0]:g.indexOf(s[1])===0||g===s[7]?o[1]:g.indexOf(s[4])===0?o[3]:g===s[6]?o[2]:o[1]:w.nodeType===3&&w.tagName==="A"?o[3]:o[1]}function A(g,w,P,_,O,k,N){return N===void 0&&(N=null),O=function(L,D,V,F,X,oe,Gt){N===void 0&&(Gt=null);var ke=P.changedTouches[0],F=new Event(g,{bubbles:!0,cancelable:F});return F.dataTransfer=oe,F.relatedTarget=Gt,F.screenX=ke.screenX,F.screenY=ke.screenY,F.clientX=ke.clientX,F.clientY=ke.clientY,F.pageX=ke.pageX,F.pageY=ke.pageY,L=L.getBoundingClientRect(),F.offsetX=F.clientX-L.left,F.offsetY=F.clientY-L.top,F}(w,0,0,k=k===void 0||k,document.defaultView,O,N),O=!w.dispatchEvent(O),_.mode=0,O}function b(g,w){if(!g||g===s[7])return w;if(w===o[1]){if(g.indexOf(o[1])===0)return o[1]}else if(w===o[3]){if(g.indexOf(o[3])===0||-1<g.indexOf("Link"))return o[3]}else if(w===o[2]&&(g.indexOf(o[2])===0||-1<g.indexOf("Move")))return o[2];return o[0]}var R=(C.prototype.o=function(){var g=this;this.u=1,this.l=o[0],this.v={data:{},effectAllowed:void 0,mode:3,types:[]},this.p={x:null,y:null},this.g={x:null,y:null};var w=this.m;if(this.I=new x(this.v,function(k,N,L){w=k,typeof N!="number"&&typeof L!="number"||(g.j={x:N||0,y:L||0})}),this.v.mode=2,this.I.dropEffect=o[0],A("dragstart",this.m,this.k,this.v,this.I))return this.u=3,this.C(),!1;y("page",this.k,this.g);var P,_,O=this.S.dragImageSetup(w);return this.A=(P=O,v.map(function(k){return k=P.style[k+"transform"],k&&k!=="none"?k.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),O.style.position="absolute",O.style.left="0px",O.style.top="0px",O.style.zIndex="999999",O.classList.add("dnd-poly-drag-image"),O.classList.add("dnd-poly-icon"),this.O=O,this.j||(this.S.dragImageOffset?this.j={x:this.S.dragImageOffset.x,y:this.S.dragImageOffset.y}:this.S.dragImageCenterOnTouch?(_=getComputedStyle(w),this.j={x:0-parseInt(_.marginLeft,10),y:0-parseInt(_.marginTop,10)}):(O=w.getBoundingClientRect(),_=getComputedStyle(w),this.j={x:O.left-this.M.clientX-parseInt(_.marginLeft,10)+O.width/2,y:O.top-this.M.clientY-parseInt(_.marginTop,10)+O.height/2})),p(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch),document.body.appendChild(this.O),this.D=window.setInterval(function(){g.F||(g.F=!0,g.N(),g.F=!1)},this.S.iterationInterval),!0},C.prototype.C=function(){this.D&&(clearInterval(this.D),this.D=null),d("touchmove",this.P),d("touchend",this.T),d("touchcancel",this.T),this.O&&(this.O.parentNode.removeChild(this.O),this.O=null),this.L(this.S,this.k,this.u)},C.prototype._=function(g){var w=this;if(m(g,this.M.identifier)!==!1){if(this.k=g,this.u===0){var P=void 0;if(this.S.dragStartConditionOverride)try{P=this.S.dragStartConditionOverride(g)}catch{P=!1}else P=g.touches.length===1;return P?void(this.o()===!0&&(this.H.preventDefault(),g.preventDefault())):void this.C()}if(g.preventDefault(),y("client",g,this.p),y("page",g,this.g),this.S.dragImageTranslateOverride)try{var _=!1;if(this.S.dragImageTranslateOverride(g,{x:this.p.x,y:this.p.y},this.V,function(O,k){w.O&&(_=!0,w.p.x+=O,w.p.y+=k,w.g.x+=O,w.g.y+=k,p(w.O,w.g,w.A,w.j,w.S.dragImageCenterOnTouch))}),_)return}catch{}p(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch)}},C.prototype.X=function(g){if(m(g,this.M.identifier)!==!1){if(this.S.dragImageTranslateOverride)try{this.S.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch{}this.u!==0?(g.preventDefault(),this.u=g.type==="touchcancel"?3:2):this.C()}},C.prototype.N=function(){var g=this,w=this.l;this.v.mode=3,this.I.dropEffect=o[0];var P,_,O,k,N,L=A("drag",this.m,this.k,this.v,this.I);if(L&&(this.l=o[0]),L||this.u===2||this.u===3)return this.Y(this.u)?(k=this.m,P=this.O,_=this.A,V=function(){g.q()},void((N=getComputedStyle(k)).visibility!=="hidden"&&N.display!=="none"?(P.classList.add("dnd-poly-snapback"),O=getComputedStyle(P),L=parseFloat(O.transitionDuration),isNaN(L)||L===0?V():((k={x:(D=k.getBoundingClientRect()).left,y:D.top}).x+=document.body.scrollLeft||document.documentElement.scrollLeft,k.y+=document.body.scrollTop||document.documentElement.scrollTop,k.x-=parseInt(N.marginLeft,10),k.y-=parseInt(N.marginTop,10),D=parseFloat(O.transitionDelay),D=Math.round(1e3*(L+D)),p(P,k,_,void 0,!1),setTimeout(V,D))):V())):void this.q();var D=this.S.elementFromPoint(this.p.x,this.p.y),V=this.B;D!==this.V&&D!==this.B&&(this.V=D,this.B!==null&&(this.v.mode=3,this.I.dropEffect=o[0],A("dragexit",this.B,this.k,this.v,this.I,!1)),this.V===null?this.B=this.V:(this.v.mode=3,this.I.dropEffect=j(this.v.effectAllowed,this.m),A("dragenter",this.V,this.k,this.v,this.I)?(this.B=this.V,this.l=b(this.I.effectAllowed,this.I.dropEffect)):this.V!==document.body&&(this.B=document.body))),V!==this.B&&u(V)&&(this.v.mode=3,this.I.dropEffect=o[0],A("dragleave",V,this.k,this.v,this.I,!1,this.B)),u(this.B)&&(this.v.mode=3,this.I.dropEffect=j(this.v.effectAllowed,this.m),A("dragover",this.B,this.k,this.v,this.I)===!1?this.l=o[0]:this.l=b(this.I.effectAllowed,this.I.dropEffect)),w!==this.l&&this.O.classList.remove(n+w),w=n+this.l,this.O.classList.add(w)},C.prototype.Y=function(g){return g=this.l===o[0]||this.B===null||g===3,g?u(this.B)&&(this.v.mode=3,this.I.dropEffect=o[0],A("dragleave",this.B,this.k,this.v,this.I,!1)):u(this.B)&&(this.v.mode=1,this.I.dropEffect=this.l,A("drop",this.B,this.k,this.v,this.I)===!0?this.l=this.I.dropEffect:this.l=o[0]),g},C.prototype.q=function(){this.v.mode=3,this.I.dropEffect=this.l,A("dragend",this.m,this.k,this.v,this.I,!1),this.u=2,this.C()},C);function C(g,w,P,_){this.H=g,this.S=w,this.m=P,this.L=_,this.u=0,this.V=null,this.B=null,this.k=g,this.M=g.changedTouches[0],this.P=this._.bind(this),this.T=this.X.bind(this),c("touchmove",this.P,!1),c("touchend",this.T,!1),c("touchcancel",this.T,!1)}var B,W={iterationInterval:150,tryFindDraggableTarget:function(g){for(var w=0,P=g.composedPath();w<P.length;w++){var _=P[w];do if(_.draggable!==!1&&(_.draggable===!0||_.getAttribute&&_.getAttribute("draggable")==="true"))return _;while((_=_.parentNode)&&_!==document.body)}},dragImageSetup:function(g){var w=g.cloneNode(!0);return function P(_,O){if(_.nodeType===1){for(var k,N,L=getComputedStyle(_),D=0;D<L.length;D++){var V=L[D];O.style.setProperty(V,L.getPropertyValue(V),L.getPropertyPriority(V))}O.style.pointerEvents="none",O.removeAttribute("id"),O.removeAttribute("class"),O.removeAttribute("draggable"),O.nodeName==="CANVAS"&&(k=O,N=(N=_).getContext("2d").getImageData(0,0,N.width,N.height),k.getContext("2d").putImageData(N,0,0))}if(_.hasChildNodes())for(D=0;D<_.childNodes.length;D++)P(_.childNodes[D],O.childNodes[D]);(function Kt(X){if(X instanceof HTMLElement&&(X.style.pointerEvents="none"),X.children&&X.children.length)for(var oe=0;oe<X.children.length;oe++)Kt(X.children[oe]);if(X.shadowRoot&&X.shadowRoot.children.length)for(oe=0;oe<X.shadowRoot.children.length;oe++)Kt(X.shadowRoot.children[oe])})(O)}(g,w),w},elementFromPoint:function(g,w){var P=document.elementFromPoint(g,w);if(P){for(;P.shadowRoot;){var _=P.shadowRoot.elementFromPoint(g,w);if(_===null||_===P)break;P=_}return P}}};function z(g){if(!B){var w=W.tryFindDraggableTarget(g);if(w)try{B=new R(g,W,w,Ht)}catch(P){throw Ht(W,g,3),P}}}function xe(g){function w(D){O.off(),k.off(),N.off(),L.off(),P&&P.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(_)}var P=g.target;P&&P.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var _=window.setTimeout(function(){O.off(),k.off(),N.off(),L.off(),z(g)},W.holdToDrag),O=f(P,"touchend",w),k=f(P,"touchcancel",w),N=f(P,"touchmove",w),L=f(window,"scroll",w,!0)}function Ht(g,w,P){if(P===0&&g.defaultActionOverride)try{g.defaultActionOverride(w),w.defaultPrevented}catch{}B=null}r.polyfill=function(g){if(g&&Object.keys(g).forEach(function(P){W[P]=g[P]}),!W.forceApply&&(w=(w=!!window.chrome||/chrome/i.test(navigator.userAgent),{dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||w&&"ontouchstart"in document.documentElement)}),w.userAgentSupportingNativeDnD&&w.draggable&&w.dragEvents))return!1;var w;return W.holdToDrag?c("touchstart",xe,!1):c("touchstart",z,!1),!0},r.supportsPassiveEventListener=i,Object.defineProperty(r,"G",{value:!0})})}($e,$e.exports)),$e.exports}var js=Es();const Ps=()=>{const[e,t]=E.useState(!1);E.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{t(!0)})},[]);const r=()=>{window.location.reload()};return e?l.jsxs("div",{className:"fixed bottom-4 left-4 right-4 bg-purple-600 text-white p-4 rounded-lg shadow-lg flex justify-between items-center z-50",children:[l.jsx("span",{children:"New version available!"}),l.jsx("button",{onClick:r,className:"bg-white text-purple-600 px-4 py-2 rounded-md",children:"Update"})]}):null};class _s extends E.Component{constructor(){super(...arguments);Yt(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Uncaught error:",r,n)}render(){return this.state.hasError?this.props.fallback:this.props.children}}var bt={exports:{}},wt={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sr;function Os(){if(Sr)return wt;Sr=1;var e=Lt();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function a(f,h){var m=h(),y=n({inst:{value:m,getSnapshot:h}}),v=y[0].inst,p=y[1];return o(function(){v.value=m,v.getSnapshot=h,u(v)&&p({inst:v})},[f,m,h]),s(function(){return u(v)&&p({inst:v}),f(function(){u(v)&&p({inst:v})})},[f]),i(m),m}function u(f){var h=f.getSnapshot;f=f.value;try{var m=h();return!r(f,m)}catch{return!0}}function c(f,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return wt.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,wt}var Er;function on(){return Er||(Er=1,bt.exports=Os()),bt.exports}on();var xt={exports:{}},St={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jr;function As(){if(jr)return St;jr=1;var e=Lt(),t=on();function r(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,o=e.useRef,i=e.useEffect,a=e.useMemo,u=e.useDebugValue;return St.useSyncExternalStoreWithSelector=function(c,d,f,h,m){var y=o(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=a(function(){function x(R){if(!S){if(S=!0,j=R,R=h(R),m!==void 0&&v.hasValue){var C=v.value;if(m(C,R))return A=C}return A=R}if(C=A,n(j,R))return C;var B=h(R);return m!==void 0&&m(C,B)?(j=R,C):(j=R,A=B)}var S=!1,j,A,b=f===void 0?null:f;return[function(){return x(d())},b===null?void 0:function(){return x(b())}]},[d,f,h,m]);var p=s(c,y[0],y[1]);return i(function(){v.hasValue=!0,v.value=p},[p]),u(p),p},St}var Pr;function ks(){return Pr||(Pr=1,xt.exports=As()),xt.exports}var Rs=ks();function Ns(e){e()}let sn=Ns;const Is=e=>sn=e,Ts=()=>sn,_r=Symbol.for("react-redux-context"),Or=typeof globalThis<"u"?globalThis:{};function Cs(){var e;if(!E.createContext)return{};const t=(e=Or[_r])!=null?e:Or[_r]=new Map;let r=t.get(E.createContext);return r||(r=E.createContext(null),t.set(E.createContext,r)),r}const ge=Cs();function qt(e=ge){return function(){return E.useContext(e)}}const an=qt(),Ds=()=>{throw new Error("uSES not initialized!")};let cn=Ds;const Ls=e=>{cn=e},Ms=(e,t)=>e===t;function $s(e=ge){const t=e===ge?an:qt(e);return function(n,s={}){const{equalityFn:o=Ms,stabilityCheck:i=void 0,noopCheck:a=void 0}=typeof s=="function"?{equalityFn:s}:s,{store:u,subscription:c,getServerState:d,stabilityCheck:f,noopCheck:h}=t();E.useRef(!0);const m=E.useCallback({[n.name](v){return n(v)}}[n.name],[n,f,i]),y=cn(c.addNestedSub,u.getState,d||u.getState,m,o);return E.useDebugValue(y),y}}const at=$s();var Et={exports:{}},I={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ar;function Us(){if(Ar)return I;Ar=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,y=e?Symbol.for("react.lazy"):60116,v=e?Symbol.for("react.block"):60121,p=e?Symbol.for("react.fundamental"):60117,x=e?Symbol.for("react.responder"):60118,S=e?Symbol.for("react.scope"):60119;function j(b){if(typeof b=="object"&&b!==null){var R=b.$$typeof;switch(R){case t:switch(b=b.type,b){case u:case c:case n:case o:case s:case f:return b;default:switch(b=b&&b.$$typeof,b){case a:case d:case y:case m:case i:return b;default:return R}}case r:return R}}}function A(b){return j(b)===c}return I.AsyncMode=u,I.ConcurrentMode=c,I.ContextConsumer=a,I.ContextProvider=i,I.Element=t,I.ForwardRef=d,I.Fragment=n,I.Lazy=y,I.Memo=m,I.Portal=r,I.Profiler=o,I.StrictMode=s,I.Suspense=f,I.isAsyncMode=function(b){return A(b)||j(b)===u},I.isConcurrentMode=A,I.isContextConsumer=function(b){return j(b)===a},I.isContextProvider=function(b){return j(b)===i},I.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},I.isForwardRef=function(b){return j(b)===d},I.isFragment=function(b){return j(b)===n},I.isLazy=function(b){return j(b)===y},I.isMemo=function(b){return j(b)===m},I.isPortal=function(b){return j(b)===r},I.isProfiler=function(b){return j(b)===o},I.isStrictMode=function(b){return j(b)===s},I.isSuspense=function(b){return j(b)===f},I.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===c||b===o||b===s||b===f||b===h||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===m||b.$$typeof===i||b.$$typeof===a||b.$$typeof===d||b.$$typeof===p||b.$$typeof===x||b.$$typeof===S||b.$$typeof===v)},I.typeOf=j,I}var kr;function Fs(){return kr||(kr=1,Et.exports=Us()),Et.exports}var jt,Rr;function Bs(){if(Rr)return jt;Rr=1;var e=Fs(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=n,o[e.Memo]=s;function i(y){return e.isMemo(y)?s:o[y.$$typeof]||t}var a=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;function m(y,v,p){if(typeof v!="string"){if(h){var x=f(v);x&&x!==h&&m(y,x,p)}var S=u(v);c&&(S=S.concat(c(v)));for(var j=i(y),A=i(v),b=0;b<S.length;++b){var R=S[b];if(!r[R]&&!(p&&p[R])&&!(A&&A[R])&&!(j&&j[R])){var C=d(v,R);try{a(y,R,C)}catch{}}}}return y}return jt=m,jt}var Ws=Bs();const Ea=$r(Ws);var Pt={exports:{}},T={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nr;function zs(){if(Nr)return T;Nr=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),a=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function v(p){if(typeof p=="object"&&p!==null){var x=p.$$typeof;switch(x){case e:switch(p=p.type,p){case r:case s:case n:case c:case d:return p;default:switch(p=p&&p.$$typeof,p){case a:case i:case u:case h:case f:case o:return p;default:return x}}case t:return x}}}return T.ContextConsumer=i,T.ContextProvider=o,T.Element=e,T.ForwardRef=u,T.Fragment=r,T.Lazy=h,T.Memo=f,T.Portal=t,T.Profiler=s,T.StrictMode=n,T.Suspense=c,T.SuspenseList=d,T.isAsyncMode=function(){return!1},T.isConcurrentMode=function(){return!1},T.isContextConsumer=function(p){return v(p)===i},T.isContextProvider=function(p){return v(p)===o},T.isElement=function(p){return typeof p=="object"&&p!==null&&p.$$typeof===e},T.isForwardRef=function(p){return v(p)===u},T.isFragment=function(p){return v(p)===r},T.isLazy=function(p){return v(p)===h},T.isMemo=function(p){return v(p)===f},T.isPortal=function(p){return v(p)===t},T.isProfiler=function(p){return v(p)===s},T.isStrictMode=function(p){return v(p)===n},T.isSuspense=function(p){return v(p)===c},T.isSuspenseList=function(p){return v(p)===d},T.isValidElementType=function(p){return typeof p=="string"||typeof p=="function"||p===r||p===s||p===n||p===c||p===d||p===m||typeof p=="object"&&p!==null&&(p.$$typeof===h||p.$$typeof===f||p.$$typeof===o||p.$$typeof===i||p.$$typeof===u||p.$$typeof===y||p.getModuleId!==void 0)},T.typeOf=v,T}var Ir;function Vs(){return Ir||(Ir=1,Pt.exports=zs()),Pt.exports}Vs();function qs(){const e=Ts();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0,o=r={callback:n,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!s||t===null||(s=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const Tr={notify(){},get:()=>[]};function Hs(e,t){let r,n=Tr,s=0,o=!1;function i(v){d();const p=n.subscribe(v);let x=!1;return()=>{x||(x=!0,p(),f())}}function a(){n.notify()}function u(){y.onStateChange&&y.onStateChange()}function c(){return o}function d(){s++,r||(r=e.subscribe(u),n=qs())}function f(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=Tr)}function h(){o||(o=!0,d())}function m(){o&&(o=!1,f())}const y={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return y}const Ks=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gs=Ks?E.useLayoutEffect:E.useEffect;function Ys({store:e,context:t,children:r,serverState:n,stabilityCheck:s="once",noopCheck:o="once"}){const i=E.useMemo(()=>{const c=Hs(e);return{store:e,subscription:c,getServerState:n?()=>n:void 0,stabilityCheck:s,noopCheck:o}},[e,n,s,o]),a=E.useMemo(()=>e.getState(),[e]);Gs(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const u=t||ge;return E.createElement(u.Provider,{value:i},r)}function un(e=ge){const t=e===ge?an:qt(e);return function(){const{store:n}=t();return n}}const Xs=un();function Js(e=ge){const t=e===ge?Xs:un(e);return function(){return t().dispatch}}const ln=Js();Ls(Rs.useSyncExternalStoreWithSelector);Is(An.unstable_batchedUpdates);const Zs={ignoredActions:["auth/setUser"],ignoredActionPaths:["payload.createdAt","payload.updatedAt"],ignoredPaths:["auth.user.createdAt","auth.user.updatedAt"]},Re=us({reducer:{auth:xs},middleware:e=>e({serializableCheck:Zs})}),Qs={apiKey:"AIzaSyDgA76WHz1JzwEc1YeazhKTUxqxHzhcP2c",authDomain:"session-logger-3619e.firebaseapp.com",projectId:"session-logger-3619e",storageBucket:"session-logger-3619e.firebasestorage.app",messagingSenderId:"936476651752",appId:"1:936476651752:web:7048bd9fcc902dc816595d"},dn=_t().length?Fr():Br(Qs),K=Wr(dn);ae(dn);const ve="programs";async function ye(){const e=ae(),t=e.currentUser;if(!t||!t.uid)throw new Error("User must be logged in");if(await new Promise(r=>setTimeout(r,100)),e.currentUser!==t)throw new Error("Auth state changed unexpectedly");return{uid:t.uid}}function st(e){if(Array.isArray(e))return e.map(st);if(e&&typeof e=="object"){const t={};return Object.entries(e).forEach(([r,n])=>{n!==void 0&&(t[r]=st(n))}),t}return e}class Se extends Error{constructor(t){super(t),this.name="ProgramValidationError"}}function fn(e,t=!1){var r,n;if(console.log("[programService] Validating program:",{name:e.name,level:e.level,userId:e.userId,sessionCount:((r=e.sessions)==null?void 0:r.length)||0,isNew:t}),!((n=e.name)!=null&&n.trim()))throw new Se("Program name is required");if(!e.level)throw new Se("Program level is required");if(!t&&!e.id)throw new Se("Program ID is required for existing programs");if(!e.userId)throw new Se("Program must have a userId");e.sessions&&e.sessions.forEach((s,o)=>{var i;if(!((i=s.name)!=null&&i.trim()))throw new Se(`Session ${o+1} must have a name`);if(!Array.isArray(s.exercises))throw new Se(`Session ${o+1} must have an exercises array`);s.exercises.forEach((a,u)=>{var c;if(!((c=a.name)!=null&&c.trim()))throw new Se(`Exercise ${u+1} in session ${o+1} must have a name`)})}),console.log("[programService] Program validation passed")}const hn=async()=>{try{const e=await ye();console.log("[programService] Fetching programs for user:",e.uid);const t=te(K,ve),r=Hn(t,Kn("userId","==",e.uid)),n=await Je(r);if(n.empty)return console.log("[programService] No programs found for user:",e.uid),[];const o=(await Promise.all(n.docs.map(async i=>{try{const a=i.data();console.log(`[programService] Fetching sessions for program: ${i.id}`);const u=te(K,`${ve}/${i.id}/sessions`),c=await Je(u);console.log(`[programService] Found ${c.size} sessions for program: ${i.id}`);const d=c.docs.map(f=>{const h=f.data();return console.log(`[programService] Processing session: ${f.id}`,h),{id:f.id,name:h.name,exercises:(h.exercises||[]).map(m=>({id:m.id||crypto.randomUUID(),name:m.name,sets:m.sets||3,reps:m.reps||10,weight:m.weight||0,setsData:m.setsData||Array(m.sets||3).fill({reps:m.reps||10,weight:m.weight||0,difficulty:"MODERATE"})})),userId:e.uid,order:h.order??0}}).sort((f,h)=>(f.order??0)-(h.order??0));return{id:i.id,...a,sessions:d,userId:e.uid}}catch(a){return console.error(`[programService] Error fetching sessions for program ${i.id}:`,a),null}}))).filter(i=>i!==null);return console.log("[programService] Successfully fetched programs:",o.length),o}catch(e){throw console.error("[programService] Error fetching programs:",e),e}};function Cr(e){return e&&e.toDate?e.toDate().toISOString():new Date().toISOString()}const pn=async e=>{var t,r;try{const n=await ye();if(!n||!n.uid)throw new Error("Invalid user state");if(console.log("[programService] Creating program with sessions:",{userId:n.uid,programUserId:e.userId,sessionCount:((t=e.sessions)==null?void 0:t.length)||0,sessions:(r=e.sessions)==null?void 0:r.map(f=>({id:f.id,name:f.name,exerciseCount:f.exercises.length}))}),e.userId!==n.uid)throw console.error("[programService] User ID mismatch before processing:",{expected:n.uid,received:e.userId}),new Error("User ID mismatch");const s=Ce(K),o=$(te(K,ve)),i=G(),{sessions:a,...u}=e,c=st({...u,createdBy:n.uid,userId:n.uid,createdAt:i,updatedAt:i}),d={...c,id:o.id,createdAt:Cr(i),updatedAt:Cr(i),sessions:a||[]};console.log("[programService] About to validate program:",{name:d.name,level:d.level,userId:d.userId,sessionCount:d.sessions.length}),fn(d,!0),console.log("[programService] Adding program document to batch"),s.set(o,c),a&&a.length>0&&(console.log("[programService] Adding",a.length,"sessions to subcollection"),a.forEach((f,h)=>{var v;const m=$(te(o,"sessions")),y=st({...f,id:m.id,userId:n.uid,programId:o.id,order:f.order??h,createdAt:i,exercises:f.exercises||[]});console.log("[programService] Adding session to batch:",{name:y.name,exerciseCount:((v=y.exercises)==null?void 0:v.length)||0,userId:y.userId,programId:y.programId}),s.set(m,y)})),console.log("[programService] Committing program creation batch with",(a==null?void 0:a.length)||0,"sessions"),await s.commit(),console.log("[programService] Program created successfully with ID:",o.id)}catch(n){throw console.error("[programService] Error in createProgram:",n),n instanceof Error&&console.error("[programService] Error details:",{name:n.name,message:n.message,stack:n.stack}),n}},ei=async(e,t)=>{try{const r=await ye();if(fn(t),t.userId!==r.uid)throw new Error("You can only update your own programs");const n=G(),s=$(K,ve,e),o=Ce(K),{sessions:i,...a}=t;o.set(s,{...a,updatedAt:n},{merge:!0}),(await Je(te(s,"sessions"))).docs.forEach(c=>{o.delete(c.ref)}),i.forEach((c,d)=>{const f=$(te(s,"sessions"));o.set(f,{...c,id:f.id,order:c.order??d,userId:r.uid,programId:e})}),await o.commit(),console.log("[programService] Program updated successfully:",e)}catch(r){throw console.error("[programService] Error updating program:",r),r}},ti=async e=>{try{const t=await ye(),r=$(K,ve,e),n=await ee(r);if(!n.exists())throw new Error("Program not found");if(n.data().userId!==t.uid)throw new Error("You can only delete your own programs");const o=Ce(K);(await Je(te(r,"sessions"))).docs.forEach(a=>{o.delete(a.ref)}),o.delete(r),await o.commit(),console.log("[programService] Program deleted successfully:",e)}catch(t){throw console.error("[programService] Error deleting program:",t),t}},ja=async(e,t)=>{try{const r=await ye();console.log("[programService] Deleting session:",{programId:e,sessionId:t});const n=$(K,ve,e),s=await ee(n);if(!s.exists())throw new Error("Program not found");if(s.data().userId!==r.uid)throw new Error("You can only delete sessions from your own programs");const i=$(te(n,"sessions"),t);if(!(await ee(i)).exists())throw new Error("Session not found");const u=Ce(K);u.delete(i),u.update(n,{updatedAt:G()}),await u.commit(),console.log("[programService] Session deleted successfully:",{programId:e,sessionId:t})}catch(r){throw console.error("[programService] Error deleting session:",r),r}},Pa=async(e,t)=>{try{const r=await ye();console.log("[programService] Creating new session:",{programId:e,sessionName:t.name,exerciseCount:t.exercises.length});const n=$(K,ve,e),s=await ee(n);if(!s.exists())throw new Error("Program not found");if(s.data().userId!==r.uid)throw new Error("You can only add sessions to your own programs");const i=t.exercises.map(f=>({id:!f.id||f.id.startsWith("temp-")?crypto.randomUUID():f.id,name:f.name,notes:f.notes||"",order:f.order||0})),a=te(n,"sessions"),u=$(a),c={id:u.id,name:t.name,exercises:i,order:t.order??0,userId:r.uid,programId:e,createdAt:G(),updatedAt:G()},d=Ce(K);return d.set(u,c),d.update(n,{updatedAt:G()}),await d.commit(),console.log("[programService] Session created successfully:",{programId:e,sessionId:u.id,sessionName:t.name,exerciseCount:i.length}),u.id}catch(r){throw console.error("[programService] Error creating session:",r),r}},ri=async(e,t,r)=>{try{const n=await ye();console.log("[programService] Updating session exercises:",{programId:e,sessionId:t,exerciseCount:r.length});const s=$(K,ve,e),o=await ee(s);if(!o.exists())throw new Error("Program not found");if(o.data().userId!==n.uid)throw new Error("You can only update your own programs");const a=te(s,"sessions"),u=$(a,t),c=await ee(u);c.exists()||console.log("[programService] Session not found, creating new session:",t);const d=r.map(m=>{var p,x;const y=!m.id||m.id.startsWith("temp-")?crypto.randomUUID():m.id,v=m.setsData?m.setsData.map(S=>({reps:S.reps||m.reps||10,weight:typeof S.weight=="number"?S.weight:m.weight||0,difficulty:S.difficulty||"MODERATE"})):Array(m.sets||3).fill({reps:m.reps||10,weight:m.weight||0,difficulty:"MODERATE"});return{id:y,name:m.name,sets:v.length,reps:((p=v[0])==null?void 0:p.reps)||m.reps||10,weight:((x=v[0])==null?void 0:x.weight)||m.weight||0,setsData:v}}),f=Ce(K),h={exercises:d,updatedAt:G(),userId:n.uid,name:c.exists()?c.data().name:"New Session",order:c.exists()?c.data().order:0,programId:e};f.set(u,h,{merge:!0}),f.update(s,{updatedAt:G()}),await f.commit(),console.log("[programService] Session updated successfully:",{programId:e,sessionId:t,exerciseCount:d.length,sessionData:h}),console.log("[programService] Session exercises updated successfully:",{programId:e,sessionId:t,exerciseCount:d.length})}catch(n){throw console.error("[programService] Error updating session exercises:",n),n}},ni=async()=>{var r,n;const e=await ye(),t={name:"Test Strength Program",description:"A test program to verify permissions",level:"beginner",createdBy:e.uid,userId:e.uid,sessions:[{id:"temp-"+Date.now(),name:"Day 1 - Push",userId:e.uid,exercises:[{id:"1",name:"Bench Press",sets:3,reps:10,weight:60}]}]};console.log("[TEST] Creating test program with data:",{name:t.name,userId:t.userId,level:t.level,sessionCount:t.sessions.length});try{const s=ae();console.log("[TEST] Current auth state:",{isAuthenticated:!!s.currentUser,userId:(r=s.currentUser)==null?void 0:r.uid,email:(n=s.currentUser)==null?void 0:n.email}),await pn(t),console.log("[TEST] Test program created successfully");const o=await hn();if(console.log("[TEST] Retrieved programs:",o),o.length>0){const i=o[o.length-1];console.log("[TEST] Last program details:",{id:i.id,userId:i.userId,sessions:i.sessions.map(a=>({id:a.id,userId:a.userId,name:a.name}))})}}catch(s){throw console.error("[TEST] Error in test:",s),s}},H={debug:(...e)=>{},info:(...e)=>{console.info("[INFO]",...e)},warn:(...e)=>{console.warn("[WARN]",...e)},error:(...e)=>{console.error("[ERROR]",...e)},trace:(e,t="Object")=>{},verbose:(...e)=>{}},mn=E.createContext(void 0),oi=({children:e})=>{const[t,r]=E.useState([]),[n,s]=E.useState(!1),[o,i]=E.useState(null),[a,u]=E.useState(ce.currentUser),[c,d]=E.useState(!1);E.useEffect(()=>{const p=Ve(ce,x=>{H.debug("[ProgramsContext] Auth state changed:",(x==null?void 0:x.uid)||"no user"),u(x)});return()=>p()},[]);const f=E.useCallback(async(p=!1)=>{if(!a){r([]),s(!1);return}if(!(c&&!p)){d(!0),s(!0),i(null);try{H.debug("[ProgramsContext] Fetching programs for user:",a.uid);const x=await hn();H.debug("[ProgramsContext] Fetched programs:",x.length),r(x)}catch(x){const S=x instanceof Error?x.message:"Failed to fetch programs";console.error("[ProgramsContext] Error fetching programs:",x),i(S)}finally{s(!1),d(!1)}}},[a,c]);E.useEffect(()=>{a?(console.log("[ProgramsContext] User authenticated, fetching programs"),f(!0)):(console.log("[ProgramsContext] No user, clearing programs"),r([]),s(!1),d(!1))},[a]);const h=async p=>{var x;if(!a)throw new Error("User not authenticated");s(!0),i(null);try{console.log("[ProgramsContext] Creating program:",{name:p.name,sessionCount:((x=p.sessions)==null?void 0:x.length)||0,userId:a.uid}),await pn({...p,userId:a.uid}),console.log("[ProgramsContext] Program created successfully"),await f(!0)}catch(S){let j="Failed to create program";throw S instanceof Error&&(S.message.includes("Missing or insufficient permissions")?j="Permission denied. Please check your authentication and try again.":S.message.includes("Network")?j="Network error. Please check your connection and try again.":j=S.message),console.error("[ProgramsContext] Error creating program:",S),i(j),new Error(j)}finally{s(!1)}},m=async(p,x)=>{await ei(p,x),f(!0)},y=async(p,x,S)=>{await ri(p,x,S),f(!0)},v=async p=>{await ti(p),f(!0)};return l.jsx(mn.Provider,{value:{programs:t,isLoading:n,error:o,refresh:()=>f(!0),addProgram:h,updateProgram:m,updateSessionInProgram:y,deleteProgram:v},children:e})},gn=()=>{const e=E.useContext(mn);if(e===void 0)throw new Error("usePrograms must be used within a ProgramsProvider");return e};let si={data:""},ii=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||si,ai=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ci=/\/\*[^]*?\*\/|  +/g,Dr=/\n+/g,fe=(e,t)=>{let r="",n="",s="";for(let o in e){let i=e[o];o[0]=="@"?o[1]=="i"?r=o+" "+i+";":n+=o[1]=="f"?fe(i,o):o+"{"+fe(i,o[1]=="k"?"":t)+"}":typeof i=="object"?n+=fe(i,t?t.replace(/([^,])+/g,a=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,a):a?a+" "+u:u)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=fe.p?fe.p(o,i):o+":"+i+";")}return r+(t&&s?t+"{"+s+"}":s)+n},ie={},vn=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+vn(e[r]);return t}return e},ui=(e,t,r,n,s)=>{let o=vn(e),i=ie[o]||(ie[o]=(u=>{let c=0,d=11;for(;c<u.length;)d=101*d+u.charCodeAt(c++)>>>0;return"go"+d})(o));if(!ie[i]){let u=o!==e?e:(c=>{let d,f,h=[{}];for(;d=ai.exec(c.replace(ci,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Dr," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Dr," ").trim();return h[0]})(e);ie[i]=fe(s?{["@keyframes "+i]:u}:u,r?"":"."+i)}let a=r&&ie.g?ie.g:null;return r&&(ie.g=ie[i]),((u,c,d,f)=>{f?c.data=c.data.replace(f,u):c.data.indexOf(u)===-1&&(c.data=d?u+c.data:c.data+u)})(ie[i],t,n,a),i},li=(e,t,r)=>e.reduce((n,s,o)=>{let i=t[o];if(i&&i.call){let a=i(r),u=a&&a.props&&a.props.className||/^go/.test(a)&&a;i=u?"."+u:a&&typeof a=="object"?a.props?"":fe(a,""):a===!1?"":a}return n+s+(i??"")},"");function ct(e){let t=this||{},r=e.call?e(t.p):e;return ui(r.unshift?r.raw?li(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,ii(t.target),t.g,t.o,t.k)}let yn,Ct,Dt;ct.bind({g:1});let le=ct.bind({k:1});function di(e,t,r,n){fe.p=t,yn=e,Ct=r,Dt=n}function be(e,t){let r=this||{};return function(){let n=arguments;function s(o,i){let a=Object.assign({},o),u=a.className||s.className;r.p=Object.assign({theme:Ct&&Ct()},a),r.o=/ *go\d+/.test(u),a.className=ct.apply(r,n)+(u?" "+u:"");let c=e;return e[0]&&(c=a.as||e,delete a.as),Dt&&c[0]&&Dt(a),yn(c,a)}return s}}var fi=e=>typeof e=="function",it=(e,t)=>fi(e)?e(t):e,hi=(()=>{let e=0;return()=>(++e).toString()})(),bn=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),pi=20,wn=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,pi)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return wn(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},Xe=[],Pe={toasts:[],pausedAt:void 0},Ae=e=>{Pe=wn(Pe,e),Xe.forEach(t=>{t(Pe)})},mi={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},gi=(e={})=>{let[t,r]=E.useState(Pe),n=E.useRef(Pe);E.useEffect(()=>(n.current!==Pe&&r(Pe),Xe.push(r),()=>{let o=Xe.indexOf(r);o>-1&&Xe.splice(o,1)}),[]);let s=t.toasts.map(o=>{var i,a,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((i=e[o.type])==null?void 0:i.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((a=e[o.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||mi[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...t,toasts:s}},vi=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||hi()}),qe=e=>(t,r)=>{let n=vi(t,e,r);return Ae({type:2,toast:n}),n.id},q=(e,t)=>qe("blank")(e,t);q.error=qe("error");q.success=qe("success");q.loading=qe("loading");q.custom=qe("custom");q.dismiss=e=>{Ae({type:3,toastId:e})};q.remove=e=>Ae({type:4,toastId:e});q.promise=(e,t,r)=>{let n=q.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let o=t.success?it(t.success,s):void 0;return o?q.success(o,{id:n,...r,...r==null?void 0:r.success}):q.dismiss(n),s}).catch(s=>{let o=t.error?it(t.error,s):void 0;o?q.error(o,{id:n,...r,...r==null?void 0:r.error}):q.dismiss(n)}),e};var yi=(e,t)=>{Ae({type:1,toast:{id:e,height:t}})},bi=()=>{Ae({type:5,time:Date.now()})},Ue=new Map,wi=1e3,xi=(e,t=wi)=>{if(Ue.has(e))return;let r=setTimeout(()=>{Ue.delete(e),Ae({type:4,toastId:e})},t);Ue.set(e,r)},Si=e=>{let{toasts:t,pausedAt:r}=gi(e);E.useEffect(()=>{if(r)return;let o=Date.now(),i=t.map(a=>{if(a.duration===1/0)return;let u=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(u<0){a.visible&&q.dismiss(a.id);return}return setTimeout(()=>q.dismiss(a.id),u)});return()=>{i.forEach(a=>a&&clearTimeout(a))}},[t,r]);let n=E.useCallback(()=>{r&&Ae({type:6,time:Date.now()})},[r]),s=E.useCallback((o,i)=>{let{reverseOrder:a=!1,gutter:u=8,defaultPosition:c}=i||{},d=t.filter(m=>(m.position||c)===(o.position||c)&&m.height),f=d.findIndex(m=>m.id===o.id),h=d.filter((m,y)=>y<f&&m.visible).length;return d.filter(m=>m.visible).slice(...a?[h+1]:[0,h]).reduce((m,y)=>m+(y.height||0)+u,0)},[t]);return E.useEffect(()=>{t.forEach(o=>{if(o.dismissed)xi(o.id,o.removeDelay);else{let i=Ue.get(o.id);i&&(clearTimeout(i),Ue.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:yi,startPause:bi,endPause:n,calculateOffset:s}}},Ei=le`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ji=le`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pi=le`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_i=be("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ei} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ji} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Pi} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Oi=le`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ai=be("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Oi} 1s linear infinite;
`,ki=le`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ri=le`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ni=be("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ki} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ri} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ii=be("div")`
  position: absolute;
`,Ti=be("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ci=le`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Di=be("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ci} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Li=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?E.createElement(Di,null,t):t:r==="blank"?null:E.createElement(Ti,null,E.createElement(Ai,{...n}),r!=="loading"&&E.createElement(Ii,null,r==="error"?E.createElement(_i,{...n}):E.createElement(Ni,{...n})))},Mi=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,$i=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Ui="0%{opacity:0;} 100%{opacity:1;}",Fi="0%{opacity:1;} 100%{opacity:0;}",Bi=be("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Wi=be("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,zi=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=bn()?[Ui,Fi]:[Mi(r),$i(r)];return{animation:t?`${le(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${le(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Vi=E.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?zi(e.position||t||"top-center",e.visible):{opacity:0},o=E.createElement(Li,{toast:e}),i=E.createElement(Wi,{...e.ariaProps},it(e.message,e));return E.createElement(Bi,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:o,message:i}):E.createElement(E.Fragment,null,o,i))});di(E.createElement);var qi=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let o=E.useCallback(i=>{if(i){let a=()=>{let u=i.getBoundingClientRect().height;n(e,u)};a(),new MutationObserver(a).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return E.createElement("div",{ref:o,className:t,style:r},s)},Hi=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:bn()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},Ki=ct`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ge=16,Gi=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:o,containerClassName:i})=>{let{toasts:a,handlers:u}=Si(r);return E.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ge,left:Ge,right:Ge,bottom:Ge,pointerEvents:"none",...o},className:i,onMouseEnter:u.startPause,onMouseLeave:u.endPause},a.map(c=>{let d=c.position||t,f=u.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),h=Hi(d,f);return E.createElement(qi,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?Ki:"",style:h},c.type==="custom"?it(c.message,c):s?s(c):E.createElement(Vi,{toast:c,position:d}))}))};const Yi=({children:e})=>l.jsx(Ys,{store:Re,children:l.jsx(kn,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:l.jsxs(oi,{children:[e,l.jsx(Gi,{position:"top-center",toastOptions:{duration:2e3,style:{background:"#2a2a2a",color:"#fff"}}})]})})});H.info("Auth service initialized with origin:",window.location.origin);let xn=!1;const Sn=e=>({...e,createdAt:e.createdAt instanceof Ot?e.createdAt.toDate():e.createdAt,updatedAt:e.updatedAt instanceof Ot?e.updatedAt.toDate():e.updatedAt}),_a=async e=>{const{email:t,password:r,firstName:n,lastName:s,role:o}=e;try{const i=await Yn(ce,t,r),{uid:a}=i.user,u=Ot.now(),c={id:a,email:t,firstName:n,lastName:s,role:o,createdAt:u,updatedAt:u};return await Ye($(_e,"users",a),c),Sn(c)}catch(i){throw new Error(i.message)}},Oa=async e=>{const{email:t,password:r}=e;try{H.debug("Attempting to sign in with email:",t);const n=await Gn(ce,t,r),{uid:s}=n.user;H.debug("Sign in successful, fetching user data for uid:",s);const o=await ee($(_e,"users",s));if(!o.exists())throw H.error("User document not found in Firestore after login"),new Error("User data not found");return H.debug("User data retrieved from Firestore"),Sn(o.data())}catch(n){throw H.error("Login error:",n),new Error(n.message)}},En=async()=>{try{await zr(ce)}catch(e){throw new Error(e.message)}},Xi=()=>new Promise((e,t)=>{try{const r=Ve(ce,()=>{xn=!0,r(),e()},n=>{console.error("Auth initialization error:",n),t(n)})}catch(r){console.error("Auth setup error:",r),t(r)}}),Aa=async()=>{var e,t;try{xn||await Xi();const r=ce.currentUser;if(!r)return H.debug("No current user found"),null;H.debug("Fetching user data for:",r.uid);const n=await ee($(_e,"users",r.uid));if(!n.exists())return H.warn("User document not found in Firestore"),await zr(ce),null;const s=n.data();return H.debug("User data retrieved successfully"),{id:r.uid,email:s.email||r.email||"",firstName:s.firstName||"",lastName:s.lastName||"",role:s.role||"athlete",createdAt:((e=s.createdAt)==null?void 0:e.toDate())||new Date,updatedAt:((t=s.updatedAt)==null?void 0:t.toDate())||new Date}}catch(r){return H.error("Error getting user data:",r),null}},Ji=({isOpen:e,onClose:t})=>{const[r]=E.useState([{id:"darkMode",label:"Dark Mode",type:"switch",value:!0},{id:"defaultIncrements",label:"Default Weight Increments",type:"select",value:2.5,options:[{label:"1.0 kg",value:1},{label:"2.5 kg",value:2.5},{label:"5.0 kg",value:5}]}]);return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",children:l.jsx("div",{className:"fixed inset-y-0 right-0 max-w-sm w-full bg-bg-primary animate-slide-in-right",children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"p-4 border-b border-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Settings"}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-bg-secondary rounded-full transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.jsx("div",{className:"space-y-4",children:r.map(n=>{var s;return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-text-primary",children:n.label}),n.type==="switch"?l.jsx("button",{className:`w-12 h-6 rounded-full transition-colors ${n.value?"bg-accent-primary":"bg-bg-tertiary"}`,children:l.jsx("div",{className:`w-5 h-5 rounded-full bg-white transform transition-transform ${n.value?"translate-x-6":"translate-x-1"}`})}):n.type==="select"?l.jsx("select",{value:n.value,className:"bg-bg-tertiary text-text-primary px-3 py-1 rounded-md",children:(s=n.options)==null?void 0:s.map(o=>l.jsx("option",{value:o.value,children:o.label},o.value))}):null]},n.id)})})}),l.jsx("div",{className:"p-4 border-t border-border",children:l.jsx("div",{className:"text-sm text-text-secondary text-center",children:"App Version 1.0.0"})})]})})}):null},Zi=({isOpen:e,onClose:t})=>e?l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg shadow-xl max-w-md w-full p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-white",children:"Superset Guide"}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-lg transition-colors","aria-label":"Close guide",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"space-y-4 text-gray-300",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-white mb-2",children:"What is a Superset?"}),l.jsx("p",{className:"text-sm",children:"A superset is when you perform two or more exercises back-to-back with little to no rest between them. This increases intensity and saves time."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-white mb-2",children:"How to Create a Superset:"}),l.jsxs("ol",{className:"text-sm space-y-1 list-decimal list-inside",children:[l.jsx("li",{children:"Add at least 2 exercises to your workout"}),l.jsx("li",{children:'Click "Create Superset" button'}),l.jsx("li",{children:"Select the exercises you want to group"}),l.jsx("li",{children:"Give your superset a name (optional)"}),l.jsx("li",{children:'Click "Create" to finalize'})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-white mb-2",children:"Best Practices:"}),l.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"Group 2-3 exercises maximum"}),l.jsx("li",{children:"Use opposing muscle groups (e.g., chest + back)"}),l.jsx("li",{children:"Keep rest between exercises minimal (10-30s)"}),l.jsx("li",{children:"Rest normally between superset rounds"})]})]}),l.jsxs("div",{className:"bg-[#2196F3]/10 border border-[#2196F3] rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("svg",{className:"w-4 h-4 text-[#2196F3]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-sm font-medium text-white",children:"Tip"})]}),l.jsx("p",{className:"text-sm text-gray-300",children:"Exercises in a superset will be highlighted with a blue border and connected visually."})]})]}),l.jsx("button",{onClick:t,className:"w-full mt-6 px-4 py-2 bg-[#8B5CF6] text-white rounded-lg hover:bg-[#7C3AED] transition-colors",children:"Got it!"})]})}):null,Qi=({isOpen:e,onClose:t,onImport:r,onExport:n,onShowWorkoutSummary:s,onNavigateToday:o,onNavigatePrograms:i,onNavigateExercises:a})=>{const[u,c]=E.useState(!1),[d,f]=E.useState(!1),{user:h,isAuthenticated:m}=at(x=>x.auth),y=ln(),v=ze(),p=async()=>{try{await En(),y(nn()),t(),v("/")}catch(x){console.error("Logout error:",x)}};return e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 transition-opacity",onClick:t}),l.jsxs("div",{className:"fixed left-0 top-0 bottom-0 w-72 bg-[#23272F] z-50 shadow-xl flex flex-col translate-x-0 transition-transform duration-300 ease-in-out",children:[l.jsx("div",{className:"p-4 border-b border-[#3E4652]",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-[#F2F3F7] text-xl font-medium",children:"GYM KEEPER"}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-[#2D3440] rounded-full transition-colors","aria-label":"Close Menu",children:l.jsx("svg",{className:"w-5 h-5 text-[#B0B8C1] hover:text-[#F2F3F7] transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-4 py-3 text-[#F2F3F7] hover:bg-[#2D3440] rounded-lg transition-colors",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Exercise Log"]}),l.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 text-[#F2F3F7] hover:bg-[#2D3440] rounded-lg transition-colors",children:[l.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2a4 4 0 014-4h6"}),l.jsx("circle",{cx:"9",cy:"7",r:"4"})]}),"Programs"]}),l.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 px-4 py-3 text-[#F2F3F7] hover:bg-[#2D3440] rounded-lg transition-colors",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Exercise Database"]})]}),l.jsxs("div",{className:"pt-4 border-t border-[#3E4652] space-y-1",children:[l.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 text-text-primary hover:bg-bg-secondary rounded-lg transition-colors",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Workout Summary"]}),l.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-3 text-text-primary hover:bg-bg-secondary rounded-lg transition-colors",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Data"]}),l.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-4 py-3 text-text-primary hover:bg-bg-secondary rounded-lg transition-colors",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Import Data"]}),l.jsxs("button",{onClick:()=>c(!0),className:"w-full flex items-center gap-3 px-4 py-3 text-text-primary hover:bg-bg-secondary rounded-lg transition-colors",children:[l.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]}),l.jsxs("button",{onClick:()=>f(!0),className:"w-full flex items-center gap-3 px-4 py-3 text-text-primary hover:bg-bg-secondary rounded-lg transition-colors",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Superset Guide"]})]}),m&&h&&l.jsx("div",{className:"pt-4 border-t border-[#3E4652] space-y-3",children:l.jsxs("div",{className:"px-4 py-2",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-8 h-8 bg-[#2D3440] rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-[#F2F3F7]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-[#F2F3F7] text-sm font-medium",children:[h.firstName," ",h.lastName]}),l.jsx("p",{className:"text-[#B0B8C1] text-xs",children:h.email})]})]}),l.jsxs("button",{onClick:p,className:"w-full flex items-center gap-3 px-3 py-2 text-red-400 hover:bg-[#2D3440] rounded-lg transition-colors",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})}),!m&&l.jsxs("div",{className:"pt-4 border-t border-[#3E4652] space-y-2",children:[l.jsxs("button",{onClick:()=>{t(),v("/login")},className:"w-full flex items-center gap-3 px-4 py-3 text-[#F2F3F7] hover:bg-[#2D3440] rounded-lg transition-colors",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign In"]}),l.jsxs("button",{onClick:()=>{t(),v("/register")},className:"w-full flex items-center gap-3 px-4 py-3 text-[#F2F3F7] hover:bg-[#2D3440] rounded-lg transition-colors",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Sign Up"]})]})]})]}),l.jsx(Ji,{isOpen:u,onClose:()=>c(!1)}),l.jsx(Zi,{isOpen:d,onClose:()=>f(!1)})]}):null},ea=()=>{const{user:e,isAuthenticated:t,isLoading:r}=at(i=>i.auth),n=ln(),s=ze(),o=async()=>{try{await En(),n(nn()),s("/")}catch(i){console.error("Logout error:",i)}};return r?l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{className:"text-sm text-gray-300",children:"Loading..."})]}):t&&e?l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-sm text-gray-300 font-medium",children:["Welcome, ",e.firstName,"!"]}),l.jsx("button",{onClick:o,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors shadow-lg",children:"Logout"})]}):l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>s("/login"),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors shadow-lg",children:"Sign In"}),l.jsx("button",{onClick:()=>s("/register"),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors shadow-lg",children:"Sign Up"})]})},ta=({children:e})=>{const[t,r]=E.useState(!1),n=Ur(),s=ze(),{isAuthenticated:o}=at(f=>f.auth),i=["/"].includes(n.pathname),a=()=>{},u=()=>{},c=()=>{},d=f=>{r(!1),s(f)};return l.jsxs("div",{className:`min-h-screen flex flex-col ${i?"bg-bg-primary":"bg-bg-secondary"}`,children:[o&&l.jsx("button",{onClick:()=>r(!0),className:"fixed top-4 left-4 z-30 p-2 rounded-full bg-bg-primary hover:bg-bg-secondary shadow-lg","aria-label":"Open Menu",children:l.jsx("svg",{className:"w-6 h-6 text-text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),l.jsx("div",{className:`fixed top-4 z-30 ${o?"right-4":"left-1/2 transform -translate-x-1/2"}`,children:l.jsx(ea,{})}),l.jsx("main",{className:"flex-1 relative",children:l.jsx("div",{className:"container mx-auto px-4 py-6 pb-20",children:e})}),o&&l.jsx(Qi,{isOpen:t,onClose:()=>r(!1),onImport:u,onExport:a,onShowWorkoutSummary:c,onNavigateToday:()=>d("/"),onNavigatePrograms:()=>d("/programs"),onNavigateExercises:()=>d("/exercises?showCreate=true")})]})},ra="modulepreload",na=function(e){return"/"+e},Lr={},we=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=i(r.map(c=>{if(c=na(c),c in Lr)return;Lr[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":ra,d||(h.as="script"),h.crossOrigin="",h.href=c,u&&h.setAttribute("nonce",u),document.head.appendChild(h),d)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},oa=E.lazy(()=>we(()=>import("./Login-DAVd_Zz4.js"),__vite__mapDeps([0,1,2,3]))),sa=E.lazy(()=>we(()=>import("./Register-CrccN9HI.js"),__vite__mapDeps([4,1,2,3]))),ia=E.lazy(()=>we(()=>import("./ExerciseLog-DEcIf9Jp.js"),__vite__mapDeps([5,1,6,7,3,8,9,10]))),aa=E.lazy(()=>we(()=>import("./ProgramList-D6WBhRTq.js"),__vite__mapDeps([11,1,6,12,7,3,8,9]))),jn=E.lazy(()=>we(()=>import("./ProgramDetail-sV_Px1nl.js"),__vite__mapDeps([13,1,7,3,8,9,12]))),ca=E.lazy(()=>we(()=>import("./Debug-B_LmR-3p.js"),__vite__mapDeps([14,1,3]))),ua=E.lazy(()=>we(()=>import("./ExerciseOverview-DH5OZ_8D.js"),__vite__mapDeps([15,1,3,8]))),la=E.lazy(()=>we(()=>import("./SpeedAgilityPlyoPage-D4sNK1YQ.js"),__vite__mapDeps([16,1,9,10,3]))),da=()=>{const{id:e}=In(),{programs:t,updateProgram:r}=gn(),n=ze(),s=t.find(o=>o.id===e);return s?l.jsx(jn,{program:s,onBack:()=>n("/programs"),onUpdate:o=>r(s.id,o)}):l.jsx("div",{className:"text-white p-4",children:"Program not found"})},fa=()=>{const e=ze(),t=Ur(),{programs:r}=gn(),n=t.state;return r.length?l.jsx(jn,{program:r[0],selectionMode:!0,onBack:()=>e("/"),onUpdate:s=>{if(n!=null&&n.onSelect){const o=s.sessions.flatMap(i=>i.exercises.map(a=>({exercise:{id:a.id,name:a.name,description:"",type:"strength",category:"compound",primaryMuscles:[],secondaryMuscles:[],instructions:[],defaultUnit:"kg",metrics:{trackWeight:!0,trackReps:!0}},sets:[]})));n.onSelect(o)}e("/")}}):l.jsx("div",{className:"text-white p-4",children:"No programs found"})},Ee=({children:e})=>{const{isAuthenticated:t,isLoading:r}=at(n=>n.auth);return r?l.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-black",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600"}),l.jsx("div",{className:"ml-3 text-white",children:"Loading authentication..."})]}):t?l.jsx(l.Fragment,{children:e}):l.jsx(Nn,{to:"/login"})},ha=()=>l.jsx(E.Suspense,{fallback:l.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-black",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-600"}),l.jsx("div",{className:"ml-3 text-white",children:"Loading..."})]}),children:l.jsxs(Rn,{children:[l.jsx(se,{path:"/login",element:l.jsx(oa,{})}),l.jsx(se,{path:"/register",element:l.jsx(sa,{})}),l.jsx(se,{path:"/",element:l.jsx(Ee,{children:l.jsx(ia,{})})}),l.jsx(se,{path:"/exercises",element:l.jsx(Ee,{children:l.jsx(ua,{})})}),l.jsx(se,{path:"/speed-agility",element:l.jsx(Ee,{children:l.jsx(la,{})})}),l.jsx(se,{path:"/programs",element:l.jsx(Ee,{children:l.jsx(aa,{})})}),l.jsx(se,{path:"/programs/:id",element:l.jsx(Ee,{children:l.jsx(da,{})})}),l.jsx(se,{path:"/program-selection",element:l.jsx(Ee,{children:l.jsx(fa,{})})}),l.jsx(se,{path:"/debug",element:l.jsx(Ee,{children:l.jsx(ca,{})})})]})});js.polyfill();if("serviceWorker"in navigator){window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("ServiceWorker registration successful"),t.addEventListener("updatefound",()=>{const r=t.installing;r&&r.addEventListener("statechange",()=>{r.state==="installed"&&navigator.serviceWorker.controller&&window.dispatchEvent(new CustomEvent("swUpdated"))})})}).catch(t=>{console.error("ServiceWorker registration failed:",t)})});let e=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{e||(e=!0,window.location.reload())})}var Mr;(Mr=navigator.serviceWorker)==null||Mr.addEventListener("message",e=>{e.data&&e.data.type==="CACHE_UPDATED"&&console.log("Cache updated:",e.data.url)});const pa=()=>{const[e,t]=E.useState(!1);return E.useEffect(()=>{console.log("[Auth] Initializing auth state..."),Re.dispatch(wr(!0));const r=Ve(ce,async n=>{console.log("[Auth] Auth state changed:",n==null?void 0:n.uid);try{if(n){const s=await ee($(_e,"users",n.uid)),o=s.exists()?s.data():{email:n.email};Re.dispatch(yt({id:n.uid,email:n.email||o.email||"",firstName:o.firstName||"",lastName:o.lastName||"",role:o.role||"athlete",createdAt:o.createdAt?new Date(o.createdAt):new Date,updatedAt:o.updatedAt?new Date(o.updatedAt):new Date})),console.log("[Auth] User authenticated:",n.uid)}else Re.dispatch(yt(null)),console.log("[Auth] No user authenticated")}catch(s){console.error("[Auth] Error handling auth state change:",s),Re.dispatch(yt(null))}finally{Re.dispatch(wr(!1)),t(!0)}});return()=>{console.log("[Auth] Cleaning up auth listener"),r()}},[]),e?l.jsx(_s,{fallback:l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-[#1a1a1a] text-white p-4",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-400 mb-4",children:"Please refresh the page or try again later."}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Refresh Page"})]}),children:l.jsxs(Yi,{children:[l.jsx(Ps,{}),l.jsx(ta,{children:l.jsx(ha,{})})]})}):l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.2em"},children:"Initializing..."})},ma=()=>{var t,r;const e=ae();console.log("[AUTH DEBUG] Current auth state:",{currentUser:e.currentUser,uid:(t=e.currentUser)==null?void 0:t.uid,email:(r=e.currentUser)==null?void 0:r.email,isSignedIn:!!e.currentUser}),Ve(e,n=>{n?console.log("[AUTH DEBUG] User signed in:",{uid:n.uid,email:n.email,emailVerified:n.emailVerified,isAnonymous:n.isAnonymous}):console.log("[AUTH DEBUG] User signed out")})},ga=async()=>{var e,t;try{const r=ae();if(!r.currentUser)throw new Error("No user is currently signed in. Please sign in first.");console.log("[TEST] Testing program creation with user:",{uid:r.currentUser.uid,email:r.currentUser.email}),await ni(),console.log("[TEST] Program creation successful!")}catch(r){console.error("[TEST] Program creation failed:",r);const n=ae();throw console.log("[TEST DEBUG] Auth state during error:",{hasUser:!!n.currentUser,uid:(e=n.currentUser)==null?void 0:e.uid,email:(t=n.currentUser)==null?void 0:t.email}),r}};typeof window<"u"&&(window.debugAuth=ma,window.testProgramCreation=ga,window.testSimpleAuth=()=>{const e=ae(),t=e.currentUser;console.log("[SIMPLE AUTH TEST]",{hasUser:!!t,uid:t==null?void 0:t.uid,email:t==null?void 0:t.email,emailVerified:t==null?void 0:t.emailVerified,authIsLoaded:e.config!=null})});const va=async()=>new Promise((e,t)=>{const r=ae(),n=async s=>{if(!s){t(new Error("No user authenticated"));return}console.log("[PERMISSION TEST] Testing with user:",{uid:s.uid,email:s.email,emailVerified:s.emailVerified});try{const o=$(_e,"test","permissions-test");console.log("[PERMISSION TEST] Attempting to write test document..."),await Ye(o,{message:"Testing permissions",userId:s.uid,timestamp:G()}),console.log("[PERMISSION TEST] ✅ Successfully wrote test document"),console.log("[PERMISSION TEST] Attempting to read test document...");const i=await ee(o);console.log("[PERMISSION TEST] ✅ Successfully read test document:",i.exists());const a=$(_e,"programs","test-program-"+Date.now());console.log("[PERMISSION TEST] Attempting to write program document..."),await Ye(a,{name:"Test Program",description:"Testing program creation permissions",level:"beginner",userId:s.uid,createdBy:s.uid,createdAt:G(),updatedAt:G(),sessions:[],isPublic:!1,tags:[]}),console.log("[PERMISSION TEST] ✅ Successfully wrote program document");const u=$(_e,`programs/${a.id}/sessions`,"test-session-"+Date.now());console.log("[PERMISSION TEST] Attempting to write session document..."),await Ye(u,{name:"Test Session",exercises:[],order:0,userId:s.uid,programId:a.id,createdAt:G(),updatedAt:G()}),console.log("[PERMISSION TEST] ✅ Successfully wrote session document"),e({success:!0,message:"All permission tests passed!",user:{uid:s.uid,email:s.email}})}catch(o){console.error("[PERMISSION TEST] ❌ Permission test failed:",o),t(o)}};if(r.currentUser)n(r.currentUser);else{console.log("[PERMISSION TEST] Waiting for user authentication...");const s=Ve(r,o=>{s(),n(o)})}});typeof window<"u"&&(window.testFirestorePermissions=va);"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered:",e)}).catch(e=>{console.log("SW registration failed:",e)})});const ya=eo.createRoot(document.getElementById("root"));ya.render(l.jsx(Tn.StrictMode,{children:l.jsx(pa,{})}));export{_s as E,Qi as S,We as _,ce as a,at as b,q as c,_e as d,Sa as e,Zr as f,ot as g,Ea as h,Go as i,l as j,gn as k,Oa as l,ja as m,Pa as n,we as o,Aa as p,H as q,_a as r,yt as s,wr as t,ln as u};
//# sourceMappingURL=index-BW4wnaLN.js.map
