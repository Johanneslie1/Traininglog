import{u as $t,j as l,a as ui,d as di,h as hr,b as br,c as Ea,e as Ta,f as Ca,E as Na,S as Ra}from"./index-CwklxJwA.js";import{b as w,h as W,c as Pa,i as Ma,d as Ia}from"./react-vendor-DQubVtpq.js";import{A as H,a as Pe,b as Xe,u as ut,E as xr,S as Aa,g as wr,d as ja}from"./unifiedExerciseUtils-_WvBlEod.js";import{P as Ba}from"./ProgramModal-B2E4SvE3.js";import{a as kr,E as qa,P as Oa,C as Ua,b as La,c as St,S as Fa,D as Ve}from"./ExerciseHistoryPicker-BOb1YIKN.js";import{d as Ot,e as Wa,c as Ga,a as Ha}from"./speedAgilityFilters-CRyYMho7.js";import{E as _a}from"./ExerciseSetLogger-CYZYj5aJ.js";import{n as pi,q as mi,y as $a,t as fi,o as Sr}from"./firebase-vendor-C56ojj1e.js";import{g as et,v as Dr,a as Va,s as Er}from"./localStorageUtils-B-xqxCNH.js";import"./CreateExerciseDialog-BzC3l2rX.js";import"./auth-D3eg-LZj.js";function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},M.apply(null,arguments)}function tt(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;r[i]=e[i]}return r}function Ut(e,t){return Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ut(e,t)}const Tr=JSON.parse('[{"id":"endurance-14","name":"Jogging","description":"Easy-paced running for aerobic base building","type":"endurance","activityType":"ENDURANCE","category":"running","difficulty":"beginner","primaryMuscles":["quadriceps","hamstrings","calves"],"secondaryMuscles":["glutes","core"],"equipment":["running_shoes"],"environment":"outdoor","instructions":["Begin at conversational pace","Maintain upright posture","Land softly midfoot"],"tips":["Use talk test for pacing","Increase duration gradually"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-15","name":"Treadmill Run","description":"Indoor running on a treadmill","type":"endurance","activityType":"ENDURANCE","category":"running","difficulty":"beginner","primaryMuscles":["quadriceps","hamstrings","calves"],"secondaryMuscles":["glutes","core"],"equipment":["treadmill"],"environment":"indoor","instructions":["Set 1% incline","Run steady pace","Keep strides relaxed"],"tips":["Avoid holding rails","Use cadence 160-180 spm as guide"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-16","name":"Hill Repeats Run","description":"Repeated uphill running bouts with jog-down recovery","type":"endurance","activityType":"ENDURANCE","category":"running","difficulty":"intermediate","primaryMuscles":["glutes","quadriceps","calves"],"secondaryMuscles":["hamstrings","core"],"equipment":["running_shoes"],"environment":"outdoor","instructions":["Warm up 10 minutes","Run hard uphill 30–90 seconds","Walk/jog back to recover"],"tips":["Shorten stride uphill","Drive knees and arms"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-17","name":"Fartlek Run","description":"Unstructured speed play alternating faster and easy running","type":"endurance","activityType":"ENDURANCE","category":"running","difficulty":"intermediate","primaryMuscles":["quadriceps","hamstrings","calves"],"secondaryMuscles":["glutes","core"],"equipment":["running_shoes"],"environment":"outdoor","instructions":["Warm up easy 10 minutes","Alternate fast segments with easy jogs","Cool down 5–10 minutes"],"tips":["Let landmarks guide intervals","Keep effort controlled early"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-18","name":"Tempo Run","description":"Sustained comfortably hard running at threshold effort","type":"endurance","activityType":"ENDURANCE","category":"running","difficulty":"advanced","primaryMuscles":["quadriceps","hamstrings","calves"],"secondaryMuscles":["glutes","core"],"equipment":["running_shoes"],"environment":"outdoor","instructions":["Warm up 10 minutes","Run 20–40 minutes at steady hard pace","Cool down 10 minutes"],"tips":["Use talk test: short phrases","Even pacing over surges"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-19","name":"Track Intervals","description":"Structured running intervals on a track with recovery periods","type":"endurance","activityType":"ENDURANCE","category":"running","difficulty":"intermediate","primaryMuscles":["quadriceps","hamstrings","calves"],"secondaryMuscles":["glutes","core"],"equipment":["running_shoes","track"],"environment":"outdoor","instructions":["Warm up 10–15 minutes","Alternate fast laps with easy jog recoveries","Cool down 10 minutes"],"tips":["Use consistent splits","Run relaxed form"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-20","name":"Long Slow Distance Run","description":"Extended easy run to build aerobic capacity","type":"endurance","activityType":"ENDURANCE","category":"running","difficulty":"intermediate","primaryMuscles":["quadriceps","hamstrings","calves"],"secondaryMuscles":["glutes","core"],"equipment":["running_shoes","hydration"],"environment":"outdoor","instructions":["Maintain conversational pace","Fuel and hydrate periodically","Keep posture upright"],"tips":["Increase long run by 10% max per week","Soft surfaces reduce impact"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-21","name":"Beach Running","description":"Running on sand for increased demand and reduced impact","type":"endurance","activityType":"ENDURANCE","category":"running","difficulty":"intermediate","primaryMuscles":["calves","quadriceps","glutes"],"secondaryMuscles":["hamstrings","core"],"equipment":["running_shoes"],"environment":"outdoor","instructions":["Choose firmer wet sand near waterline","Shorten stride","Stay relaxed"],"tips":["Start with short durations","Mind camber to avoid imbalance"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-22","name":"Road Cycling","description":"Outdoor cycling on paved roads at steady pace","type":"endurance","activityType":"ENDURANCE","category":"cycling","difficulty":"beginner","primaryMuscles":["quadriceps","hamstrings","glutes"],"secondaryMuscles":["calves","core"],"equipment":["bicycle","helmet"],"environment":"outdoor","instructions":["Check tire pressure and brakes","Pedal smooth cadence 80–95 rpm","Maintain relaxed upper body"],"tips":["Obey traffic laws","Use lights and reflective gear"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-23","name":"Mountain Biking","description":"Off-road cycling on trails with varied terrain","type":"endurance","activityType":"ENDURANCE","category":"cycling","difficulty":"intermediate","primaryMuscles":["quadriceps","glutes","hamstrings"],"secondaryMuscles":["calves","core","upper_back"],"equipment":["mountain_bike","helmet"],"environment":"outdoor","instructions":["Look ahead on trail","Keep pedals level on descents","Shift before climbs"],"tips":["Lower tire pressure slightly for grip","Use dropper post if available"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-24","name":"Gravel Riding","description":"Cycling on unpaved gravel roads for mixed-surface endurance","type":"endurance","activityType":"ENDURANCE","category":"cycling","difficulty":"intermediate","primaryMuscles":["quadriceps","hamstrings","glutes"],"secondaryMuscles":["calves","core","forearms"],"equipment":["gravel_bike","helmet"],"environment":"outdoor","instructions":["Relax grip over washboard","Pick smooth lines","Maintain momentum on climbs"],"tips":["Wider tires improve comfort","Carry repair kit and spare tube"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-25","name":"Cyclocross Drills","description":"Short laps with dismounts and remounts for mixed-terrain endurance","type":"endurance","activityType":"ENDURANCE","category":"cycling","difficulty":"advanced","primaryMuscles":["quadriceps","glutes","hamstrings"],"secondaryMuscles":["calves","core","shoulders"],"equipment":["cyclocross_bike","helmet"],"environment":"outdoor","instructions":["Set short circuit","Include barriers and run-ups","Alternate hard laps with easy recovery"],"tips":["Practice smooth dismounts","Shoulder the bike safely"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-26","name":"Spin Bike Intervals","description":"Structured indoor cycling intervals with resistance changes","type":"endurance","activityType":"ENDURANCE","category":"cycling","difficulty":"intermediate","primaryMuscles":["quadriceps","hamstrings","glutes"],"secondaryMuscles":["calves","core"],"equipment":["spin_bike"],"environment":"indoor","instructions":["Warm up 10 minutes","Alternate 1–3 minute hard efforts with easy spins","Cool down 5–10 minutes"],"tips":["Keep cadence smooth","Sip water between sets"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-27","name":"Stationary Bike Steady State","description":"Continuous indoor cycling at moderate intensity","type":"endurance","activityType":"ENDURANCE","category":"cycling","difficulty":"beginner","primaryMuscles":["quadriceps","hamstrings"],"secondaryMuscles":["glutes","calves","core"],"equipment":["stationary_bike"],"environment":"indoor","instructions":["Set comfortable resistance","Maintain cadence 80–90 rpm","Keep shoulders relaxed"],"tips":["Adjust saddle height to hip level","Light grip on handlebars"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-28","name":"Pool Laps Easy","description":"Continuous easy-effort lap swimming for aerobic base","type":"endurance","activityType":"ENDURANCE","category":"swimming","difficulty":"beginner","primaryMuscles":["full_body"],"secondaryMuscles":[],"equipment":["swimsuit","goggles"],"environment":"pool","instructions":["Warm up 200–400m easy","Swim relaxed breathing every 3 strokes","Rest briefly as needed"],"tips":["Prioritize technique over speed","Streamline off the wall"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-29","name":"Swim Intervals","description":"Structured pool sets alternating fast and easy laps","type":"endurance","activityType":"ENDURANCE","category":"swimming","difficulty":"intermediate","primaryMuscles":["full_body"],"secondaryMuscles":[],"equipment":["swimsuit","goggles"],"environment":"pool","instructions":["Warm up 10 minutes","Perform sets like 10x100m with rest","Cool down easy 200m"],"tips":["Hold consistent splits","Focus on catch and body roll"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-30","name":"Kickboard Laps","description":"Swimming with kickboard to build leg endurance","type":"endurance","activityType":"ENDURANCE","category":"swimming","difficulty":"beginner","primaryMuscles":["hip_flexors","quadriceps","glutes","calves"],"secondaryMuscles":["core"],"equipment":["kickboard"],"environment":"pool","instructions":["Hold board lightly","Kick from hips","Keep head neutral"],"tips":["Small fast kicks","Maintain steady breathing pattern"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-31","name":"Pull Buoy Laps","description":"Upper-body focused swimming with pull buoy between legs","type":"endurance","activityType":"ENDURANCE","category":"swimming","difficulty":"intermediate","primaryMuscles":["lats","shoulders","triceps"],"secondaryMuscles":["core"],"equipment":["pull_buoy"],"environment":"pool","instructions":["Place buoy between thighs","Keep legs still","Focus on high-elbow catch"],"tips":["Engage lats","Keep body aligned and streamlined"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-32","name":"Aqua Jogging","description":"Deep-water running to build endurance with minimal impact","type":"endurance","activityType":"ENDURANCE","category":"aquatics","difficulty":"beginner","primaryMuscles":["hip_flexors","glutes","hamstrings"],"secondaryMuscles":["core","calves"],"equipment":["aqua_belt"],"environment":"pool","instructions":["Maintain upright torso","Drive knees and arms","Keep steady breathing"],"tips":["Use lane rope for guidance","Mimic running cadence"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-33","name":"Row Erg Steady State","description":"Continuous moderate-effort rowing for aerobic capacity","type":"endurance","activityType":"ENDURANCE","category":"rowing","difficulty":"beginner","primaryMuscles":["legs","back"],"secondaryMuscles":["core","arms"],"equipment":["rowing_machine"],"environment":"indoor","instructions":["Stroke rate 18–22 spm","Sequence legs-hips-arms","Keep neutral spine"],"tips":["Relax shoulders","Drive with legs first"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-34","name":"Row Erg Pyramid","description":"Rowing intervals with increasing then decreasing durations","type":"endurance","activityType":"ENDURANCE","category":"rowing","difficulty":"intermediate","primaryMuscles":["legs","back"],"secondaryMuscles":["core","arms"],"equipment":["rowing_machine"],"environment":"indoor","instructions":["Warm up 10 minutes","Row 1-2-3-4-3-2-1 minutes hard with equal rest","Cool down 5 minutes"],"tips":["Keep stroke length consistent","Monitor split pace"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-35","name":"Stair Sprints","description":"Short uphill stair runs with walk-down recovery","type":"endurance","activityType":"ENDURANCE","category":"climbing","difficulty":"intermediate","primaryMuscles":["quadriceps","glutes","calves"],"secondaryMuscles":["hamstrings","core"],"equipment":["stairs"],"environment":"indoor","instructions":["Warm up 10 minutes","Run stairs 10–30 seconds","Walk down to recover"],"tips":["Use forefoot contacts","Keep torso tall and drive arms"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-36","name":"Hiking","description":"Steady outdoor walking on trails with elevation changes","type":"endurance","activityType":"ENDURANCE","category":"walking","difficulty":"beginner","primaryMuscles":["quadriceps","glutes","calves"],"secondaryMuscles":["hamstrings","core"],"equipment":["hiking_shoes","hydration"],"environment":"outdoor","instructions":["Choose route by ability","Maintain conversational pace","Use poles if needed"],"tips":["Layer clothing for weather","Carry snacks and water"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-37","name":"Nordic Walking","description":"Walking with poles to engage upper body and increase intensity","type":"endurance","activityType":"ENDURANCE","category":"walking","difficulty":"beginner","primaryMuscles":["quadriceps","calves","glutes"],"secondaryMuscles":["shoulders","triceps","core"],"equipment":["walking_poles"],"environment":"outdoor","instructions":["Plant poles diagonally behind","Alternate arm-leg motion","Maintain tall posture"],"tips":["Light pole pressure","Short quick steps for cadence"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-38","name":"Race Walking","description":"Technique-focused brisk walking with continuous ground contact","type":"endurance","activityType":"ENDURANCE","category":"walking","difficulty":"advanced","primaryMuscles":["quadriceps","calves","hip_flexors"],"secondaryMuscles":["glutes","core"],"equipment":["walking_shoes"],"environment":"outdoor","instructions":["Straighten supporting leg","Hips rotate forward","Fast arm swing"],"tips":["Short stride high cadence","Practice form regularly"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-39","name":"Stair Machine Endurance","description":"Continuous climbing on a stair machine at steady pace","type":"endurance","activityType":"ENDURANCE","category":"machine_cardio","difficulty":"intermediate","primaryMuscles":["glutes","quadriceps"],"secondaryMuscles":["calves","hamstrings","core"],"equipment":["stair_machine"],"environment":"indoor","instructions":["Choose sustainable level","Maintain midfoot steps","Keep hands off rails"],"tips":["Short steps improve cadence","Focus on breathing rhythm"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-40","name":"Elliptical Intervals","description":"Alternating resistance and cadence on the elliptical","type":"endurance","activityType":"ENDURANCE","category":"machine_cardio","difficulty":"beginner","primaryMuscles":["quadriceps","hamstrings"],"secondaryMuscles":["glutes","calves","arms"],"equipment":["elliptical"],"environment":"indoor","instructions":["Warm up 5 minutes","Alternate 1–2 minutes hard with 1–2 minutes easy","Cool down 5 minutes"],"tips":["Keep heel contact","Match breath with cadence"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-41","name":"Air Bike Steady","description":"Fan bike session at constant moderate effort","type":"endurance","activityType":"ENDURANCE","category":"machine_cardio","difficulty":"beginner","primaryMuscles":["quadriceps","hamstrings","glutes"],"secondaryMuscles":["shoulders","arms","core"],"equipment":["air_bike"],"environment":"indoor","instructions":["Sit tall with neutral spine","Push-pull arms evenly","Maintain smooth cadence"],"tips":["Breathe through nose early","Relax grip on handles"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-42","name":"Air Bike Intervals","description":"Short high-intensity bouts on fan bike with easy recovery","type":"endurance","activityType":"ENDURANCE","category":"machine_cardio","difficulty":"intermediate","primaryMuscles":["quadriceps","glutes","hamstrings"],"secondaryMuscles":["shoulders","arms","core"],"equipment":["air_bike"],"environment":"indoor","instructions":["Warm up 8–10 minutes","Alternate 20–60s hard with 1–2min easy","Cool down 5 minutes"],"tips":["Control first intervals","Power from legs more than arms"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-43","name":"SkiErg Steady","description":"Upper-body dominant cardio using ski ergometer","type":"endurance","activityType":"ENDURANCE","category":"machine_cardio","difficulty":"beginner","primaryMuscles":["lats","triceps","core"],"secondaryMuscles":["glutes","hamstrings"],"equipment":["ski_erg"],"environment":"indoor","instructions":["Hinge at hips slightly","Drive handles down with lats","Keep cadence smooth"],"tips":["Relax neck and shoulders","Use full extension each pull"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-44","name":"SkiErg Intervals","description":"Alternating hard ski pulls with recovery periods","type":"endurance","activityType":"ENDURANCE","category":"machine_cardio","difficulty":"intermediate","primaryMuscles":["lats","triceps","core"],"secondaryMuscles":["glutes","hamstrings"],"equipment":["ski_erg"],"environment":"indoor","instructions":["Warm up 8 minutes","Perform 30–90s hard intervals with equal rest","Cool down 5 minutes"],"tips":["Keep rhythm consistent","Engage core on each drive"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-45","name":"Jump Rope Steady","description":"Continuous jump rope for cardiovascular endurance","type":"endurance","activityType":"ENDURANCE","category":"rope_work","difficulty":"beginner","primaryMuscles":["calves"],"secondaryMuscles":["forearms","shoulders","core"],"equipment":["jump_rope"],"environment":"indoor","instructions":["Jump low with soft knees","Keep elbows close to body","Turn rope from wrists"],"tips":["Use proper rope length","Break into short sets initially"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-46","name":"Jump Rope Intervals","description":"Timed rope skipping bouts with brief rests","type":"endurance","activityType":"ENDURANCE","category":"rope_work","difficulty":"intermediate","primaryMuscles":["calves"],"secondaryMuscles":["forearms","shoulders","core"],"equipment":["jump_rope"],"environment":"indoor","instructions":["Alternate 1 minute fast with 1 minute easy","Maintain relaxed shoulders","Land softly"],"tips":["Use metronome for cadence","Try alternating foot steps"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-47","name":"Shadow Boxing Rounds","description":"Continuous shadow boxing with timed rounds","type":"endurance","activityType":"ENDURANCE","category":"combat","difficulty":"beginner","primaryMuscles":["shoulders","back"],"secondaryMuscles":["core","legs"],"equipment":[],"environment":"indoor","instructions":["Set 2–3 minute rounds","Move and throw combinations","Keep guard up"],"tips":["Focus on breathing and rhythm","Light on feet to conserve energy"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-48","name":"Heavy Bag Rounds","description":"Punching heavy bag with active footwork for endurance","type":"endurance","activityType":"ENDURANCE","category":"combat","difficulty":"intermediate","primaryMuscles":["shoulders","chest","triceps"],"secondaryMuscles":["core","legs","back"],"equipment":["heavy_bag","gloves"],"environment":"indoor","instructions":["Work 2–3 minute rounds","Mix combos and movement","Recover 30–60s between rounds"],"tips":["Keep punches snappy not wild","Rotate hips for power efficiently"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-49","name":"Battle Rope Waves","description":"Sustained alternating rope waves for cardio conditioning","type":"endurance","activityType":"ENDURANCE","category":"rope_work","difficulty":"intermediate","primaryMuscles":["shoulders","forearms"],"secondaryMuscles":["back","core","legs"],"equipment":["battle_ropes"],"environment":"indoor","instructions":["Create steady alternating waves","Slight knee bend and neutral spine","Breathe rhythmically"],"tips":["Use shorter intervals initially","Relax grip to avoid forearm burn"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-50","name":"Kettlebell Snatch Sets","description":"High-rep kettlebell snatches performed in sets for endurance","type":"endurance","activityType":"ENDURANCE","category":"kettlebell","difficulty":"advanced","primaryMuscles":["posterior_chain","shoulders"],"secondaryMuscles":["forearms","core"],"equipment":["kettlebell"],"environment":"indoor","instructions":["Hinge and drive through hips","Punch through at top","Switch hands as needed"],"tips":["Use chalk and hand care","Keep bell path close"],"defaultUnit":"reps","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-51","name":"Kettlebell Swing EMOM","description":"Every-minute-on-the-minute kettlebell swings for sustained effort","type":"endurance","activityType":"ENDURANCE","category":"kettlebell","difficulty":"intermediate","primaryMuscles":["glutes","hamstrings","back"],"secondaryMuscles":["core","forearms"],"equipment":["kettlebell"],"environment":"indoor","instructions":["Perform set reps at start of each minute","Rest remainder of minute","Maintain consistent form"],"tips":["Explode with hips not arms","Pick sustainable rep count"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-52","name":"Bodyweight Circuit","description":"Continuous circuit of bodyweight moves with minimal rest","type":"endurance","activityType":"ENDURANCE","category":"circuit_training","difficulty":"beginner","primaryMuscles":["full_body"],"secondaryMuscles":[],"equipment":[],"environment":"indoor","instructions":["Select 4–6 movements","Work 30–60s each, cycle continuously","Rest 1–2 minutes between rounds"],"tips":["Keep transitions quick","Scale reps to maintain pace"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-53","name":"Row-Bike-Run Brick","description":"Back-to-back cardio modalities to build multi-sport endurance","type":"endurance","activityType":"ENDURANCE","category":"brick","difficulty":"intermediate","primaryMuscles":["full_body"],"secondaryMuscles":[],"equipment":["rowing_machine","stationary_bike","treadmill"],"environment":"indoor","instructions":["Set timed blocks per modality","Transition quickly","Keep steady pacing across segments"],"tips":["Prepare equipment ahead","Hydrate between transitions"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-54","name":"Duathlon Brick","description":"Run–bike–run training session mimicking duathlon format","type":"endurance","activityType":"ENDURANCE","category":"brick","difficulty":"advanced","primaryMuscles":["quadriceps","hamstrings","glutes"],"secondaryMuscles":["calves","core"],"equipment":["bicycle","helmet","running_shoes"],"environment":"outdoor","instructions":["Run warm-up distance","Cycle sustained effort","Finish with shorter run off the bike"],"tips":["Practice quick shoe changes","Fuel during bike leg"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-55","name":"Triathlon Brick","description":"Combined swim, bike, and run session for race specificity","type":"endurance","activityType":"ENDURANCE","category":"brick","difficulty":"advanced","primaryMuscles":["full_body"],"secondaryMuscles":[],"equipment":["goggles","bicycle","helmet","running_shoes"],"environment":"outdoor","instructions":["Swim open water or pool laps","Transition to bike steady effort","Finish with controlled run"],"tips":["Lay out transition gear","Practice pacing to avoid early burnout"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-56","name":"Row-Run Intervals","description":"Alternating rowing bouts with treadmill or track runs","type":"endurance","activityType":"ENDURANCE","category":"mixed_modal","difficulty":"intermediate","primaryMuscles":["legs","back"],"secondaryMuscles":["core","calves","glutes"],"equipment":["rowing_machine","treadmill"],"environment":"indoor","instructions":["Alternate equal time on rower and run","Keep transitions fast","Maintain consistent effort"],"tips":["Monitor heart rate if available","Adjust row pace to sustain quality runs"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-57","name":"Swim-Run Sets","description":"Repeated short swims followed by short runs for multi-environment endurance","type":"endurance","activityType":"ENDURANCE","category":"mixed_modal","difficulty":"advanced","primaryMuscles":["full_body"],"secondaryMuscles":[],"equipment":["goggles","running_shoes"],"environment":"outdoor","instructions":["Plan safe route between water and run path","Alternate swim and run segments","Manage transitions carefully"],"tips":["Use quick-drain shoes","Sight frequently in open water"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-58","name":"Rowing Marathon Prep","description":"Long-duration low-intensity indoor rowing for ultra-endurance","type":"endurance","activityType":"ENDURANCE","category":"rowing","difficulty":"advanced","primaryMuscles":["legs","back"],"secondaryMuscles":["core","forearms"],"equipment":["rowing_machine"],"environment":"indoor","instructions":["Keep rate 18–22 spm","Take brief hydration breaks","Monitor split to prevent fade"],"tips":["Use seat pad for comfort","Vary hand position occasionally"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-59","name":"Cycling Hill Repeats","description":"Repeated climbs at strong effort with easy descents","type":"endurance","activityType":"ENDURANCE","category":"cycling","difficulty":"intermediate","primaryMuscles":["quadriceps","glutes","hamstrings"],"secondaryMuscles":["calves","core"],"equipment":["bicycle","helmet"],"environment":"outdoor","instructions":["Select moderate gradient hill","Climb seated at steady power","Recover on descent or flat"],"tips":["Shift early to maintain cadence","Stay relaxed upper body"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-60","name":"Commuter Cycling","description":"Daily practical cycling at easy-to-moderate pace","type":"endurance","activityType":"ENDURANCE","category":"cycling","difficulty":"beginner","primaryMuscles":["quadriceps","hamstrings"],"secondaryMuscles":["glutes","calves","core"],"equipment":["bicycle","helmet","lights"],"environment":"outdoor","instructions":["Plan safe route","Maintain steady cadence","Obey traffic signals"],"tips":["Use fenders in wet weather","Carry repair kit"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":false},"isDefault":false},{"id":"endurance-61","name":"Rowing Sprint Intervals","description":"Short near-max rowing efforts with full recovery","type":"endurance","activityType":"ENDURANCE","category":"rowing","difficulty":"advanced","primaryMuscles":["legs","back"],"secondaryMuscles":["core","arms"],"equipment":["rowing_machine"],"environment":"indoor","instructions":["Warm up thoroughly","Sprint 10–30s hard","Rest 60–120s easy paddle"],"tips":["Explode with legs","Keep stroke rate under control"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-62","name":"Treadmill Incline Hike","description":"Steady incline walk to simulate uphill hiking","type":"endurance","activityType":"ENDURANCE","category":"walking","difficulty":"beginner","primaryMuscles":["glutes","quadriceps","calves"],"secondaryMuscles":["hamstrings","core"],"equipment":["treadmill"],"environment":"indoor","instructions":["Set incline 5–12%","Walk at steady pace","Avoid leaning on rails"],"tips":["Shorten stride on steeper grades","Focus on nasal breathing"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-63","name":"Stadium Steps","description":"Continuous stair walking or jogging in a stadium","type":"endurance","activityType":"ENDURANCE","category":"climbing","difficulty":"intermediate","primaryMuscles":["quadriceps","glutes","calves"],"secondaryMuscles":["hamstrings","core"],"equipment":["stadium_stairs"],"environment":"outdoor","instructions":["Ascend rows steadily","Descend carefully","Repeat sections with minimal rest"],"tips":["Use single steps for cadence","Hold rail for safety if needed"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-64","name":"Outdoor Circuit Stations","description":"Rotating through park stations for continuous cardio-muscular work","type":"endurance","activityType":"ENDURANCE","category":"circuit_training","difficulty":"beginner","primaryMuscles":["full_body"],"secondaryMuscles":[],"equipment":["park_stations"],"environment":"outdoor","instructions":["Follow circuit map","Spend 1–2 minutes per station","Jog between stations"],"tips":["Keep heart rate in aerobic zone","Scale movements to ability"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-65","name":"Row-Run-Bike Tri-Circuit","description":"Three-modality indoor circuit for sustained aerobic work","type":"endurance","activityType":"ENDURANCE","category":"mixed_modal","difficulty":"intermediate","primaryMuscles":["full_body"],"secondaryMuscles":[],"equipment":["rowing_machine","stationary_bike","treadmill"],"environment":"indoor","instructions":["Rotate every 5–10 minutes","Minimal rest between switches","Maintain consistent effort across all"],"tips":["Pre-set machines","Keep a water bottle accessible"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-66","name":"Rucking Hills","description":"Weighted pack walking on hilly terrain for endurance and strength","type":"endurance","activityType":"ENDURANCE","category":"walking","difficulty":"intermediate","primaryMuscles":["glutes","quadriceps","calves"],"secondaryMuscles":["hamstrings","core","traps"],"equipment":["ruck","weight"],"environment":"outdoor","instructions":["Pack weight evenly","Take short steps uphill","Descend carefully with bracing"],"tips":["Increase load gradually","Use padded straps and good socks"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-67","name":"Beach Walk","description":"Steady walking on sand for low-impact endurance","type":"endurance","activityType":"ENDURANCE","category":"walking","difficulty":"beginner","primaryMuscles":["calves","quadriceps"],"secondaryMuscles":["glutes","hamstrings","core"],"equipment":["walking_shoes"],"environment":"outdoor","instructions":["Choose comfortable sand firmness","Maintain steady pace","Keep posture upright"],"tips":["Start with shorter durations","Alternate between wet and dry sand for variety"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-68","name":"Outdoor Skating","description":"Inline or ice skating for continuous cardio","type":"endurance","activityType":"ENDURANCE","category":"skating","difficulty":"intermediate","primaryMuscles":["glutes","quadriceps","calves"],"secondaryMuscles":["hamstrings","core","adductors"],"equipment":["skates","protective_gear"],"environment":"outdoor","instructions":["Push laterally and glide","Keep knees slightly bent","Maintain rhythm and balance"],"tips":["Wear wrist guards and helmet","Practice controlled stopping"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-69","name":"Cross-Country Skiing","description":"Endurance skiing using classic or skate technique","type":"endurance","activityType":"ENDURANCE","category":"skiing","difficulty":"intermediate","primaryMuscles":["glutes","quadriceps","hamstrings"],"secondaryMuscles":["lats","triceps","core","calves"],"equipment":["xc_skis","poles"],"environment":"outdoor","instructions":["Use diagonal stride or skate","Coordinate pole plants","Keep weight over skis"],"tips":["Dress in breathable layers","Wax skis for conditions"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-70","name":"NordicTrack Ski Machine","description":"Indoor simulation of cross-country skiing movement","type":"endurance","activityType":"ENDURANCE","category":"machine_cardio","difficulty":"beginner","primaryMuscles":["glutes","quadriceps","lats"],"secondaryMuscles":["triceps","hamstrings","core"],"equipment":["ski_machine"],"environment":"indoor","instructions":["Alternate arm-leg motion","Keep strides smooth","Maintain upright torso"],"tips":["Start at low resistance","Focus on timing and rhythm"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-71","name":"Paddle Erg","description":"Indoor paddling for kayak/canoe endurance","type":"endurance","activityType":"ENDURANCE","category":"paddling","difficulty":"intermediate","primaryMuscles":["lats","shoulders","core"],"secondaryMuscles":["obliques","forearms"],"equipment":["paddle_erg"],"environment":"indoor","instructions":["Rotate through torso","Drive blade path straight","Keep cadence sustainable"],"tips":["Engage core over arms","Relax grip to save forearms"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-72","name":"Kayaking","description":"Steady paddling on flatwater for cardiovascular endurance","type":"endurance","activityType":"ENDURANCE","category":"paddling","difficulty":"beginner","primaryMuscles":["lats","shoulders","core"],"secondaryMuscles":["forearms","glutes"],"equipment":["kayak","paddle","PFD"],"environment":"outdoor","instructions":["Sit tall with engaged core","Alternate strokes smoothly","Keep blade vertical near boat"],"tips":["Wear PFD","Use torso rotation to protect shoulders"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-73","name":"Stand-Up Paddle","description":"Upright paddling on a board for steady-state cardio","type":"endurance","activityType":"ENDURANCE","category":"paddling","difficulty":"beginner","primaryMuscles":["core","lats","shoulders"],"secondaryMuscles":["glutes","legs","forearms"],"equipment":["sup_board","paddle","leash"],"environment":"outdoor","instructions":["Stagger feet hip-width","Stack arms and drive paddle","Switch sides periodically"],"tips":["Soft knees for balance","Paddle close to board for efficiency"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-74","name":"Row-Ski Erg Combo","description":"Alternating rowing and ski erg bouts for full-body endurance","type":"endurance","activityType":"ENDURANCE","category":"mixed_modal","difficulty":"intermediate","primaryMuscles":["legs","back","lats"],"secondaryMuscles":["core","arms"],"equipment":["rowing_machine","ski_erg"],"environment":"indoor","instructions":["Alternate equal time blocks","Keep transitions quick","Aim for consistent split targets"],"tips":["Manage grip fatigue","Match breathing to stroke rate"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-75","name":"Swimming Pull Sets","description":"Longer pull buoy sets for sustained upper-body aerobic work","type":"endurance","activityType":"ENDURANCE","category":"swimming","difficulty":"intermediate","primaryMuscles":["lats","shoulders","triceps"],"secondaryMuscles":["core"],"equipment":["pull_buoy","paddles"],"environment":"pool","instructions":["Use buoy and paddles as tolerated","Maintain smooth strokes","Rest briefly between long reps"],"tips":["Focus on catch efficiency","Keep elbow high through pull"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-76","name":"Rowing Technique Drills","description":"Low-intensity technical rowing with continuous movement","type":"endurance","activityType":"ENDURANCE","category":"rowing","difficulty":"beginner","primaryMuscles":["legs","back"],"secondaryMuscles":["core","arms"],"equipment":["rowing_machine"],"environment":"indoor","instructions":["Pause drills at knees and finish","Pick drills and rotate every 2–3 minutes","Keep strokes continuous"],"tips":["Emphasize sequencing","Relax grip to reduce fatigue"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":false},"isDefault":false},{"id":"endurance-77","name":"Aerobic Step Class","description":"Choreographed step platform workout at steady intensity","type":"endurance","activityType":"ENDURANCE","category":"aerobics","difficulty":"beginner","primaryMuscles":["quadriceps","glutes","calves"],"secondaryMuscles":["hamstrings","core"],"equipment":["step_platform"],"environment":"indoor","instructions":["Follow instructor cues","Maintain steady rhythm","Land softly on platform"],"tips":["Choose step height appropriate to fitness","Keep knees tracking over toes"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-78","name":"Low-Impact Cardio Class","description":"Continuous low-impact movements to elevate heart rate","type":"endurance","activityType":"ENDURANCE","category":"aerobics","difficulty":"beginner","primaryMuscles":["full_body"],"secondaryMuscles":[],"equipment":[],"environment":"indoor","instructions":["Follow sequences without jumping","Maintain continuous motion","Monitor breathing"],"tips":["Modify range of motion as needed","Stay hydrated"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":true},{"id":"endurance-79","name":"Zumba","description":"Dance-based cardio with continuous movement and rhythm changes","type":"endurance","activityType":"ENDURANCE","category":"dance","difficulty":"beginner","primaryMuscles":["legs","glutes"],"secondaryMuscles":["core","shoulders"],"equipment":[],"environment":"indoor","instructions":["Follow choreography","Keep steps light and bouncy","Move hips and arms actively"],"tips":["Focus on fun over perfection","Wear breathable clothing"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":false},"isDefault":false},{"id":"endurance-80","name":"Rowing Bike Erg Combo","description":"Alternating rowing and bike erg in sustained blocks","type":"endurance","activityType":"ENDURANCE","category":"mixed_modal","difficulty":"intermediate","primaryMuscles":["legs","back"],"secondaryMuscles":["core","glutes"],"equipment":["rowing_machine","bike_erg"],"environment":"indoor","instructions":["Work 5–10 minute blocks per erg","Transition quickly","Keep even pacing"],"tips":["Control first block intensity","Sip water between transitions"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-81","name":"Treadmill Tempo","description":"Controlled threshold running on treadmill","type":"endurance","activityType":"ENDURANCE","category":"running","difficulty":"advanced","primaryMuscles":["quadriceps","hamstrings","calves"],"secondaryMuscles":["glutes","core"],"equipment":["treadmill"],"environment":"indoor","instructions":["Warm up 10 minutes","Set threshold pace for 20–30 minutes","Cool down 10 minutes"],"tips":["Use slight incline 1%","Hold steady form throughout"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-82","name":"Rowing Rate Cap","description":"Steady rowing with capped stroke rate to develop efficiency","type":"endurance","activityType":"ENDURANCE","category":"rowing","difficulty":"intermediate","primaryMuscles":["legs","back"],"secondaryMuscles":["core","arms"],"equipment":["rowing_machine"],"environment":"indoor","instructions":["Set cap 20–22 spm","Hold pace with strong drive","Focus on long recoveries"],"tips":["Relax hands between strokes","Keep heels connected early in drive"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":false},"isDefault":false},{"id":"endurance-83","name":"Walking Intervals","description":"Alternating brisk and easy walking segments","type":"endurance","activityType":"ENDURANCE","category":"walking","difficulty":"beginner","primaryMuscles":["quadriceps","calves"],"secondaryMuscles":["glutes","hamstrings","core"],"equipment":["walking_shoes"],"environment":"outdoor","instructions":["Warm up 5 minutes easy","Alternate 2–4 minutes fast with 2 minutes easy","Cool down 5 minutes"],"tips":["Pump arms to increase speed","Use landmarks to cue segments"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":false},"isDefault":false},{"id":"endurance-84","name":"Pool Running Intervals","description":"Deep-water running sprints with recovery jogs","type":"endurance","activityType":"ENDURANCE","category":"aquatics","difficulty":"intermediate","primaryMuscles":["hip_flexors","glutes","hamstrings"],"secondaryMuscles":["core","calves"],"equipment":["aqua_belt"],"environment":"pool","instructions":["Sprint 30–60s","Recover 60–90s easy jog","Repeat for sets"],"tips":["High knee drive","Keep torso vertical without leaning"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-85","name":"Rowing Long Intervals","description":"Longer rowing repeats at sub-threshold effort","type":"endurance","activityType":"ENDURANCE","category":"rowing","difficulty":"intermediate","primaryMuscles":["legs","back"],"secondaryMuscles":["core","arms"],"equipment":["rowing_machine"],"environment":"indoor","instructions":["Perform 2–4x10 minutes with short rests","Hold consistent split","Maintain relaxed form"],"tips":["Focus on breathing rhythm","Keep stroke length uniform"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-86","name":"Bike Cadence Drills","description":"Alternating high and low cadence blocks at steady effort","type":"endurance","activityType":"ENDURANCE","category":"cycling","difficulty":"beginner","primaryMuscles":["quadriceps","hamstrings"],"secondaryMuscles":["glutes","calves","core"],"equipment":["stationary_bike"],"environment":"indoor","instructions":["Alternate 1–2 minutes at 100+ rpm with 1–2 minutes at 70–80 rpm","Keep effort moderate","Maintain smooth pedal stroke"],"tips":["Relax hips and shoulders","Avoid bouncing at high rpm"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":false},"isDefault":false},{"id":"endurance-87","name":"Rowing Power 10s","description":"Periodic 10 hard strokes within steady rowing to build capacity","type":"endurance","activityType":"ENDURANCE","category":"rowing","difficulty":"beginner","primaryMuscles":["legs","back"],"secondaryMuscles":["core","arms"],"equipment":["rowing_machine"],"environment":"indoor","instructions":["Row steady base","Every 2 minutes add 10 powerful strokes","Return to base pace"],"tips":["Maintain technique during bursts","Keep rate controlled"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":false},"isDefault":false},{"id":"endurance-88","name":"Spin Class Climbs","description":"Simulated hill climbs with sustained resistance in class setting","type":"endurance","activityType":"ENDURANCE","category":"cycling","difficulty":"intermediate","primaryMuscles":["glutes","quadriceps","hamstrings"],"secondaryMuscles":["calves","core"],"equipment":["spin_bike"],"environment":"indoor","instructions":["Add resistance gradually","Alternate seated and standing climbs","Maintain steady cadence"],"tips":["Keep hips stable","Pull through bottom of pedal stroke"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":true},"isDefault":false},{"id":"endurance-89","name":"Tempo Cycling","description":"Sustained moderately hard cycling below threshold","type":"endurance","activityType":"ENDURANCE","category":"cycling","difficulty":"intermediate","primaryMuscles":["quadriceps","hamstrings","glutes"],"secondaryMuscles":["calves","core"],"equipment":["bicycle","helmet"],"environment":"outdoor","instructions":["Warm up 10 minutes","Ride 20–60 minutes at steady hard effort","Cool down 10 minutes"],"tips":["Hold aero position if trained","Keep cadence 85–95 rpm"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-90","name":"Endurance Swim Pull-Paddle","description":"Long aerobic swim using pull buoy and paddles for strength-endurance","type":"endurance","activityType":"ENDURANCE","category":"swimming","difficulty":"advanced","primaryMuscles":["lats","shoulders","triceps"],"secondaryMuscles":["core"],"equipment":["pull_buoy","paddles"],"environment":"pool","instructions":["Warm up easy","Swim long sets at steady pace","Focus on technique with paddles"],"tips":["Avoid overreaching shoulder","Use moderate paddle size"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-91","name":"Indoor Track Walking","description":"Continuous brisk walking on an indoor track","type":"endurance","activityType":"ENDURANCE","category":"walking","difficulty":"beginner","primaryMuscles":["quadriceps","calves"],"secondaryMuscles":["glutes","hamstrings","core"],"equipment":["walking_shoes"],"environment":"indoor","instructions":["Follow lane direction rules","Maintain brisk but sustainable pace","Relax shoulders"],"tips":["Change direction each session","Use lap count for pacing"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":false},"isDefault":false},{"id":"endurance-92","name":"Rowing Low Drag","description":"Endurance rowing at low damper setting to emphasize turnover","type":"endurance","activityType":"ENDURANCE","category":"rowing","difficulty":"beginner","primaryMuscles":["legs","back"],"secondaryMuscles":["core","arms"],"equipment":["rowing_machine"],"environment":"indoor","instructions":["Set low drag factor","Row at 22–26 spm easy-moderate","Keep strokes light and quick"],"tips":["Focus on clean catches","Avoid overpulling at finish"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":false},"isDefault":false},{"id":"endurance-93","name":"Bike Endurance Ride","description":"Long steady ride to build base aerobic fitness","type":"endurance","activityType":"ENDURANCE","category":"cycling","difficulty":"intermediate","primaryMuscles":["quadriceps","hamstrings","glutes"],"secondaryMuscles":["calves","core"],"equipment":["bicycle","helmet"],"environment":"outdoor","instructions":["Keep easy conversational intensity","Fuel every 20–30 minutes","Spin efficiently on climbs"],"tips":["Plan route and nutrition","Check weather and wind"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":true},{"id":"endurance-94","name":"Treadmill Fartlek","description":"Variable-speed treadmill session using time-based surges","type":"endurance","activityType":"ENDURANCE","category":"running","difficulty":"intermediate","primaryMuscles":["quadriceps","hamstrings","calves"],"secondaryMuscles":["glutes","core"],"equipment":["treadmill"],"environment":"indoor","instructions":["Warm up 10 minutes","Alternate speed surges and easy jogs","Cool down 5–10 minutes"],"tips":["Use quick speed adjustments","Keep form constant at higher speeds"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-95","name":"Rowing Negative Split","description":"Row where each segment is slightly faster than the last","type":"endurance","activityType":"ENDURANCE","category":"rowing","difficulty":"intermediate","primaryMuscles":["legs","back"],"secondaryMuscles":["core","arms"],"equipment":["rowing_machine"],"environment":"indoor","instructions":["Divide session into equal parts","Start conservatively","Increase pace slightly each part"],"tips":["Keep rate stable and add power","Use monitor to track splits"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":false},"isDefault":false},{"id":"endurance-96","name":"Elliptical Long Session","description":"Extended low-impact cardio on elliptical trainer","type":"endurance","activityType":"ENDURANCE","category":"machine_cardio","difficulty":"beginner","primaryMuscles":["quadriceps","hamstrings"],"secondaryMuscles":["glutes","calves","arms"],"equipment":["elliptical"],"environment":"indoor","instructions":["Choose comfortable resistance","Maintain steady cadence","Keep posture upright"],"tips":["Alternate forward and backward strides","Monitor hydration"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":false},"isDefault":false},{"id":"endurance-97","name":"Swimming Pull-Kick Combo","description":"Alternating kickboard and pull buoy sets for sustained effort","type":"endurance","activityType":"ENDURANCE","category":"swimming","difficulty":"intermediate","primaryMuscles":["full_body"],"secondaryMuscles":[],"equipment":["kickboard","pull_buoy"],"environment":"pool","instructions":["Alternate 100–200m kick with 200–400m pull","Keep rests short","Hold steady technique"],"tips":["Kick from hips","High-elbow pull and streamline"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":false},"isDefault":false},{"id":"endurance-98","name":"Walking Treadmill Intervals","description":"Incline and speed changes while walking to increase stimulus","type":"endurance","activityType":"ENDURANCE","category":"walking","difficulty":"beginner","primaryMuscles":["glutes","quadriceps","calves"],"secondaryMuscles":["hamstrings","core"],"equipment":["treadmill"],"environment":"indoor","instructions":["Alternate flat and incline segments","Adjust speed to stay walking","Hold posture tall"],"tips":["Use smaller steps on steep inclines","Avoid leaning on console"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":false},"isDefault":false},{"id":"endurance-99","name":"Outdoor Tempo Walk","description":"Sustained brisk walk at comfortably hard pace","type":"endurance","activityType":"ENDURANCE","category":"walking","difficulty":"beginner","primaryMuscles":["quadriceps","calves","glutes"],"secondaryMuscles":["hamstrings","core"],"equipment":["walking_shoes"],"environment":"outdoor","instructions":["Warm up 5 minutes","Walk 20–40 minutes at brisk pace","Cool down 5 minutes"],"tips":["Use arms to drive pace","Keep strides short and quick"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":false},"isDefault":false},{"id":"endurance-100","name":"Rowing Ladder Intervals","description":"Progressively longer then shorter rowing intervals","type":"endurance","activityType":"ENDURANCE","category":"rowing","difficulty":"intermediate","primaryMuscles":["legs","back"],"secondaryMuscles":["core","arms"],"equipment":["rowing_machine"],"environment":"indoor","instructions":["Row 1-2-3-4-3-2-1 minutes hard","Recover equal time easy","Maintain split consistency"],"tips":["Pace early to finish strong","Keep handle path straight"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-101","name":"Air Dyne Long Ride","description":"Long continuous fan bike ride for low-impact endurance","type":"endurance","activityType":"ENDURANCE","category":"machine_cardio","difficulty":"beginner","primaryMuscles":["quadriceps","glutes","hamstrings"],"secondaryMuscles":["shoulders","arms","core"],"equipment":["air_bike"],"environment":"indoor","instructions":["Find sustainable cadence","Keep shoulders relaxed","Breathe rhythmically"],"tips":["Alternate seated and standing briefly","Use fan for cooling if available"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":false},"isDefault":false},{"id":"endurance-102","name":"Swim Tempo Sets","description":"Sustained threshold swimming on controlled intervals","type":"endurance","activityType":"ENDURANCE","category":"swimming","difficulty":"advanced","primaryMuscles":["full_body"],"secondaryMuscles":[],"equipment":["swimsuit","goggles"],"environment":"pool","instructions":["Warm up thoroughly","Swim repeats on moderate send-offs","Hold even pacing"],"tips":["Count strokes per length","Bilateral breathing for balance"],"defaultUnit":"distance","metrics":{"trackTime":true,"trackDistance":true,"trackRPE":true},"isDefault":false},{"id":"endurance-103","name":"Spin Endurance Base","description":"Extended indoor cycling at easy-to-moderate intensity","type":"endurance","activityType":"ENDURANCE","category":"cycling","difficulty":"beginner","primaryMuscles":["quadriceps","hamstrings"],"secondaryMuscles":["glutes","calves","core"],"equipment":["spin_bike"],"environment":"indoor","instructions":["Set comfortable resistance","Maintain 85–95 rpm","Keep posture neutral"],"tips":["Change hand positions periodically","Hydrate regularly"],"defaultUnit":"time","metrics":{"trackTime":true,"trackDistance":false,"trackRPE":false},"isDefault":false}]'),Cr=JSON.parse('[{"id":"sport-1","name":"Basketball","description":"Team sport involving shooting a ball through hoops","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"intermediate","primaryMuscles":["quadriceps","calves"],"secondaryMuscles":["core","shoulders"],"equipment":["basketball","basketball_shoes"],"environment":"court","teamBased":true,"sportType":"team","instructions":["Warm up with dribbling","Practice shooting","Focus on teamwork"],"tips":["Practice ball handling","Work on vertical jump"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-2","name":"Tennis","description":"Racquet sport played on a court","type":"teamSports","activityType":"SPORT","category":"racquet_sports","difficulty":"intermediate","primaryMuscles":["shoulders","core"],"secondaryMuscles":["quadriceps","calves"],"equipment":["tennis_racquet","tennis_balls","tennis_shoes"],"environment":"court","teamBased":false,"sportType":"individual","instructions":["Warm up with light rallying","Practice serves","Focus on footwork"],"tips":["Work on proper grip","Practice footwork patterns"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-3","name":"Soccer","description":"Team sport played with feet using a ball","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"intermediate","primaryMuscles":["quadriceps","hamstrings","calves"],"secondaryMuscles":["glutes","core"],"equipment":["soccer_ball","soccer_cleats","shin_guards"],"environment":"field","teamBased":true,"sportType":"team","instructions":["Warm up with light jogging","Practice ball control","Focus on passing"],"tips":["Work on first touch","Practice with both feet"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-4","name":"Volleyball","description":"Team sport with rallies over a net","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"intermediate","primaryMuscles":["shoulders","quadriceps"],"secondaryMuscles":["core","calves"],"equipment":["volleyball","knee_pads"],"environment":"court","teamBased":true,"sportType":"team","instructions":["Warm up with passing","Practice serves","Run offensive plays"],"tips":["Communicate loudly","Move to ready position"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-5","name":"Badminton","description":"Fast racquet sport with shuttlecock","type":"teamSports","activityType":"SPORT","category":"racquet_sports","difficulty":"beginner","primaryMuscles":["shoulders","forearms"],"secondaryMuscles":["core","quadriceps"],"equipment":["badminton_racquet","shuttlecocks"],"environment":"court","teamBased":false,"sportType":"individual","instructions":["Warm with light rallies","Practice serves","Work on footwork"],"tips":["Stay light on feet","Anticipate opponent"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-6","name":"Table Tennis","description":"Quick reaction paddle sport","type":"teamSports","activityType":"SPORT","category":"racquet_sports","difficulty":"beginner","primaryMuscles":["forearms"],"secondaryMuscles":["shoulders","core"],"equipment":["table_tennis_paddle","ping_pong_balls"],"environment":"indoor","teamBased":false,"sportType":"individual","instructions":["Warm with forehand rallies","Add backhands","Introduce spin serves"],"tips":["Focus on consistency","Stay low and balanced"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-7","name":"Rugby","description":"Contact team sport with tactical play","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"advanced","primaryMuscles":["quadriceps","hamstrings","shoulders"],"secondaryMuscles":["core","calves"],"equipment":["rugby_ball","mouth_guard"],"environment":"field","teamBased":true,"sportType":"team","instructions":["Dynamic warm up","Passing drills","Contact drills"],"tips":["Maintain body position","Support runner"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-8","name":"Field Hockey","description":"Stick and ball field sport","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"intermediate","primaryMuscles":["quadriceps","glutes"],"secondaryMuscles":["core","hamstrings"],"equipment":["hockey_stick","ball","shin_guards"],"environment":"field","teamBased":true,"sportType":"team","instructions":["Stick handling warm up","Passing patterns","Small-sided games"],"tips":["Stay low","Use quick passes"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-9","name":"Boxing Training","description":"Non-contact boxing drills and conditioning","type":"teamSports","activityType":"SPORT","category":"combat_sports","difficulty":"intermediate","primaryMuscles":["shoulders","core"],"secondaryMuscles":["quadriceps","calves"],"equipment":["gloves","hand_wraps","heavy_bag"],"environment":"gym","teamBased":false,"sportType":"individual","instructions":["Shadow boxing warm up","Bag rounds","Footwork drills"],"tips":["Keep guard up","Rotate hips for power"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-10","name":"Martial Arts Drills","description":"Technique and conditioning practice","type":"teamSports","activityType":"SPORT","category":"combat_sports","difficulty":"intermediate","primaryMuscles":["core","hips"],"secondaryMuscles":["shoulders","quadriceps"],"equipment":["pads","mat"],"environment":"dojo","teamBased":false,"sportType":"individual","instructions":["Joint mobility warm up","Technique reps","Controlled sparring"],"tips":["Relax shoulders","Breathe through strikes"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-11","name":"Rowing (Team)","description":"Crew boat on-water practice","type":"teamSports","activityType":"SPORT","category":"water_sports","difficulty":"intermediate","primaryMuscles":["back","legs"],"secondaryMuscles":["core","arms"],"equipment":["shell","oars"],"environment":"water","teamBased":true,"sportType":"team","instructions":["Technical warm up","Power pieces","Cooldown paddling"],"tips":["Synchronize catch","Drive with legs"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-12","name":"Ultimate Frisbee","description":"Field sport with disc passing","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"beginner","primaryMuscles":["quadriceps","hamstrings"],"secondaryMuscles":["calves","core"],"equipment":["flying_disc"],"environment":"field","teamBased":true,"sportType":"team","instructions":["Throwing warm up","Cutting drills","Small scrimmage"],"tips":["Use sharp cuts","Communicate lines"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-13","name":"Futsal","description":"Small-sided indoor soccer variant","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"intermediate","primaryMuscles":["quadriceps","hamstrings","calves"],"secondaryMuscles":["core","glutes"],"equipment":["futsal_ball","indoor_shoes"],"environment":"indoor","teamBased":true,"sportType":"team","instructions":["Ball control warm up","Passing rondos","High-tempo game"],"tips":["Quick decisions","Use sole of foot"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-14","name":"Baseball","description":"Bat-and-ball team sport with pitching, hitting, and fielding","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"intermediate","primaryMuscles":["shoulders","forearms","quadriceps"],"secondaryMuscles":["core","hamstrings","calves"],"equipment":["bat","baseball","glove","cleats"],"environment":"field","teamBased":true,"sportType":"team","instructions":["Dynamic warm-up","Throwing and fielding drills","Batting practice"],"tips":["Prioritize shoulder care","Practice situational awareness"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-15","name":"Softball","description":"Team bat-and-ball sport similar to baseball on a smaller field","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"beginner","primaryMuscles":["shoulders","quadriceps"],"secondaryMuscles":["core","calves"],"equipment":["softball","bat","glove","cleats"],"environment":"field","teamBased":true,"sportType":"team","instructions":["Warm up throwing","Infield/outfield drills","Batting rotations"],"tips":["Use proper batting stance","Call for fly balls loudly"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-16","name":"American Football","description":"Contact team sport with set plays and positional roles","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"advanced","primaryMuscles":["quadriceps","hamstrings","shoulders"],"secondaryMuscles":["core","calves","traps"],"equipment":["football","helmet","pads","cleats"],"environment":"field","teamBased":true,"sportType":"team","instructions":["Dynamic warm-up","Positional drills","Install and run plays"],"tips":["Keep pad level low","Communicate pre-snap reads"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-17","name":"Flag Football","description":"Non-contact variant of football using flag pulls","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"beginner","primaryMuscles":["quadriceps","hamstrings"],"secondaryMuscles":["calves","core"],"equipment":["football","flag_belts"],"environment":"field","teamBased":true,"sportType":"team","instructions":["Warm up with routes","Practice flag pulling","Run small-sided games"],"tips":["Use sharp cuts","Keep hips low on defense"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-18","name":"Lacrosse","description":"Fast team field sport with sticks and a small ball","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"intermediate","primaryMuscles":["quadriceps","shoulders"],"secondaryMuscles":["core","forearms","calves"],"equipment":["lacrosse_stick","ball","helmet","pads"],"environment":"field","teamBased":true,"sportType":"team","instructions":["Cradling and passing warm-up","Shooting drills","Riding and clearing scenarios"],"tips":["Protect stick with body","Stay moving off-ball"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-19","name":"Handball","description":"High-tempo team sport passing and throwing to score","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"intermediate","primaryMuscles":["shoulders","quadriceps"],"secondaryMuscles":["core","calves","forearms"],"equipment":["handball"],"environment":"indoor","teamBased":true,"sportType":"team","instructions":["Passing sequences","Shooting from wings and backcourt","Defensive formations"],"tips":["Explode into jump shots","Read defender’s hips on drives"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-20","name":"Water Polo","description":"Aquatic team sport combining swimming and ball handling","type":"teamSports","activityType":"SPORT","category":"water_sports","difficulty":"advanced","primaryMuscles":["lats","shoulders","core"],"secondaryMuscles":["quadriceps","glutes","calves"],"equipment":["water_polo_ball","caps"],"environment":"pool","teamBased":true,"sportType":"team","instructions":["Swim warm-up","Eggbeater drills","Passing and shooting sets"],"tips":["Keep hips high","Use legs to free shooting arm"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-21","name":"Ice Hockey","description":"High-speed team sport on ice with sticks and puck","type":"teamSports","activityType":"SPORT","category":"ice_sports","difficulty":"advanced","primaryMuscles":["glutes","quadriceps"],"secondaryMuscles":["hamstrings","core","forearms"],"equipment":["hockey_skates","stick","puck","pads","helmet"],"environment":"ice_rink","teamBased":true,"sportType":"team","instructions":["Skating edges warm-up","Puck handling","Shooting and small-area games"],"tips":["Keep knees bent for balance","Short shifts, high effort"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-22","name":"Inline Hockey","description":"Roller variant of hockey on a smooth surface","type":"teamSports","activityType":"SPORT","category":"skating","difficulty":"intermediate","primaryMuscles":["glutes","quadriceps"],"secondaryMuscles":["hamstrings","core","calves"],"equipment":["inline_skates","hockey_stick","puck_ball","helmet"],"environment":"court","teamBased":true,"sportType":"team","instructions":["Skating and stopping drills","Passing lanes","Shooting accuracy"],"tips":["Stay low for stability","Use quick puck movement"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-23","name":"Cricket","description":"Bat-and-ball sport with batting, bowling, and fielding","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"intermediate","primaryMuscles":["forearms","shoulders","quadriceps"],"secondaryMuscles":["core","hamstrings","calves"],"equipment":["cricket_bat","ball","pads","gloves","helmet"],"environment":"field","teamBased":true,"sportType":"team","instructions":["Fielding warm-up","Bowling and batting nets","Set-piece practice"],"tips":["Watch the seam and line","Call runs clearly"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-24","name":"Gaelic Football","description":"Irish team field sport combining kicking, catching, and handpassing","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"intermediate","primaryMuscles":["quadriceps","hamstrings","calves"],"secondaryMuscles":["core","shoulders"],"equipment":["gaelic_ball","cleats"],"environment":"field","teamBased":true,"sportType":"team","instructions":["Kicking accuracy warm-up","Solo and handpass drills","Tactical game play"],"tips":["Support runners into space","Take points under pressure"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-25","name":"Australian Rules Football","description":"High-endurance oval field sport with kicking and marking","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"advanced","primaryMuscles":["quadriceps","hamstrings","calves"],"secondaryMuscles":["glutes","core","shoulders"],"equipment":["footy_ball","cleats","mouth_guard"],"environment":"field","teamBased":true,"sportType":"team","instructions":["Kicking and handball chains","Marking contests","Full-field running patterns"],"tips":["Work to space","Communicate switch options"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-26","name":"Netball","description":"Non-contact team sport emphasizing passing and shooting","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"beginner","primaryMuscles":["quadriceps","calves"],"secondaryMuscles":["core","shoulders"],"equipment":["netball","court_shoes"],"environment":"court","teamBased":true,"sportType":"team","instructions":["Footwork and passing","Shooting practice","Set plays by position"],"tips":["Land softly two-feet control","Use quick give-and-go"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-27","name":"Basketball 3x3","description":"Small-sided half-court basketball format","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"intermediate","primaryMuscles":["quadriceps","calves"],"secondaryMuscles":["core","shoulders"],"equipment":["basketball","basketball_shoes"],"environment":"court","teamBased":true,"sportType":"team","instructions":["Ball-handling warm-up","Pick-and-roll reps","Game play to 21"],"tips":["Space the floor","Crash boards aggressively"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-28","name":"Beach Volleyball","description":"Two-player volleyball on sand","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"intermediate","primaryMuscles":["quadriceps","calves","shoulders"],"secondaryMuscles":["glutes","core"],"equipment":["volleyball"],"environment":"beach","teamBased":true,"sportType":"team","instructions":["Passing and setting in wind","Serving targets","Sideout practice"],"tips":["Short steps in sand","Signal blocking schemes"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-29","name":"Beach Soccer","description":"Small-sided soccer on sand","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"intermediate","primaryMuscles":["calves","quadriceps"],"secondaryMuscles":["glutes","core","hamstrings"],"equipment":["soccer_ball"],"environment":"beach","teamBased":true,"sportType":"team","instructions":["Ball control in sand","Short passing","Finishing drills"],"tips":["Use toe-poke finishes","Keep center of mass low"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-30","name":"Fives/Squash","description":"High-intensity racquet sport in enclosed court","type":"teamSports","activityType":"SPORT","category":"racquet_sports","difficulty":"intermediate","primaryMuscles":["forearms","shoulders","calves"],"secondaryMuscles":["core","glutes"],"equipment":["squash_racquet","ball","court_shoes"],"environment":"court","teamBased":false,"sportType":"individual","instructions":["Ghosting footwork","Straight drives","Volley and drop practice"],"tips":["Volley to take time","Recover to T-position"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-31","name":"Pickleball","description":"Paddle sport blending tennis, badminton, and table tennis","type":"teamSports","activityType":"SPORT","category":"racquet_sports","difficulty":"beginner","primaryMuscles":["forearms","shoulders"],"secondaryMuscles":["core","calves"],"equipment":["paddle","pickleball","court_shoes"],"environment":"court","teamBased":false,"sportType":"individual","instructions":["Dinking warm-up","Third-shot drops","Serve and return practice"],"tips":["Stay at kitchen line","Aim for consistency over power"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-32","name":"Padel","description":"Doubles racquet sport on enclosed glass-walled court","type":"teamSports","activityType":"SPORT","category":"racquet_sports","difficulty":"beginner","primaryMuscles":["shoulders","forearms"],"secondaryMuscles":["core","calves"],"equipment":["padel_racquet","padel_ball"],"environment":"court","teamBased":true,"sportType":"team","instructions":["Lob and bandeja drills","Wall rebounds","Serve placement"],"tips":["Use walls tactically","Keep compact swings"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-33","name":"Table Tennis Doubles","description":"Doubles format of quick-reaction paddle sport","type":"teamSports","activityType":"SPORT","category":"racquet_sports","difficulty":"beginner","primaryMuscles":["forearms"],"secondaryMuscles":["shoulders","core"],"equipment":["table_tennis_paddle","ping_pong_balls"],"environment":"indoor","teamBased":true,"sportType":"team","instructions":["Serve practice","Cross-court rallies","Rotational movement patterns"],"tips":["Communicate switch calls","Place serves to elbows"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-34","name":"Badminton Doubles","description":"Doubles play emphasizing quick reactions and teamwork","type":"teamSports","activityType":"SPORT","category":"racquet_sports","difficulty":"intermediate","primaryMuscles":["shoulders","forearms","calves"],"secondaryMuscles":["core","quadriceps"],"equipment":["badminton_racquet","shuttlecocks"],"environment":"court","teamBased":true,"sportType":"team","instructions":["Serve and return systems","Front-back rotation","Smash and drive drills"],"tips":["Attack with downward shots","Recover to base quickly"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-35","name":"Golf","description":"Precision club-and-ball sport over a course","type":"teamSports","activityType":"SPORT","category":"individual_sports","difficulty":"beginner","primaryMuscles":["forearms","shoulders","core"],"secondaryMuscles":["glutes"],"equipment":["golf_clubs","golf_ball","golf_shoes"],"environment":"course","teamBased":false,"sportType":"individual","instructions":["Warm up wedges and putts","Full swing practice","Play holes"],"tips":["Tempo over force","Align clubface carefully"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-36","name":"Disc Golf","description":"Throwing discs into chain baskets across a course","type":"teamSports","activityType":"SPORT","category":"individual_sports","difficulty":"beginner","primaryMuscles":["shoulders","forearms"],"secondaryMuscles":["core","glutes"],"equipment":["discs","disc_golf_bag"],"environment":"outdoor","teamBased":false,"sportType":"individual","instructions":["Putting warm-up","Approach throws","Drive form work"],"tips":["Focus on release angle","Play wind smartly"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-37","name":"Track and Field","description":"Athletics events including running, jumping, and throwing","type":"teamSports","activityType":"SPORT","category":"individual_sports","difficulty":"intermediate","primaryMuscles":["quadriceps","hamstrings","glutes"],"secondaryMuscles":["calves","core","shoulders"],"equipment":["spikes","throwing_implements"],"environment":"track","teamBased":false,"sportType":"individual","instructions":["Event-specific drills","Technique sessions","Controlled efforts"],"tips":["Prioritize technique","Progress volume gradually"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-38","name":"Cross-Country Running","description":"Distance running over varied terrain","type":"teamSports","activityType":"SPORT","category":"individual_sports","difficulty":"intermediate","primaryMuscles":["quadriceps","calves","hamstrings"],"secondaryMuscles":["glutes","core"],"equipment":["running_shoes","spikes_optional"],"environment":"trail","teamBased":false,"sportType":"individual","instructions":["Course recon warm-up","Run at controlled effort","Uphill and downhill technique"],"tips":["Shorten stride on climbs","Lean slightly on descents"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-39","name":"Triathlon Practice","description":"Multi-sport swim-bike-run training session","type":"teamSports","activityType":"SPORT","category":"mixed_sports","difficulty":"advanced","primaryMuscles":["full_body"],"secondaryMuscles":[],"equipment":["swim_gear","bicycle","helmet","running_shoes"],"environment":"mixed","teamBased":false,"sportType":"individual","instructions":["Swim warm-up and main set","Transition to bike","Finish with controlled run"],"tips":["Plan transitions","Pace evenly across legs"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-40","name":"Duathlon Practice","description":"Run-bike-run session focusing on transitions","type":"teamSports","activityType":"SPORT","category":"mixed_sports","difficulty":"intermediate","primaryMuscles":["quadriceps","hamstrings","calves"],"secondaryMuscles":["glutes","core"],"equipment":["bicycle","helmet","running_shoes"],"environment":"outdoor","teamBased":false,"sportType":"individual","instructions":["Run warm-up","Bike leg steady","Short run off the bike"],"tips":["Keep first run conservative","Fuel during bike segment"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-41","name":"Open Water Swimming","description":"Swimming in lakes, rivers, or ocean","type":"teamSports","activityType":"SPORT","category":"water_sports","difficulty":"intermediate","primaryMuscles":["lats","shoulders","core"],"secondaryMuscles":["glutes","hip_flexors"],"equipment":["wetsuit_optional","goggles","swim_cap"],"environment":"open_water","teamBased":false,"sportType":"individual","instructions":["Sight regularly","Draft safely when allowed","Swim steady pace"],"tips":["Use bilateral breathing","Acclimate to temperature"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-42","name":"Surfing","description":"Riding waves using a surfboard","type":"teamSports","activityType":"SPORT","category":"water_sports","difficulty":"intermediate","primaryMuscles":["lats","shoulders","core"],"secondaryMuscles":["glutes","hamstrings"],"equipment":["surfboard","leash","wetsuit_optional"],"environment":"ocean","teamBased":false,"sportType":"individual","instructions":["Paddle warm-up","Practice pop-ups","Select and ride waves"],"tips":["Watch sets and lineup","Keep eyes forward during pop-up"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-43","name":"Windsurfing","description":"Sailing and surfing hybrid using a sailboard","type":"teamSports","activityType":"SPORT","category":"water_sports","difficulty":"advanced","primaryMuscles":["forearms","shoulders","core"],"secondaryMuscles":["glutes","quadriceps"],"equipment":["windsurf_board","sail","harness"],"environment":"open_water","teamBased":false,"sportType":"individual","instructions":["Rig and safety check","Waterstart or uphaul","Practice tacks and jibes"],"tips":["Look through turns","Use harness to save grip"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-44","name":"Kitesurfing","description":"Harnessing wind with a kite to ride a board on water","type":"teamSports","activityType":"SPORT","category":"water_sports","difficulty":"advanced","primaryMuscles":["core","forearms","glutes"],"secondaryMuscles":["quadriceps","hamstrings","shoulders"],"equipment":["kite","bar_lines","board","harness"],"environment":"open_water","teamBased":false,"sportType":"individual","instructions":["Wind and safety check","Body drag drills","Water starts and riding"],"tips":["Keep kite at 45° for stability","Edge board to control speed"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-45","name":"Rowing (Single Scull)","description":"Individual on-water rowing in a narrow shell","type":"teamSports","activityType":"SPORT","category":"water_sports","difficulty":"advanced","primaryMuscles":["back","legs"],"secondaryMuscles":["core","arms"],"equipment":["single_scull","oars","PFD"],"environment":"water","teamBased":false,"sportType":"individual","instructions":["Technical drills","Steady-state rows","Power pieces"],"tips":["Relax grip and shoulders","Sequence legs-body-arms"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-46","name":"Canoe Sprint","description":"Flatwater paddling in a kneeling canoe with a single blade","type":"teamSports","activityType":"SPORT","category":"water_sports","difficulty":"advanced","primaryMuscles":["lats","core","shoulders"],"secondaryMuscles":["glutes","obliques"],"equipment":["canoe","paddle","PFD"],"environment":"water","teamBased":false,"sportType":"individual","instructions":["Technique warm-up","Starts practice","Sustained efforts"],"tips":["Drive with hips","Keep paddle vertical near gunwale"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-47","name":"Kayak Sprint","description":"High-cadence flatwater kayaking with double-bladed paddle","type":"teamSports","activityType":"SPORT","category":"water_sports","difficulty":"advanced","primaryMuscles":["lats","shoulders","core"],"secondaryMuscles":["glutes","forearms"],"equipment":["kayak","paddle","PFD"],"environment":"water","teamBased":false,"sportType":"individual","instructions":["Warm-up strokes","Start accelerations","Main set intervals"],"tips":["Rotate torso for power","Light relaxed grip"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-48","name":"Rowing (Erg Team Pieces)","description":"Synchronized team ergometer sessions","type":"teamSports","activityType":"SPORT","category":"indoor_sports","difficulty":"intermediate","primaryMuscles":["back","legs"],"secondaryMuscles":["core","arms"],"equipment":["rowing_machine"],"environment":"indoor","teamBased":true,"sportType":"team","instructions":["Rate-match warm-up","Steady group pieces","Finisher sprints"],"tips":["Call rate and splits","Focus on timing at catch"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-49","name":"Box Lacrosse","description":"Indoor variant of lacrosse with boards and smaller goals","type":"teamSports","activityType":"SPORT","category":"team_sports","difficulty":"advanced","primaryMuscles":["quadriceps","shoulders"],"secondaryMuscles":["core","forearms","calves"],"equipment":["lacrosse_stick","ball","helmet","pads"],"environment":"indoor","teamBased":true,"sportType":"team","instructions":["Tight-space passing","Pick-and-roll sets","Transition drills"],"tips":["Protect stick in traffic","Quick shots on rebounds"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-50","name":"Racquetball","description":"Fast indoor racquet sport using walls for returns","type":"teamSports","activityType":"SPORT","category":"racquet_sports","difficulty":"intermediate","primaryMuscles":["forearms","shoulders"],"secondaryMuscles":["core","calves"],"equipment":["racquetball_racquet","ball","goggles"],"environment":"court","teamBased":false,"sportType":"individual","instructions":["Serve practice","Ceiling and pass shots","Kill shot control"],"tips":["Control center court","Vary height and angles"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-51","name":"Fencing","description":"Combat sport with foil, epee, or sabre","type":"teamSports","activityType":"SPORT","category":"combat_sports","difficulty":"advanced","primaryMuscles":["forearms","shoulders","quadriceps"],"secondaryMuscles":["core","calves"],"equipment":["weapon","mask","jacket","glove"],"environment":"indoor","teamBased":false,"sportType":"individual","instructions":["Footwork drills","Blade work","Bout simulations"],"tips":["Stay light on front foot","Control distance and timing"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-52","name":"Judo","description":"Grappling martial art focusing on throws and groundwork","type":"teamSports","activityType":"SPORT","category":"combat_sports","difficulty":"advanced","primaryMuscles":["grip","back","hips"],"secondaryMuscles":["core","quadriceps"],"equipment":["gi","belt","mat"],"environment":"dojo","teamBased":false,"sportType":"individual","instructions":["Ukemi breakfalls","Grip fighting","Throw entries and randori"],"tips":["Keep posture strong","Use kuzushi to off-balance"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-53","name":"Brazilian Jiu-Jitsu","description":"Grappling sport emphasizing submissions and positional control","type":"teamSports","activityType":"SPORT","category":"combat_sports","difficulty":"intermediate","primaryMuscles":["core","back","forearms"],"secondaryMuscles":["glutes","hamstrings"],"equipment":["gi_or_no-gi","mouth_guard"],"environment":"dojo","teamBased":false,"sportType":"individual","instructions":["Warm up drills","Technique reps","Rolling rounds"],"tips":["Breathe and relax under pressure","Frame and hip escape effectively"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-54","name":"Wrestling","description":"Takedown and control-focused grappling sport","type":"teamSports","activityType":"SPORT","category":"combat_sports","difficulty":"advanced","primaryMuscles":["quadriceps","back","grip"],"secondaryMuscles":["core","hamstrings","calves"],"equipment":["wrestling_shoes","headgear"],"environment":"mat","teamBased":false,"sportType":"individual","instructions":["Stance and motion","Shot entries","Live situational drilling"],"tips":["Hand-fight to create openings","Finish through the hips"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-55","name":"Muay Thai","description":"Striking sport using punches, kicks, knees, and elbows","type":"teamSports","activityType":"SPORT","category":"combat_sports","difficulty":"advanced","primaryMuscles":["hips","core","shoulders"],"secondaryMuscles":["quadriceps","calves"],"equipment":["gloves","wraps","pads","mouth_guard"],"environment":"gym","teamBased":false,"sportType":"individual","instructions":["Jump rope warm-up","Pad rounds","Clinching and knees"],"tips":["Turn hips on kicks","Keep guard tight on returns"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-56","name":"Kickboxing","description":"Stand-up striking sport combining punches and kicks","type":"teamSports","activityType":"SPORT","category":"combat_sports","difficulty":"intermediate","primaryMuscles":["shoulders","hips","core"],"secondaryMuscles":["quadriceps","calves"],"equipment":["gloves","wraps","pads"],"environment":"gym","teamBased":false,"sportType":"individual","instructions":["Footwork warm-up","Combo padwork","Bag rounds"],"tips":["Maintain rhythm and distance","Angle off after combos"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-57","name":"Taekwondo","description":"Martial art emphasizing dynamic kicks and speed","type":"teamSports","activityType":"SPORT","category":"combat_sports","difficulty":"intermediate","primaryMuscles":["hip_flexors","quadriceps","core"],"secondaryMuscles":["glutes","calves"],"equipment":["dobok","belt","pads"],"environment":"dojo","teamBased":false,"sportType":"individual","instructions":["Mobility warm-up","Kicking drills","Point sparring"],"tips":["Chamber knees tightly","Use feints to set up high kicks"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":false},{"id":"sport-58","name":"Karate","description":"Striking martial art with forms, basics, and sparring","type":"teamSports","activityType":"SPORT","category":"combat_sports","difficulty":"beginner","primaryMuscles":["core","shoulders","hips"],"secondaryMuscles":["quadriceps","calves"],"equipment":["gi","belt","mitts_optional"],"environment":"dojo","teamBased":false,"sportType":"individual","instructions":["Kihon basics","Kata practice","Kumite sparring"],"tips":["Relax then snap strikes","Control distance and timing"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-59","name":"Climbing (Bouldering)","description":"Rope-free climbing on short problems","type":"teamSports","activityType":"SPORT","category":"indoor_sports","difficulty":"intermediate","primaryMuscles":["forearms","lats","core"],"secondaryMuscles":["shoulders","glutes"],"equipment":["climbing_shoes","chalk"],"environment":"indoor","teamBased":false,"sportType":"individual","instructions":["Warm up easy routes","Project problems","Active rest between attempts"],"tips":["Use feet precisely","Keep hips close to wall"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-60","name":"Climbing (Sport/Top-Rope)","description":"Roped climbing for longer routes indoors or outdoors","type":"teamSports","activityType":"SPORT","category":"outdoor_sports","difficulty":"intermediate","primaryMuscles":["forearms","lats","core"],"secondaryMuscles":["shoulders","glutes","calves"],"equipment":["climbing_shoes","harness","rope","belay_device"],"environment":"mixed","teamBased":true,"sportType":"team","instructions":["Safety checks","Warm up on easy routes","Work redpoint attempts"],"tips":["Rest on straight arms","Plan clipping stances"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-61","name":"Skateboarding","description":"Board sport performing tricks and cruising","type":"teamSports","activityType":"SPORT","category":"board_sports","difficulty":"intermediate","primaryMuscles":["glutes","quadriceps","core"],"secondaryMuscles":["calves","hamstrings"],"equipment":["skateboard","helmet","pads"],"environment":"park","teamBased":false,"sportType":"individual","instructions":["Push and balance warm-up","Practice ollies or carving","Link lines in park"],"tips":["Keep knees soft","Look where going, not at board"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-62","name":"Snowboarding","description":"Sliding on snow with a single board","type":"teamSports","activityType":"SPORT","category":"snow_sports","difficulty":"intermediate","primaryMuscles":["glutes","quadriceps","core"],"secondaryMuscles":["hamstrings","calves"],"equipment":["snowboard","bindings","boots","helmet"],"environment":"mountain","teamBased":false,"sportType":"individual","instructions":["Edge control drills","Link turns","Ride varied terrain"],"tips":["Weight centered over board","Look through turns, not down"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true},{"id":"sport-63","name":"Alpine Skiing","description":"Downhill skiing on groomed runs or varied terrain","type":"teamSports","activityType":"SPORT","category":"snow_sports","difficulty":"intermediate","primaryMuscles":["quadriceps","glutes","core"],"secondaryMuscles":["hamstrings","calves"],"equipment":["skis","boots","poles","helmet"],"environment":"mountain","teamBased":false,"sportType":"individual","instructions":["Warm-up greens","Carving drills","Controlled descents"],"tips":["Shins into boots","Pressure outside ski through turns"],"defaultUnit":"time","metrics":{"trackTime":true,"trackRPE":true},"isDefault":true}]'),Nr=[{id:"flexibility-1",name:"Hamstring Stretch",description:"Static stretch targeting the hamstring muscles",type:"flexibility",activityType:"STRETCHING",category:"static_stretching",difficulty:"beginner",primaryMuscles:["hamstrings"],secondaryMuscles:["calves"],equipment:[],environment:"any",instructions:["Sit with legs extended","Reach forward slowly","Hold the stretch"],tips:["Don't bounce","Breathe deeply","Hold for 30 seconds"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!0},{id:"flexibility-2",name:"Shoulder Stretch",description:"Static stretch for shoulder flexibility",type:"flexibility",activityType:"STRETCHING",category:"static_stretching",difficulty:"beginner",primaryMuscles:["shoulders"],secondaryMuscles:["triceps"],equipment:[],environment:"any",instructions:["Bring arm across chest","Hold with other arm","Feel stretch in shoulder"],tips:["Don't force the stretch","Hold for 30 seconds each arm"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!0},{id:"flexibility-3",name:"Hip Flexor Stretch",description:"Dynamic stretch for hip flexibility",type:"flexibility",activityType:"STRETCHING",category:"dynamic_stretching",difficulty:"beginner",primaryMuscles:["quadriceps"],secondaryMuscles:["core"],equipment:[],environment:"any",instructions:["Step into lunge position","Lower hips forward","Feel stretch in hip flexors"],tips:["Keep back straight","Don't let knee go past toes"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!0},{id:"flexibility-4",name:"Quadriceps Stretch",description:"Standing quad stretch balance hold",type:"flexibility",activityType:"STRETCHING",category:"static_stretching",difficulty:"beginner",primaryMuscles:["quadriceps"],secondaryMuscles:[],equipment:[],environment:"any",instructions:["Stand tall","Grab ankle behind","Gently pull heel toward glute"],tips:["Keep knees close","Avoid arching back"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"flexibility-5",name:"Calf Stretch Wall",description:"Wall assisted gastrocnemius stretch",type:"flexibility",activityType:"STRETCHING",category:"static_stretching",difficulty:"beginner",primaryMuscles:["calves"],secondaryMuscles:[],equipment:[],environment:"any",instructions:["Hands on wall","Back leg straight heel down","Lean forward"],tips:["Keep heel planted","Adjust distance"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"flexibility-6",name:"Thoracic Rotation",description:"Dynamic spine rotation mobility",type:"flexibility",activityType:"STRETCHING",category:"dynamic_stretching",difficulty:"beginner",primaryMuscles:["back"],secondaryMuscles:["core"],equipment:[],environment:"any",instructions:["On all fours","Reach arm under","Rotate open"],tips:["Move controlled","Follow hand with eyes"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"flexibility-7",name:"Pigeon Pose",description:"Hip external rotation stretch",type:"flexibility",activityType:"STRETCHING",category:"yoga",difficulty:"intermediate",primaryMuscles:["glutes"],secondaryMuscles:["hips"],equipment:[],environment:"any",instructions:["Front leg bent forward","Back leg extended","Fold torso gently"],tips:["Use cushion if needed","Relax into pose"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"flexibility-8",name:"Cat Camel",description:"Spinal flexion extension mobility",type:"flexibility",activityType:"STRETCHING",category:"dynamic_stretching",difficulty:"beginner",primaryMuscles:["back"],secondaryMuscles:["core"],equipment:[],environment:"any",instructions:["On all fours","Arch then round spine","Coordinate with breath"],tips:["Slow controlled","No pain"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"flexibility-9",name:"Child's Pose",description:"Restorative spine & hip stretch",type:"flexibility",activityType:"STRETCHING",category:"yoga",difficulty:"beginner",primaryMuscles:["back"],secondaryMuscles:["hips"],equipment:[],environment:"any",instructions:["Kneel and sit back","Arms forward","Relax forehead down"],tips:["Breathe deeply","No joint pain"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"flexibility-10",name:"Cobra Stretch",description:"Prone spinal extension pose",type:"flexibility",activityType:"STRETCHING",category:"yoga",difficulty:"beginner",primaryMuscles:["back"],secondaryMuscles:["core"],equipment:[],environment:"any",instructions:["Lie prone","Press up through hands","Open chest"],tips:["Elbows soft","No low-back pinch"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"flexibility-11",name:"Band Shoulder Dislocate",description:"Band assisted shoulder mobility arc",type:"flexibility",activityType:"STRETCHING",category:"dynamic_stretching",difficulty:"intermediate",primaryMuscles:["shoulders"],secondaryMuscles:["chest"],equipment:["resistance_band"],environment:"any",instructions:["Grip band wide","Raise overhead","Pass behind back"],tips:["No pain range","Control speed"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"flexibility-12",name:"Ankle Circles",description:"Dynamic ankle joint mobility",type:"flexibility",activityType:"STRETCHING",category:"dynamic_stretching",difficulty:"beginner",primaryMuscles:["calves"],secondaryMuscles:[],equipment:[],environment:"any",instructions:["Lift foot","Draw circles both ways","Switch sides"],tips:["Smooth motion","Small to large"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"flexibility-13",name:"Neck Side Stretch",description:"Gentle lateral neck stretch",type:"flexibility",activityType:"STRETCHING",category:"static_stretching",difficulty:"beginner",primaryMuscles:["neck"],secondaryMuscles:[],equipment:[],environment:"any",instructions:["Sit tall","Tilt ear to shoulder","Hold light stretch"],tips:["No pulling force","Breathe slow"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1}],Rr=[{id:"other-1",name:"Meditation",description:"Mindfulness practice for mental wellness",type:"other",activityType:"OTHER",category:"wellness",difficulty:"beginner",primaryMuscles:[],secondaryMuscles:[],equipment:[],environment:"quiet_space",instructions:["Find comfortable seated position","Close eyes and focus on breathing","Let thoughts pass without judgment"],tips:["Start with short sessions","Use guided meditation apps","Practice consistently"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!0},{id:"other-2",name:"Walking",description:"Low-intensity movement for general health",type:"other",activityType:"OTHER",category:"general_movement",difficulty:"beginner",primaryMuscles:["quadriceps","calves"],secondaryMuscles:["hamstrings","glutes"],equipment:["walking_shoes"],environment:"any",instructions:["Start at comfortable pace","Maintain good posture","Enjoy the movement"],tips:["Wear comfortable shoes","Stay hydrated","Listen to music or podcasts"],defaultUnit:"time",metrics:{trackTime:!0,trackDistance:!0,trackRPE:!0},isDefault:!0},{id:"other-3",name:"Foam Rolling",description:"Self-myofascial release for recovery",type:"other",activityType:"OTHER",category:"recovery",difficulty:"beginner",primaryMuscles:[],secondaryMuscles:[],equipment:["foam_roller"],environment:"any",instructions:["Apply moderate pressure","Roll slowly over target areas","Breathe deeply"],tips:["Don't roll over joints","Start gentle","Focus on tight areas"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!0},{id:"other-4",name:"Breathing Drills",description:"Focused diaphragmatic breathing practice",type:"other",activityType:"OTHER",category:"wellness",difficulty:"beginner",primaryMuscles:[],secondaryMuscles:[],equipment:[],environment:"quiet_space",instructions:["Lie supine knees bent","Hand on abdomen","Inhale nose expand","Exhale slowly"],tips:["4-6s inhale/exhale","Relax shoulders"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"other-5",name:"Cold Plunge",description:"Brief cold water immersion recovery",type:"other",activityType:"OTHER",category:"recovery",difficulty:"intermediate",primaryMuscles:[],secondaryMuscles:[],equipment:["cold_tub"],environment:"indoor",instructions:["Prepare safe temp","Enter slowly","Control breathing"],tips:["Limit initial duration","Warm gradually after"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"other-6",name:"Sauna Session",description:"Passive heat exposure recovery",type:"other",activityType:"OTHER",category:"recovery",difficulty:"beginner",primaryMuscles:[],secondaryMuscles:[],equipment:["sauna"],environment:"indoor",instructions:["Hydrate before","Limit continuous time","Cool down slowly"],tips:["Listen to body","Avoid overexertion"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"other-7",name:"Light Mobility Flow",description:"Low intensity full body movement sequence",type:"other",activityType:"OTHER",category:"mobility",difficulty:"beginner",primaryMuscles:[],secondaryMuscles:[],equipment:[],environment:"any",instructions:["Select 5-6 movements","Flow continuously","Maintain nasal breathing"],tips:["Smooth transitions","No pain range"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"other-8",name:"Desk Break Routine",description:"Short movement break for office workers",type:"other",activityType:"OTHER",category:"general_movement",difficulty:"beginner",primaryMuscles:[],secondaryMuscles:[],equipment:[],environment:"indoor",instructions:["Stand up","Neck circles","Shoulder rolls","Light squats"],tips:["Repeat hourly","Gentle range"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"other-9",name:"Mindful Walking",description:"Slow walk with sensory focus",type:"other",activityType:"OTHER",category:"wellness",difficulty:"beginner",primaryMuscles:[],secondaryMuscles:[],equipment:["walking_shoes"],environment:"outdoor",instructions:["Walk relaxed pace","Notice surroundings","Sync breath with steps"],tips:["Stay present","No phone use"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"other-10",name:"Balance Board Practice",description:"Ankle and core stability work",type:"other",activityType:"OTHER",category:"mobility",difficulty:"intermediate",primaryMuscles:[],secondaryMuscles:[],equipment:["balance_board"],environment:"indoor",instructions:["Feet centered","Soft knees","Maintain equal pressure"],tips:["Eyes forward","Small corrections"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"other-11",name:"Light Yoga Flow",description:"Gentle sequence for recovery",type:"other",activityType:"OTHER",category:"wellness",difficulty:"beginner",primaryMuscles:[],secondaryMuscles:[],equipment:["yoga_mat"],environment:"quiet_space",instructions:["Sun salutations","Gentle twists","Relaxation pose"],tips:["Breathe deep","Smooth pacing"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"other-12",name:"Guided Relaxation",description:"Audio guided progressive relaxation",type:"other",activityType:"OTHER",category:"wellness",difficulty:"beginner",primaryMuscles:[],secondaryMuscles:[],equipment:["audio"],environment:"quiet_space",instructions:["Find comfortable position","Play guidance","Release tension areas"],tips:["Dim lights","Consistent practice"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1},{id:"other-13",name:"Light Stretch Break",description:"Short mixed stretch sequence",type:"other",activityType:"OTHER",category:"mobility",difficulty:"beginner",primaryMuscles:[],secondaryMuscles:[],equipment:[],environment:"any",instructions:["Neck to toes sequence","Hold each 15-20s","Gentle breathing"],tips:["Stay relaxed","No bouncing"],defaultUnit:"time",metrics:{trackTime:!0,trackRPE:!0},isDefault:!1}];function Me(e){const r=(e.activityType||e.type||"").toString().toLowerCase();return{id:e.id,name:e.name,category:e.category,description:e.description||"",type:e.type||r,activityType:r,difficulty:e.difficulty||"intermediate",equipment:e.equipment||[],instructions:e.instructions||[],tips:e.tips||[],tags:e.tags||[],isDefault:e.isDefault!==void 0?e.isDefault:!0,createdBy:"system",primaryMuscles:e.primaryMuscles||[],secondaryMuscles:e.secondaryMuscles||[],targetAreas:e.targetAreas||[],primaryMetrics:e.primaryMetrics||[],optionalMetrics:e.optionalMetrics||[],skills:e.skills||[],defaultUnit:e.defaultUnit||"time",metrics:e.metrics||{},teamBased:e.teamBased||!1,sportType:e.sportType,drillType:e.drillType,space:e.space,environment:e.environment,setup:e.setup||[],userId:void 0}}let Dt=null;function Ka(){if(Dt)return Dt;const e={[H.RESISTANCE]:[],[H.ENDURANCE]:[],[H.SPORT]:[],[H.STRETCHING]:[],[H.SPEED_AGILITY]:[],[H.OTHER]:[]};try{Array.isArray(kr)&&(e[H.RESISTANCE]=kr.map(t=>({...t,id:`resistance-${t.name.replace(/\s+/g,"-").toLowerCase()}`,activityType:H.RESISTANCE,createdBy:"system"}))),Array.isArray(Tr)&&(e[H.ENDURANCE]=Tr.map(Me)),Array.isArray(Cr)&&(e[H.SPORT]=Cr.map(Me)),Array.isArray(Nr)&&(e[H.STRETCHING]=Nr.map(Me)),Array.isArray(Ot)&&(e[H.SPEED_AGILITY]=Ot.map(Me)),Array.isArray(Rr)&&(e[H.OTHER]=Rr.map(Me))}catch(t){console.error("Error loading exercise databases:",t)}return Dt=e,e}function Vt(e){return Ka()[e]||[]}const za={id:"default-endurance",name:"Endurance Training",type:"endurance",isDefault:!0,description:"Cardiovascular training with time, distance, and heart rate zones",fields:[{fieldId:"duration",label:"Duration (minutes)",type:"duration",required:!0,min:1,max:600},{fieldId:"distance",label:"Distance",type:"distance",required:!1,unit:"km",min:0,step:.1},{fieldId:"rpe",label:"RPE (Rate of Perceived Exertion)",type:"rpe",required:!0,min:1,max:10,step:.5},{fieldId:"averageHR",label:"Average Heart Rate",type:"heartRate",required:!1,min:40,max:220},{fieldId:"maxHR",label:"Max Heart Rate",type:"heartRate",required:!1,min:40,max:220},{fieldId:"hrZone1",label:"Zone 1 Time (minutes)",type:"duration",required:!1,min:0},{fieldId:"hrZone2",label:"Zone 2 Time (minutes)",type:"duration",required:!1,min:0},{fieldId:"hrZone3",label:"Zone 3 Time (minutes)",type:"duration",required:!1,min:0},{fieldId:"notes",label:"Notes",type:"string",required:!1,placeholder:"Route, conditions, feeling..."}]},Ya={id:"default-team-sports",name:"Sports",type:"teamSports",isDefault:!0,description:"Universal sports logging with duration, distance, calories, intensity, and notes",fields:[{fieldId:"duration",label:"Duration (minutes)",type:"duration",required:!0,min:1,max:300,unit:"minutes"},{fieldId:"distance",label:"Distance (optional)",type:"distance",required:!1,min:0,max:5e4,unit:"meters",placeholder:"Distance covered if applicable"},{fieldId:"calories",label:"Calories (optional)",type:"number",required:!1,min:0,max:2e3,unit:"kcal",placeholder:"Estimated calories burned"},{fieldId:"intensity",label:"Intensity (1-10)",type:"intensity",required:!0,min:1,max:10,step:.5},{fieldId:"notes",label:"Notes",type:"string",required:!1,placeholder:"Performance notes, tactics, highlights..."}]},Ja={id:"default-other",name:"Other Activities",type:"other",isDefault:!0,description:"Universal logging for miscellaneous activities with duration, calories, heart rate, intensity, and notes",fields:[{fieldId:"duration",label:"Duration (minutes)",type:"duration",required:!0,min:1,max:720,unit:"minutes"},{fieldId:"calories",label:"Calories (optional)",type:"number",required:!1,min:0,max:3e3,unit:"kcal",placeholder:"Estimated calories burned"},{fieldId:"heartRate",label:"Average Heart Rate (optional)",type:"heartRate",required:!1,min:40,max:220,unit:"bpm",placeholder:"Average heart rate during activity"},{fieldId:"intensity",label:"Intensity (1-10)",type:"intensity",required:!0,min:1,max:10,step:.5},{fieldId:"notes",label:"Notes",type:"string",required:!1,placeholder:"Activity details, conditions, experience..."}]},Za={id:"default-speedAgility",name:"Speed & Agility Training",type:"speedAgility",isDefault:!0,description:"Speed training, agility drills, and quick movement patterns",fields:[{fieldId:"reps",label:"Repetitions",type:"reps",required:!0,min:1,max:50},{fieldId:"time",label:"Time (seconds)",type:"duration",required:!1,min:0,max:300,step:.1},{fieldId:"distance",label:"Distance (meters)",type:"distance",required:!1,min:0,max:1e3,step:.1},{fieldId:"height",label:"Height (cm)",type:"height",required:!1,min:0,max:200,step:1},{fieldId:"restTime",label:"Rest Time (seconds)",type:"duration",required:!1,min:0,max:600},{fieldId:"rpe",label:"RPE (Rate of Perceived Exertion)",type:"rpe",required:!0,min:1,max:10,step:.5},{fieldId:"notes",label:"Notes",type:"string",required:!1,placeholder:"Drill details, technique notes, conditions..."}]},dt=({template:e,activityName:t,onClose:r,onBack:i,onActivityLogged:n,selectedDate:a=new Date,editingExercise:s=null})=>{const o=$t(v=>v.auth.user),[u,p]=w.useState([]),[d,c]=w.useState({}),[m,f]=w.useState(!1);W.useEffect(()=>{if(s&&s.sets&&s.sets.length>0){console.log("🎯 UniversalActivityLogger: Editing exercise data:",s);const y=s.sets.map((k,S)=>{const E={...k,setNumber:k.setNumber||S+1};return e.type==="endurance"&&(E.averageHR=E.averageHeartRate||E.averageHR,E.maxHR=E.maxHeartRate||E.maxHR),console.log("🎯 Mapped session for editing:",E),E});p(y),console.log("🎯 Set existing sessions for editing:",y)}const v={};e.fields.forEach(y=>{var k;switch(y.type){case"number":case"duration":case"distance":case"intensity":case"heartRate":case"rpe":v[y.fieldId]=y.min||0;break;case"boolean":v[y.fieldId]=!1;break;case"select":v[y.fieldId]=((k=y.options)==null?void 0:k[0])||"";break;default:v[y.fieldId]=""}}),c(v)},[e,s]);const g=()=>{if(Object.keys(d).length===0)return;p(y=>[...y,{...d,setNumber:y.length+1}]);const v={};e.fields.forEach(y=>{var k;switch(y.type){case"number":case"duration":case"distance":case"intensity":case"heartRate":case"rpe":v[y.fieldId]=y.min||0;break;case"boolean":v[y.fieldId]=!1;break;case"select":v[y.fieldId]=((k=y.options)==null?void 0:k[0])||"";break;default:v[y.fieldId]=""}}),c(v)},b=v=>{p(y=>y.filter((k,S)=>S!==v).map((k,S)=>({...k,setNumber:S+1})))},x=async()=>{if(!(!(o!=null&&o.id)||u.length===0)){f(!0);try{if(console.log("🎯 UniversalActivityLogger: Saving activity",{activityType:e.type,activityName:t,sessions:u,sessionCount:u.length}),e.type==="teamSports")await Pe.logSportActivity(e.id,t,u,o.id,a);else if(e.type==="endurance"){const v=u.map(y=>({...y,averageHeartRate:y.averageHR||y.averageHeartRate,maxHeartRate:y.maxHR||y.maxHeartRate,rpe:y.rpe,hrZone1:y.hrZone1,hrZone2:y.hrZone2,hrZone3:y.hrZone3}));console.log("🏃 Mapped endurance sessions:",v),await Pe.logEnduranceExercise(e.id,t,v,o.id,a)}else e.type==="flexibility"?await Pe.logStretchingExercise(e.id,t,u,o.id,a):e.type==="speedAgility"?(console.log("⚡ Logging speed & agility exercise with sessions:",u),await Pe.logSpeedAgilityExercise(e.id,t,u,o.id,a)):e.type==="other"&&await Pe.logOtherActivity(e.id,t,u,o.id,a);n()}catch(v){console.error("Error saving activity:",v)}finally{f(!1)}}},h=v=>{var k;const y=d[v.fieldId]||"";switch(v.type){case"duration":return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[v.label," ",v.required&&l.jsx("span",{className:"text-red-400",children:"*"})]}),l.jsx("input",{type:"number",value:y,onChange:S=>c(E=>({...E,[v.fieldId]:Number(S.target.value)})),className:"w-full p-3 bg-[#2a2a2a] border border-white/10 rounded-lg text-white focus:outline-none focus:border-blue-500",min:v.min,max:v.max,step:v.step,placeholder:v.placeholder,required:v.required}),v.unit&&l.jsx("span",{className:"text-sm text-gray-400 mt-1 block",children:v.unit})]});case"distance":case"number":case"heartRate":case"rpe":return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[v.label," ",v.required&&l.jsx("span",{className:"text-red-400",children:"*"})]}),l.jsx("input",{type:"number",value:y,onChange:S=>c(E=>({...E,[v.fieldId]:Number(S.target.value)})),className:"w-full p-3 bg-[#2a2a2a] border border-white/10 rounded-lg text-white focus:outline-none focus:border-blue-500",min:v.min,max:v.max,step:v.step,placeholder:v.placeholder,required:v.required}),v.unit&&l.jsx("span",{className:"text-sm text-gray-400 mt-1 block",children:v.unit})]});case"intensity":return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[v.label," ",v.required&&l.jsx("span",{className:"text-red-400",children:"*"})]}),l.jsx("input",{type:"range",min:v.min||1,max:v.max||10,step:v.step||.5,value:y,onChange:S=>c(E=>({...E,[v.fieldId]:Number(S.target.value)})),className:"w-full"}),l.jsxs("div",{className:"text-center text-white mt-1",children:[y,"/",v.max||10]})]});case"select":return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[v.label," ",v.required&&l.jsx("span",{className:"text-red-400",children:"*"})]}),l.jsx("select",{value:y,onChange:S=>c(E=>({...E,[v.fieldId]:S.target.value})),className:"w-full p-3 bg-[#2a2a2a] border border-white/10 rounded-lg text-white focus:outline-none focus:border-blue-500",required:v.required,children:(k=v.options)==null?void 0:k.map(S=>l.jsx("option",{value:S,children:S},S))})]});case"string":return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[v.label," ",v.required&&l.jsx("span",{className:"text-red-400",children:"*"})]}),l.jsx("textarea",{value:y,onChange:S=>c(E=>({...E,[v.fieldId]:S.target.value})),className:"w-full p-3 bg-[#2a2a2a] border border-white/10 rounded-lg text-white focus:outline-none focus:border-blue-500 min-h-[100px]",placeholder:v.placeholder,required:v.required})]});case"boolean":return l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:y,onChange:S=>c(E=>({...E,[v.fieldId]:S.target.checked})),className:"mr-2"}),l.jsxs("label",{className:"text-sm font-medium text-gray-300",children:[v.label," ",v.required&&l.jsx("span",{className:"text-red-400",children:"*"})]})]});default:return null}};return l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-[#1a1a1a] rounded-xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[l.jsx("div",{className:"p-6 border-b border-white/10",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:t}),l.jsx("p",{className:"text-gray-400",children:e.description})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Change Activity"}),l.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:l.jsx("span",{className:"text-white text-xl",children:"×"})})]})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Log Session #",u.length+1]}),l.jsx("div",{className:"space-y-4",children:e.fields.map(v=>l.jsx("div",{children:h(v)},v.fieldId))}),l.jsx("button",{onClick:g,disabled:!d.duration||e.fields.some(v=>v.required&&!d[v.fieldId]),className:"w-full mt-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors",children:"Add Session"})]}),u.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("h4",{className:"text-md font-medium text-white mb-3",children:["Logged Sessions (",u.length,")"]}),l.jsx("div",{className:"space-y-2",children:u.map((v,y)=>l.jsxs("div",{className:"p-3 bg-[#2a2a2a] rounded-lg flex justify-between items-center",children:[l.jsxs("div",{className:"text-white",children:[l.jsxs("span",{className:"font-medium",children:["Session ",v.setNumber,": "]}),v.duration,"min",v.distance&&` • ${v.distance}m`,v.calories&&` • ${v.calories} kcal`,v.heartRate&&` • ${v.heartRate} bpm`,v.intensity&&` • Intensity: ${v.intensity}/10`]}),l.jsx("button",{onClick:()=>b(y),className:"text-red-400 hover:text-red-300 p-1",children:"×"})]},y))})]})]}),l.jsxs("div",{className:"p-6 border-t border-white/10 flex gap-3",children:[l.jsx("button",{onClick:i,className:"flex-1 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:"Back to Activities"}),l.jsx("button",{onClick:x,disabled:m||u.length===0,className:"flex-1 py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors",children:m?"Saving...":`Save Activity (${u.length} sessions)`})]})]})})},Xa=({onClose:e,onBack:t,onActivityLogged:r,selectedDate:i=new Date,editingExercise:n=null})=>{const[a,s]=w.useState([]),[o,u]=w.useState(null),[p,d]=w.useState(""),[c,m]=w.useState(""),[f,g]=w.useState("list");w.useEffect(()=>{if(b(),n){const y={id:n.id||"editing-sport",name:n.exerciseName,category:"general",description:"",isDefault:!1,activityType:H.SPORT,sportType:"general",skillLevel:"intermediate",teamBased:!1,equipment:[],primarySkills:[],metrics:{trackDuration:!0,trackScore:!1,trackIntensity:!0,trackPerformance:!1}};u(y),g("logging")}},[n]);const b=()=>{const k=Vt(H.SPORT).map((S,E)=>{const R=S.metrics||{};return{id:S.id||`sport-${E}`,name:S.name,description:S.description,activityType:H.SPORT,category:S.category||"general",isDefault:S.isDefault??!0,sportType:S.sportType||"general",skillLevel:"intermediate",teamBased:S.teamBased||!1,equipment:S.equipment||[],primarySkills:S.skills||[],metrics:{trackDuration:!!R.trackDuration||!!R.trackTime,trackScore:!!R.trackScore,trackIntensity:!!R.trackIntensity||!!R.trackRPE,trackPerformance:!!R.trackPerformance}}});s(k)},x=y=>{u(y),g("logging")},h=["All",...Array.from(new Set(a.flatMap(y=>y.category?[y.category]:[])))],v=a.filter(y=>{const k=y.name.toLowerCase().includes(p.toLowerCase()),S=c===""||c==="All"||y.category===c;return k&&S});return f==="logging"&&o?l.jsx(dt,{template:Ya,activityName:o.name,onClose:e,onBack:()=>g("list"),onActivityLogged:r,selectedDate:i,editingExercise:n}):l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-[#1a1a1a] rounded-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[l.jsx("div",{className:"p-6 border-b border-white/10",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Sports Activities"}),l.jsx("p",{className:"text-gray-400",children:"Choose a sport to log your training session"})]}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:l.jsx("span",{className:"text-white text-xl",children:"×"})})]})}),l.jsx("div",{className:"p-6 border-b border-white/10",children:l.jsxs("div",{className:"flex gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",placeholder:"Search sports...",value:p,onChange:y=>d(y.target.value),className:"w-full p-3 bg-[#2a2a2a] border border-white/10 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500"})}),l.jsx("select",{value:c,onChange:y=>m(y.target.value),className:"p-3 bg-[#2a2a2a] border border-white/10 rounded-lg text-white focus:outline-none focus:border-blue-500",children:h.map(y=>l.jsx("option",{value:y==="All"?"":y,children:y},y))})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(y=>l.jsxs("div",{onClick:()=>x(y),className:"p-4 bg-[#2a2a2a] rounded-lg hover:bg-[#3a3a3a] cursor-pointer transition-colors border border-white/10",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:y.name}),y.description&&l.jsx("p",{className:"text-gray-400 text-sm mb-3",children:y.description}),y.category&&l.jsx("span",{className:"px-2 py-1 bg-blue-600/20 text-blue-300 text-xs rounded-full",children:y.category})]},y.id))}),v.length===0&&l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-400",children:"No sports found matching your criteria."})})]}),l.jsx("div",{className:"p-6 border-t border-white/10",children:l.jsx("button",{onClick:t,className:"w-full py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:"Back to Activity Types"})})]})})},Qa=({onClose:e,onBack:t,onActivityLogged:r,selectedDate:i=new Date,editingExercise:n=null})=>{const[a,s]=w.useState(null),[o,u]=w.useState("list"),[p,d]=w.useState(""),[c,m]=w.useState(new Set),[f,g]=w.useState(new Set),[b,x]=w.useState(new Set),[h,v]=w.useState(new Set),[y,k]=w.useState(!1),S=w.useMemo(()=>Wa(Ot),[]),E=w.useMemo(()=>Ga(S),[S]),R=w.useMemo(()=>Ha(S,{search:p,type:c,lateralization:f,equipment:b,includeTags:h}),[p,c,f,b,h,S]);function j(D,A){D(_=>{const C=new Set(_);return C.has(A)?C.delete(A):C.add(A),C})}w.useEffect(()=>{if(n){const D={id:n.id||"editing-speedAgility",name:n.exerciseName,category:"general",description:"",isDefault:!1,activityType:H.SPEED_AGILITY,drillType:"agility",equipment:[],difficulty:"beginner",setup:[],instructions:[],metrics:{trackTime:!0,trackDistance:!0,trackReps:!0,trackRPE:!0}};s(D),u("logging")}},[n]);function q(D){const A={id:D.id,name:D.name,category:D.category||"general",description:D.description||"",isDefault:!0,activityType:H.SPEED_AGILITY,drillType:D.drillType||D.type||"agility",equipment:Array.isArray(D.equipment)?D.equipment:D.equipment?[D.equipment]:[],difficulty:D.difficulty||"beginner",setup:Array.isArray(D.setup)?D.setup:[],instructions:Array.isArray(D.instructions)?D.instructions:D.instructions?[D.instructions]:[],metrics:{trackTime:!0,trackDistance:!0,trackReps:!0,trackRPE:!0}};s(A),u("logging")}return o==="logging"&&a?l.jsx(dt,{template:Za,activityName:a.name,onClose:e,onBack:()=>u("list"),onActivityLogged:r,selectedDate:i,editingExercise:n}):l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-[#1a1a1a] rounded-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Speed, Agility & Plyometrics"})]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"p-4 border-b border-gray-700 space-y-3 bg-[#1a1a1a]/95 backdrop-blur sticky top-0 z-10",children:[l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("input",{type:"text",placeholder:"Search drills (name or instructions)",value:p,onChange:D=>d(D.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500","aria-label":"Search speed agility plyometric drills"}),l.jsx("button",{onClick:()=>{d(""),m(new Set),g(new Set),x(new Set),v(new Set)},className:"px-3 py-2 text-xs font-medium bg-gray-800 border border-gray-600 rounded-md text-gray-300 hover:text-white hover:border-yellow-500","aria-label":"Reset filters",children:"Reset"}),l.jsx("button",{onClick:()=>k(D=>!D),className:"px-3 py-2 text-xs font-medium bg-gray-800 border border-gray-600 rounded-md text-gray-300 hover:text-white hover:border-yellow-500","aria-expanded":y,"aria-controls":"advanced-filters",children:y?"Hide":"Filters"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[["sprint","agility","plyometric","jump","reaction","acceleration","ladder","hurdle"].map(D=>{const A=c.has(D)||h.has(D),_=()=>{["sprint","agility","plyometric"].includes(D)?j(m,D):j(v,D)};return l.jsx("button",{onClick:_,className:`px-3 py-1 rounded-full text-xs font-medium border transition ${A?"bg-yellow-500 border-yellow-400 text-black":"bg-gray-800 border-gray-600 text-gray-300 hover:border-yellow-500 hover:text-white"}`,children:D},D)}),["unilateral","bilateral"].map(D=>{const A=f.has(D);return l.jsx("button",{onClick:()=>j(g,D),className:`px-3 py-1 rounded-full text-xs font-medium border transition ${A?"bg-blue-500 border-blue-400 text-white":"bg-gray-800 border-gray-600 text-gray-300 hover:border-blue-400 hover:text-white"}`,children:D},D)})]}),y&&l.jsx("div",{id:"advanced-filters",className:"space-y-3",children:l.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 text-[11px]",children:[l.jsx(Ke,{title:"Type",values:Array.from(E.type),selected:c,onToggle:D=>j(m,D)}),l.jsx(Ke,{title:"Lateral",values:Array.from(E.lateralization),selected:f,onToggle:D=>j(g,D)}),l.jsx(Ke,{title:"Equipment",values:Array.from(E.equipment),selected:b,onToggle:D=>j(x,D)}),l.jsx(Ke,{title:"Tags",values:Array.from(E.tags).filter(D=>["jump","sprint","skip","bound","shuffle","resisted","assisted","reaction","explosive","ladder","hurdle","acceleration","depth","pogo","tuck"].includes(D)),selected:h,onToggle:D=>j(v,D)})]})}),l.jsxs("p",{className:"text-[11px] text-gray-400",children:["Showing ",l.jsx("span",{className:"text-yellow-400 font-semibold",children:R.length})," of ",S.length," drills"]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:R.map(D=>l.jsxs("div",{onClick:()=>q(D),className:"bg-gray-800 rounded-lg p-4 cursor-pointer hover:bg-gray-700 transition-colors border border-gray-600",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:D.name}),D.description&&l.jsx("p",{className:"text-gray-400 text-xs mb-2 line-clamp-3",children:D.description}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[D.category&&l.jsx("span",{className:"px-2 py-0.5 bg-yellow-600 text-white text-[10px] rounded",children:D.category}),D.drillType&&l.jsx("span",{className:"px-2 py-0.5 bg-blue-600 text-white text-[10px] rounded",children:D.drillType}),D.difficulty&&l.jsx("span",{className:"px-2 py-0.5 bg-orange-600 text-white text-[10px] rounded",children:D.difficulty}),Array.from(D.tags||[]).slice(0,3).map(A=>l.jsx("span",{className:"px-2 py-0.5 bg-gray-700 text-gray-200 text-[10px] rounded",children:A},A))]})]},D.id))}),R.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-400 text-lg",children:"No drills found"}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Try adjusting your search or filter"})]})]})]})})},Ke=({title:e,values:t,selected:r,onToggle:i})=>t.length?l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] uppercase tracking-wide text-gray-400 mb-1 font-semibold",children:e}),l.jsx("div",{className:"flex flex-wrap gap-1",children:t.sort().map(n=>{const a=r.has(n);return l.jsx("button",{onClick:()=>i(n),className:`px-2 py-0.5 rounded border text-[10px] ${a?"bg-yellow-600 border-yellow-500 text-white":"bg-gray-800 border-gray-600 text-gray-300 hover:border-yellow-500 hover:text-white"}`,children:n},n)})})]}):null,en=({onClose:e,onBack:t,onActivityLogged:r,selectedDate:i=new Date,editingExercise:n=null})=>{const[a,s]=w.useState([]),[o,u]=w.useState(null),[p,d]=w.useState(""),[c,m]=w.useState(""),[f,g]=w.useState("list");w.useEffect(()=>{const v=Vt(H.ENDURANCE);s(v),n&&(u(n),g("logging"))},[n]);const b=v=>{u(v),g("logging")},x=["All",...Array.from(new Set(a.flatMap(v=>v.category?[v.category]:[])))],h=a.filter(v=>{const y=v.name.toLowerCase().includes(p.toLowerCase()),k=c===""||c==="All"||v.category===c;return y&&k});return f==="logging"&&o?l.jsx(dt,{template:za,activityName:o.name,onClose:e,onBack:()=>g("list"),onActivityLogged:r,selectedDate:i,editingExercise:n}):l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-[#1a1a1a] rounded-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Endurance Training"})]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsxs("div",{className:"flex gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",placeholder:"Search endurance exercises...",value:p,onChange:v=>d(v.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500"})}),l.jsx("select",{value:c,onChange:v=>m(v.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:x.map(v=>l.jsx("option",{value:v==="All"?"":v,children:v},v))})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:h.map(v=>l.jsxs("div",{onClick:()=>b(v),className:"bg-gray-800 rounded-lg p-4 cursor-pointer hover:bg-gray-700 transition-colors border border-gray-600",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:v.name}),v.description&&l.jsx("p",{className:"text-gray-400 text-sm mb-2",children:v.description}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.category&&l.jsx("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs rounded",children:v.category}),v.difficulty&&l.jsx("span",{className:"px-2 py-1 bg-orange-600 text-white text-xs rounded",children:v.difficulty})]})]},v.id))}),h.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-400 text-lg",children:"No endurance exercises found"}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Try adjusting your search or filter criteria"})]})]})]})})},tn=({onClose:e,onBack:t,onActivityLogged:r,selectedDate:i=new Date})=>{const[n,a]=w.useState([]),[s,o]=w.useState(null),[u,p]=w.useState(""),[d,c]=w.useState(""),[m,f]=w.useState("list");w.useEffect(()=>{const h=Vt(H.OTHER);a(h.map((v,y)=>({id:v.id||`other-${y}`,name:v.name,description:v.description,activityType:H.OTHER,category:v.category||"general",isDefault:v.isDefault??!0,customCategory:v.category||"general",customFields:[],metrics:Object.keys(v.metrics||{}).reduce((k,S)=>(k[S]=!0,k),{})})))},[]);const g=h=>{o(h),f("logging")},b=["All",...Array.from(new Set(n.flatMap(h=>h.category?[h.category]:[])))],x=n.filter(h=>{const v=h.name.toLowerCase().includes(u.toLowerCase()),y=d===""||d==="All"||h.category===d;return v&&y});return m==="logging"&&s?l.jsx(dt,{template:Ja,activityName:s.name,onClose:e,onBack:()=>f("list"),onActivityLogged:r,selectedDate:i}):l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-[#1a1a1a] rounded-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[l.jsx("div",{className:"p-6 border-b border-white/10",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Other Activities"}),l.jsx("p",{className:"text-gray-400",children:"Log miscellaneous training and recreational activities"})]}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:l.jsx("span",{className:"text-white text-xl",children:"×"})})]})}),l.jsx("div",{className:"p-6 border-b border-white/10",children:l.jsxs("div",{className:"flex gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",placeholder:"Search other activities...",value:u,onChange:h=>p(h.target.value),className:"w-full p-3 bg-[#2a2a2a] border border-white/10 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500"})}),l.jsx("select",{value:d,onChange:h=>c(h.target.value),className:"p-3 bg-[#2a2a2a] border border-white/10 rounded-lg text-white focus:outline-none focus:border-blue-500",children:b.map(h=>l.jsx("option",{value:h==="All"?"":h,children:h},h))})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(h=>l.jsxs("div",{onClick:()=>g(h),className:"p-4 bg-[#2a2a2a] rounded-lg hover:bg-[#3a3a3a] cursor-pointer transition-colors border border-white/10",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:h.name}),h.description&&l.jsx("p",{className:"text-gray-400 text-sm mb-3",children:h.description}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[l.jsx("span",{children:"📊"}),l.jsx("span",{children:"Duration, Calories, Heart Rate, Intensity"})]})]},h.id))}),x.length===0&&l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-400",children:"No other activities available."})})]}),l.jsx("div",{className:"p-6 border-t border-white/10",children:l.jsx("button",{onClick:t,className:"w-full py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:"Back to Activity Types"})})]})})},rn=[{id:"programs",name:"Add from Program",icon:"📋",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-purple-600",textColor:"text-white"},{id:"copyPrevious",name:"Copy from Previous",icon:"📝",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-blue-600",textColor:"text-white"}],an=[{id:"chest",name:"Chest",icon:"💪",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-green-600",textColor:"text-white"},{id:"back",name:"Back",icon:"🔙",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-blue-600",textColor:"text-white"},{id:"legs",name:"Legs",icon:"🦵",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-yellow-600",textColor:"text-white"},{id:"shoulders",name:"Shoulders",icon:"🎯",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-cyan-600",textColor:"text-white"},{id:"arms",name:"Arms",icon:"💪",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-red-600",textColor:"text-white"},{id:"core",name:"Core",icon:"⭕",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-primary-600",textColor:"text-white"},{id:"fullBody",name:"Full-Body",icon:"👤",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-orange-600",textColor:"text-white"}],nn=[{id:"resistance",name:"Resistance Training",description:"Weight lifting, strength training",icon:"🏋️‍♂️",bgColor:"bg-gradient-to-r from-blue-500 to-blue-700",textColor:"text-white",examples:"Squats, Deadlifts, Bench Press"},{id:"sport",name:"Sports",description:"Team sports, individual competitions",icon:"⚽",bgColor:"bg-gradient-to-r from-green-500 to-green-700",textColor:"text-white",examples:"Football, Basketball, Tennis"},{id:"stretching",name:"Stretching & Flexibility",description:"Static stretches, yoga, mobility",icon:"🧘‍♀️",bgColor:"bg-gradient-to-r from-purple-500 to-purple-700",textColor:"text-white",examples:"Yoga, Static Stretches, PNF"},{id:"endurance",name:"Endurance Training",description:"Cardio, running, cycling",icon:"🏃‍♂️",bgColor:"bg-gradient-to-r from-red-500 to-red-700",textColor:"text-white",examples:"Running, Cycling, Swimming"},{id:"speedAgility",name:"Speed, Agility & Plyometrics",description:"Sprints, jumps, plyometrics, change of direction",icon:"⚡",bgColor:"bg-gradient-to-r from-yellow-500 to-amber-600",textColor:"text-white",examples:"Plyometrics, Ladder, Sprints, Jumps"},{id:"other",name:"Other Activities",description:"Custom activities and tracking",icon:"🎯",bgColor:"bg-gradient-to-r from-gray-500 to-gray-700",textColor:"text-white",examples:"Meditation, Therapy, Custom"}],sn=({onClose:e,onExerciseAdded:t,selectedDate:r,editingExercise:i})=>{const[n,a]=w.useState("main"),[s,o]=w.useState(null),[u,p]=w.useState(null),d=$t(f=>f.auth.user);w.useEffect(()=>{if(i)switch(i.activityType){case"sport":a("sport");break;case"stretching":a("stretching");break;case"endurance":a("endurance");break;case"other":a("other");break;case"speedAgility":a("speedAgility");break;default:a("main")}},[i]);const c=async f=>{if(d!=null&&d.id)try{for(const{exercise:g,sets:b}of f)await Xe({exerciseName:g.name,userId:d.id,sets:b},r||new Date);a("main"),t==null||t()}catch(g){console.error("Error saving program exercises:",g)}},m=async f=>{if(d!=null&&d.id)try{for(const g of f)g.name&&await Xe({exerciseName:g.name,userId:d.id,sets:g.sets||[]},r||new Date);a("main"),t==null||t()}catch(g){console.error("Error saving copied exercises:",g)}};return n==="recentExercises"?l.jsx(qa,{onClose:()=>a("resistance"),onSelectExercises:c}):n==="sport"?l.jsx(Xa,{onClose:e,onBack:()=>a("main"),onActivityLogged:()=>{t==null||t(),a("main")},selectedDate:r,editingExercise:i}):n==="stretching"?l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50",children:l.jsx("div",{className:"bg-[#1a1a1a] rounded-xl p-6",children:l.jsxs("div",{className:"text-white text-center",children:[l.jsx("h3",{className:"text-xl font-bold mb-2",children:"Stretching & Flexibility"}),l.jsx("p",{className:"text-gray-400 mb-4",children:"Coming soon! Use the new JSON database for stretching exercises."}),l.jsx("button",{onClick:()=>a("main"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]})})}):n==="endurance"?l.jsx(en,{onClose:e,onBack:()=>a("main"),onActivityLogged:()=>{t==null||t(),a("main")},selectedDate:r,editingExercise:i}):n==="other"?l.jsx(tn,{onClose:e,onBack:()=>a("main"),onActivityLogged:()=>{t==null||t(),a("main")},selectedDate:r}):n==="speedAgility"?l.jsx(Qa,{onClose:e,onBack:()=>a("main"),onActivityLogged:()=>{t==null||t(),a("main")},selectedDate:r,editingExercise:i}):n==="programPicker"?l.jsx(Oa,{onClose:()=>a("main"),onSelectExercises:c}):n==="copyPrevious"?l.jsx(Ua,{isOpen:!0,onClose:()=>a("main"),onExercisesSelected:m,currentDate:r||new Date,userId:(d==null?void 0:d.id)||""}):n==="search"?l.jsx(La,{onClose:()=>a("resistance"),category:s,onSelectExercise:f=>{p({...f,id:`temp-${f.name.toLowerCase().replace(/\s+/g,"-")}`,description:f.description||"",primaryMuscles:[],secondaryMuscles:[],instructions:[],metrics:{trackWeight:!0,trackReps:!0},defaultUnit:"kg"}),a("setEditor")}}):n==="resistance"?l.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex flex-col z-50",children:[l.jsxs("header",{className:"sticky top-0 flex items-center justify-between p-4 bg-[#1a1a1a] border-b border-white/10",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>a("main"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white","aria-label":"Back",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l.jsx("h2",{className:"text-xl font-bold text-white",children:"🏋️‍♂️ Resistance Training"})]}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white","aria-label":"Close",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-safe min-h-0",children:l.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-6 md:space-y-8",children:[l.jsx("section",{className:"space-y-3",children:l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Search exercises...",className:"w-full px-4 py-3 pl-10 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onFocus:()=>{o(null),a("search")}}),l.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),l.jsxs("section",{className:"space-y-3 md:space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white/90",children:"Quick Options"}),l.jsx("div",{className:"grid grid-cols-1 gap-3 md:gap-4",children:l.jsx(St,{category:{id:"recent",name:"Recent Exercises",icon:"🕒",bgColor:"bg-gymkeeper-light",iconBgColor:"bg-blue-600",textColor:"text-white"},onClick:()=>a("recentExercises")})})]}),l.jsxs("section",{className:"space-y-3 md:space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white/90",children:"Muscle Groups"}),l.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:gap-4",children:an.map(f=>l.jsx(St,{category:f,onClick:()=>{o(f),a("search")}},f.id))})]})]})})]}):n==="setEditor"&&u?l.jsx(Fa,{onClose:()=>{p(null),a("main")},onSave:async f=>{try{if(console.log("💾 LogOptions: Starting to save exercise set:",{exercise:u,set:f,user:d==null?void 0:d.id,selectedDate:r}),!(d!=null&&d.id))throw new Error("User not authenticated");const g={exerciseName:u.name,userId:d.id,sets:[f]};console.log("💾 LogOptions: Calling addExerciseLog with:",g);const b=await Xe(g,r||new Date);console.log("✅ LogOptions: Exercise saved successfully with ID:",b),t==null||t(),p(null),a("main")}catch(g){console.error("❌ LogOptions: Error saving exercise:",g)}},exerciseName:u.name,setNumber:1,totalSets:1}):l.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex flex-col z-50",children:[l.jsxs("header",{className:"sticky top-0 flex items-center justify-between p-4 bg-[#1a1a1a] border-b border-white/10",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Add Exercise"}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white","aria-label":"Close",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-safe min-h-0",children:l.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-6 md:space-y-8",children:[l.jsxs("section",{className:"space-y-3 md:space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white/90",children:"Choose Activity Type"}),l.jsx("div",{className:"grid grid-cols-1 gap-3 md:gap-4",children:nn.map(f=>l.jsx("div",{onClick:()=>{f.id==="resistance"?a("resistance"):f.id==="sport"?a("sport"):f.id==="stretching"?a("stretching"):f.id==="endurance"?a("endurance"):f.id==="other"?a("other"):f.id==="speedAgility"&&a("speedAgility")},className:`
                    ${f.bgColor}
                    rounded-xl p-4 cursor-pointer
                    transition-all duration-200 ease-in-out
                    hover:scale-105 hover:shadow-lg
                    active:scale-95
                    border border-white/10
                  `,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"text-3xl",children:f.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:`font-semibold text-lg ${f.textColor}`,children:f.name}),l.jsx("p",{className:`text-sm opacity-90 ${f.textColor}`,children:f.description}),l.jsx("p",{className:`text-xs opacity-75 mt-1 ${f.textColor}`,children:f.examples})]}),l.jsx("div",{className:"text-white/60",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},f.id))})]}),l.jsxs("section",{className:"space-y-3 md:space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white/90",children:"Quick Add"}),l.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:rn.map(f=>l.jsx(St,{category:f,onClick:()=>{f.id==="programs"?a("programPicker"):f.id==="copyPrevious"&&a("copyPrevious")}},f.id))})]})]})})]})},Ie=e=>{const t=new Date(e);return t.setHours(0,0,0,0),t},on=({onClose:e,onDateSelect:t,selectedDate:r})=>{const[i,n]=w.useState(()=>Ie(r)),[a,s]=w.useState(!1),o=w.useCallback(async y=>{if(!y)return;const k=Ie(y);t&&(s(!0),t(k),setTimeout(()=>s(!1),300))},[t]);w.useEffect(()=>{n(Ie(r))},[r]);const u=new Date(i.getFullYear(),i.getMonth(),1),d=new Date(i.getFullYear(),i.getMonth()+1,0).getDate(),c=u.getDay(),m=()=>{n(new Date(i.getFullYear(),i.getMonth()-1))},f=()=>{n(new Date(i.getFullYear(),i.getMonth()+1))},g=()=>{n(new Date(i.getFullYear()-1,i.getMonth()))},b=()=>{n(new Date(i.getFullYear()+1,i.getMonth()))},x=Array.from({length:42},(y,k)=>{const S=k-c+1;return S<=0||S>d?null:new Date(i.getFullYear(),i.getMonth(),S)}),h=["January","February","March","April","May","June","July","August","September","October","November","December"],v=(y,k)=>Ie(y).getTime()===Ie(k).getTime();return l.jsxs("div",{className:"bg-[#1a1a1a] w-full h-screen p-4",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h2",{className:"text-xl text-white",children:"Select Date"})]})}),l.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:g,className:"p-1 text-gray-400 hover:text-white transition-colors","aria-label":`Go to year ${i.getFullYear()-1}`,children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7M4 12h16"})})}),l.jsx("span",{className:"text-white font-medium min-w-[4ch] text-center","aria-label":"Current year",children:i.getFullYear()}),l.jsx("button",{onClick:b,className:"p-1 text-gray-400 hover:text-white transition-colors","aria-label":`Go to year ${i.getFullYear()+1}`,children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M4 12h16"})})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:m,className:"p-1 text-gray-400 hover:text-white transition-colors","aria-label":`Go to ${h[(i.getMonth()+11)%12]}`,children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l.jsx("span",{className:"text-white font-medium min-w-[100px] text-center","aria-label":"Current month",children:h[i.getMonth()]}),l.jsx("button",{onClick:f,className:"p-1 text-gray-400 hover:text-white transition-colors","aria-label":`Go to ${h[(i.getMonth()+1)%12]}`,children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),l.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(y=>l.jsx("div",{className:"text-center text-gray-400 text-sm py-2",children:y},y))}),l.jsx("div",{className:"grid grid-cols-7 gap-1",role:"grid","aria-label":"Calendar",children:x.map((y,k)=>{if(!y)return l.jsx("div",{className:"h-10"},k);const S=v(y,r),E=y.getMonth()===i.getMonth();return l.jsxs("button",{onClick:()=>o(y),onKeyDown:R=>{if(R.key==="ArrowLeft"){R.preventDefault();const j=new Date(y);j.setDate(y.getDate()-1),o(j)}else if(R.key==="ArrowRight"){R.preventDefault();const j=new Date(y);j.setDate(y.getDate()+1),o(j)}},disabled:a,className:`
                h-10 rounded-lg text-sm font-medium relative
                ${S?"bg-[#8B5CF6] text-white":"text-gray-400"}
                ${E?"hover:bg-white/10":"opacity-50"}
                ${a?"cursor-wait":"cursor-pointer"}
                disabled:cursor-wait disabled:opacity-50
                transition-colors
              `,"aria-label":`${y.toLocaleDateString()} ${S?"(Selected)":""}`,"aria-current":S?"date":void 0,"aria-disabled":a,children:[y.getDate(),a&&S&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"})})]},k)})})]})},ln=e=>{const t=e.toLowerCase();return t.includes("squat")||t.includes("leg press")?"🏋️":t.includes("bench")||t.includes("press")&&t.includes("chest")?"💪":t.includes("deadlift")||t.includes("row")?"🔥":t.includes("curl")||t.includes("bicep")?"💪":t.includes("pull")||t.includes("chin")?"🔙":t.includes("shoulder")||t.includes("overhead")?"🏋️":t.includes("core")||t.includes("plank")||t.includes("crunch")||t.includes("cardio")||t.includes("run")||t.includes("bike")?"🏃":"💪"},cn=({exercises:e,onClose:t})=>{var a;const r=s=>s.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),i=()=>e.reduce((s,o)=>s+o.sets.length,0),n=()=>e.reduce((s,o)=>s+o.sets.reduce((u,p)=>u+(p.weight||0)*(p.reps||0),0),0);return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:l.jsxs("div",{className:"w-full max-w-md mx-4 bg-[#1a1a1a] rounded-lg max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"bg-green-600 p-4 text-center",children:[l.jsx("div",{className:"text-white text-lg font-bold mb-1",children:"Workout Complete!"}),l.jsx("div",{className:"text-green-100 text-sm",children:r(new Date(((a=e[0])==null?void 0:a.timestamp)||Date.now()))})]}),l.jsx("div",{className:"p-4 border-b border-gray-700",children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-white text-xl font-bold",children:e.length}),l.jsx("div",{className:"text-gray-400 text-sm",children:"Exercises"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white text-xl font-bold",children:i()}),l.jsx("div",{className:"text-gray-400 text-sm",children:"Sets"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white text-xl font-bold",children:n().toLocaleString()}),l.jsx("div",{className:"text-gray-400 text-sm",children:"Total kg"})]})]})}),l.jsx("div",{className:"max-h-[50vh] overflow-y-auto",children:e.map(s=>l.jsxs("div",{className:"flex items-center p-4 border-b border-gray-800",children:[l.jsx("div",{className:"w-12 h-12 bg-[#333] rounded-lg flex items-center justify-center mr-4",children:l.jsx("span",{className:"text-2xl",children:ln(s.exerciseName)})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-white font-medium text-base mb-1",children:s.exerciseName}),l.jsx("div",{className:"flex flex-wrap gap-1",children:s.sets.map((o,u)=>{let p="bg-gray-700";if(o.difficulty)switch(o.difficulty){case Ve.WARMUP:p="bg-blue-600";break;case Ve.EASY:p="bg-green-600";break;case Ve.NORMAL:p="bg-yellow-600";break;case Ve.HARD:p="bg-red-600";break;default:p="bg-gray-700"}return l.jsxs("div",{className:`${p} text-white text-xs px-2 py-1 rounded`,children:[o.weight?`${o.weight}kg × `:"",o.reps," ",o.weight?"":"reps"]},u)})}),l.jsxs("div",{className:"text-gray-400 text-sm mt-1",children:[s.sets.reduce((o,u)=>o+(u.weight||0)*(u.reps||0),0).toLocaleString()," kg total"]})]}),l.jsxs("div",{className:"text-gray-400 text-sm",children:[s.sets.length," set",s.sets.length!==1?"s":""]})]},s.id))}),l.jsx("div",{className:"p-4",children:l.jsx("button",{onClick:t,className:"w-full bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Done"})})]})})},un=async()=>{const e=ui.currentUser;if(!e)return console.warn("No authenticated user, falling back to localStorage"),et();try{console.log("🔍 Fetching all exercises from Firestore for export...");const t=pi(di,"users",e.uid,"exercises"),r=mi(t,$a("timestamp","desc")),i=await fi(r),n=[];return i.forEach(a=>{const s=a.data();let o;s.timestamp&&typeof s.timestamp.toDate=="function"?o=s.timestamp.toDate():s.timestamp instanceof Date?o=s.timestamp:typeof s.timestamp=="string"?o=new Date(s.timestamp):(console.warn("Invalid timestamp format, using current date:",s.timestamp),o=new Date),n.push({id:a.id,exerciseName:s.exerciseName,sets:s.sets,timestamp:o,deviceId:s.deviceId||"",userId:s.userId})}),console.log(`✅ Retrieved ${n.length} resistance exercises from Firestore for export`),n}catch(t){return console.error("❌ Error fetching exercises from Firestore, falling back to localStorage:",t),et()}},dn=()=>{try{return JSON.parse(localStorage.getItem("activity-logs")||"[]").map(t=>({...t,timestamp:new Date(t.timestamp)}))}catch(e){return console.error("Error fetching activity logs from localStorage:",e),[]}},pn=async()=>{if(!ui.currentUser)return console.warn("No authenticated user, using localStorage data"),et();try{const t=await un(),i=dn().map(a=>{var o,u;let s=[];if(a.activityType==="sport")s=((o=a.sessions)==null?void 0:o.map((d,c)=>({setNumber:c+1,activityType:"sport",duration:d.duration,distance:d.distance,calories:d.calories,intensity:d.intensity,score:d.score,opponent:d.opponent,performance:d.performance,skills:d.skills,notes:d.notes})))||[];else if(a.activityType==="endurance")s=((u=a.sessions)==null?void 0:u.map((d,c)=>({setNumber:c+1,activityType:"endurance",duration:d.duration,distance:d.distance,pace:d.pace,averageHeartRate:d.averageHeartRate||d.averageHR,maxHeartRate:d.maxHeartRate||d.maxHR,calories:d.calories,elevation:d.elevation,rpe:d.rpe,hrZone1:d.hrZone1,hrZone2:d.hrZone2,hrZone3:d.hrZone3,notes:d.notes})))||[];else if(a.activityType==="stretching"){const p=a;s=(p.stretches||p.sessions||[]).map((c,m)=>({setNumber:m+1,activityType:"stretching",duration:c.duration,holdTime:c.holdTime,intensity:c.intensity,flexibility:c.flexibility,bodyPart:c.bodyPart,stretchType:c.stretchType,notes:c.notes}))||[]}else if(a.activityType==="other"){const p=a;s=(p.customData||p.sessions||[]).map((c,m)=>({setNumber:m+1,activityType:"other",duration:c.duration,calories:c.calories,heartRate:c.heartRate,intensity:c.intensity,notes:c.notes,...c.customValues&&c.customValues,...Object.keys(c).reduce((f,g)=>(["sessionNumber","duration","calories","heartRate","intensity","notes","customValues"].includes(g)||(f[g]=c[g]),f),{})}))||[]}return{id:a.id,exerciseName:a.activityName,sets:s,timestamp:a.timestamp,deviceId:"activity-logger",userId:a.userId,activityType:a.activityType}}),n=[...t,...i];return console.log(`📊 Total exercises for export: ${n.length} (${t.length} resistance + ${i.length} activities)`),n}catch(t){return console.error("Error getting all exercises for export:",t),et()}},mn={warmUp:3,easy:5,moderate:7,hard:8,failure:9,dropSet:10,WARMUP:3,EASY:5,NORMAL:7,HARD:9,DROP:8},gi=e=>e&&mn[e]||7,vi=e=>e&&{warmUp:"Warm Up",easy:"Easy",moderate:"Moderate",hard:"Hard",failure:"Failure",dropSet:"Drop Set",WARMUP:"Warm Up",EASY:"Easy",NORMAL:"Moderate",HARD:"Hard",DROP:"Drop Set"}[e]||"Moderate",yi=(e,t,r)=>{if(!t||!r)return console.log("🔍 No date filter applied, returning all exercises"),e;const i=new Date(t);i.setHours(0,0,0,0);const n=new Date(r);n.setHours(23,59,59,999),console.log(`🔍 Filtering exercises by date range: ${i.toLocaleDateString()} to ${n.toLocaleDateString()}`);const a=e.filter(s=>{const o=new Date(s.timestamp);return o>=i&&o<=n});return console.log(`📊 Filtered ${a.length} exercises from ${e.length} total`),a},fn=(e,t,r)=>{const i=yi(e,t,r);if(i.length===0)return"";const n=i.some(c=>c.activityType==="resistance"||!c.activityType),a=i.some(c=>c.activityType==="sport"),s=i.some(c=>c.activityType==="endurance"),o=i.some(c=>c.activityType==="stretching"),u=i.some(c=>c.activityType==="other");let p=["Date","Exercise","Activity Type","Set"];n&&p.push("Weight (kg)","Reps"),a&&p.push("Duration (min)","Distance (m)","Calories","Score","Opponent","Performance"),s&&p.push("Duration (min)","Distance (m)","Pace","Avg HR","Max HR","Calories","Elevation","RPE","Zone 1","Zone 2","Zone 3"),o&&p.push("Duration (min)","Hold Time (s)","Body Part","Stretch Type","Flexibility"),u&&p.push("Duration (min)","Calories","Heart Rate"),p.push("Intensity","Difficulty","RPE Score","Notes");const d=[p.join(",")];return console.log(`📝 Processing ${i.length} exercises for CSV export with activity types:`,{hasResistance:n,hasSport:a,hasEndurance:s,hasStretching:o,hasOther:u}),i.forEach(c=>{const m=new Date(c.timestamp),f=c.activityType||"resistance";c.sets.forEach((g,b)=>{const x=vi(g.difficulty),h=gi(g.difficulty);let v=[`"${m.toLocaleDateString()}"`,`"${c.exerciseName}"`,f,b+1];n&&(f==="resistance"?v.push(String(g.weight||0),String(g.reps||0)):v.push("","")),a&&(f==="sport"?v.push(String(g.duration||""),String(g.distance||""),String(g.calories||""),String(g.score||""),`"${g.opponent||""}"`,String(g.performance||"")):v.push("","","","","","")),s&&(f==="endurance"?v.push(String(g.duration||""),String(g.distance||""),String(g.pace||""),String(g.averageHeartRate||""),String(g.maxHeartRate||""),String(g.calories||""),String(g.elevation||""),String(g.rpe||""),String(g.hrZone1||""),String(g.hrZone2||""),String(g.hrZone3||"")):v.push("","","","","","","","","","","")),o&&(f==="stretching"?v.push(String(g.duration||""),String(g.holdTime||""),`"${g.bodyPart||""}"`,`"${g.stretchType||""}"`,String(g.flexibility||"")):v.push("","","","","")),u&&(f==="other"?v.push(String(g.duration||""),String(g.calories||""),String(g.heartRate||"")):v.push("","","")),v.push(String(g.intensity||""),`"${x}"`,String(h),`"${g.notes||""}"`),d.push(v.join(","))})}),d.join(`
`)},gn=(e,t)=>{const r=new Blob([e],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");i.href=URL.createObjectURL(r),i.setAttribute("download",t),document.body.appendChild(i),i.click(),document.body.removeChild(i)},vn=async(e,t,r,i="both")=>{let n;console.log("🔍 Getting all exercises (including activities) for export..."),n=await pn(),console.log(`📊 Retrieved ${n.length} total exercises for potential export`);const a=yi(n,t,r);if(console.log(`📅 After date filtering: ${a.length} exercises in range`),a.length===0){const o=t&&r?`No exercises found in the selected date range (${t.toLocaleDateString()} - ${r.toLocaleDateString()})!`:"No exercises to export!";alert(o);return}const s=t&&r?`_${t.toISOString().split("T")[0]}_to_${r.toISOString().split("T")[0]}`:`_${new Date().toISOString().split("T")[0]}`;if(i==="csv"||i==="both"){const o=fn(a.map(u=>({...u,id:u.id??""})),t,r);o&&gn(o,`exercise-log${s}.csv`)}if(i==="json"||i==="both"){const o=a.map(c=>({...c,timestamp:c.timestamp instanceof Date?c.timestamp.toISOString():c.timestamp,sets:c.sets.map(m=>({...m,difficultyText:vi(m.difficulty),rpeScore:gi(m.difficulty)}))})),u={exportInfo:{exportDate:new Date().toISOString(),dateRange:t&&r?{startDate:t.toISOString().split("T")[0],endDate:r.toISOString().split("T")[0]}:"All dates",totalExercises:o.length,totalSets:o.reduce((c,m)=>c+m.sets.length,0),format:"json"},rpeReference:{"Warm Up":3,Easy:5,Moderate:7,Hard:8,Failure:9,"Drop Set":10},exercises:o},p=new Blob([JSON.stringify(u,null,2)],{type:"application/json"}),d=document.createElement("a");d.href=URL.createObjectURL(p),d.setAttribute("download",`exercise-log-backup${s}.json`),document.body.appendChild(d),d.click(),document.body.removeChild(d)}},yn=async e=>new Promise((t,r)=>{const i=new FileReader;i.onload=n=>{var a;try{const s=(a=n.target)==null?void 0:a.result,u=JSON.parse(s).map(p=>({id:p.id||`imported-${Date.now()}`,exerciseName:p.exerciseName,sets:p.sets,timestamp:new Date(p.timestamp),deviceId:p.deviceId||localStorage.getItem("device_id")||""}));t(u)}catch{r(new Error("Failed to parse import file"))}},i.onerror=()=>r(new Error("Failed to read file")),i.readAsText(e)}),hn=({isOpen:e,onClose:t,onExport:r})=>{const[i,n]=w.useState(""),[a,s]=w.useState(""),[o,u]=w.useState(!0),[p,d]=w.useState("both");if(!e)return null;const c=()=>{if(o)r(void 0,void 0,p);else{const f=i?new Date(i):void 0,g=a?new Date(a):void 0;if(f&&g&&f>g){alert("Start date must be before end date");return}r(f,g,p)}t()},m=new Date().toISOString().split("T")[0];return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] transition-opacity",onClick:t}),l.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-bg-primary rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"p-4 border-b border-border-secondary",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Export Exercise Data"}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-bg-secondary rounded-full transition-colors","aria-label":"Close Modal",children:l.jsx("svg",{className:"w-5 h-5 text-text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsxs("div",{className:"p-4 space-y-5",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-sm font-medium text-text-primary",children:"File Format"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"radio",name:"formatOption",value:"csv",checked:p==="csv",onChange:f=>d(f.target.value),className:"w-4 h-4 text-primary-400 border-border-secondary bg-bg-primary focus:ring-primary-400 focus:ring-2"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-text-primary font-medium",children:"CSV only"}),l.jsx("p",{className:"text-sm text-text-secondary",children:"Spreadsheet format for analysis"})]})]}),l.jsxs("label",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"radio",name:"formatOption",value:"json",checked:p==="json",onChange:f=>d(f.target.value),className:"w-4 h-4 text-primary-400 border-border-secondary bg-bg-primary focus:ring-primary-400 focus:ring-2"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-text-primary font-medium",children:"JSON only"}),l.jsx("p",{className:"text-sm text-text-secondary",children:"Structured format for backup"})]})]}),l.jsxs("label",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"radio",name:"formatOption",value:"both",checked:p==="both",onChange:f=>d(f.target.value),className:"w-4 h-4 text-primary-400 border-border-secondary bg-bg-primary focus:ring-primary-400 focus:ring-2"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-text-primary font-medium",children:"Both CSV and JSON"}),l.jsx("p",{className:"text-sm text-text-secondary",children:"Export in both formats"})]})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-sm font-medium text-text-primary",children:"Date Range"}),l.jsxs("label",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-bg-secondary/50 transition-colors cursor-pointer",children:[l.jsx("input",{type:"radio",name:"dateOption",checked:o,onChange:()=>u(!0),className:"w-4 h-4 text-primary-400 border-border-secondary bg-bg-primary focus:ring-primary-400 focus:ring-2"}),l.jsx("span",{className:"text-text-primary font-medium",children:"Export all exercise logs"})]}),l.jsxs("label",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-bg-secondary/50 transition-colors cursor-pointer",children:[l.jsx("input",{type:"radio",name:"dateOption",checked:!o,onChange:()=>u(!1),className:"w-4 h-4 text-primary-400 border-border-secondary bg-bg-primary focus:ring-primary-400 focus:ring-2"}),l.jsx("span",{className:"text-text-primary font-medium",children:"Select custom date range"})]}),!o&&l.jsxs("div",{className:"ml-7 p-3 bg-bg-secondary/30 rounded-lg space-y-3 border border-border-secondary/50",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Start Date"}),l.jsx("input",{type:"date",value:i,onChange:f=>n(f.target.value),max:m,className:`date-picker-dark w-full px-3 py-2 bg-bg-primary border border-border-secondary rounded-lg \r
                                focus:ring-2 focus:ring-primary-400 focus:border-primary-400 \r
                                text-text-primary text-sm transition-colors duration-200\r
                                hover:border-primary-300`})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"End Date"}),l.jsx("input",{type:"date",value:a,onChange:f=>s(f.target.value),max:m,min:i||void 0,className:`date-picker-dark w-full px-3 py-2 bg-bg-primary border border-border-secondary rounded-lg \r
                                focus:ring-2 focus:ring-primary-400 focus:border-primary-400 \r
                                text-text-primary text-sm transition-colors duration-200\r
                                hover:border-primary-300`})]}),i&&a&&l.jsxs("div",{className:"text-xs text-text-secondary",children:["📅 ",new Date(i).toLocaleDateString()," to ",new Date(a).toLocaleDateString()]})]})]})]}),l.jsxs("div",{className:"p-4 border-t border-border-secondary flex justify-end space-x-3",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 text-text-secondary hover:text-text-primary transition-colors",children:"Cancel"}),l.jsxs("button",{onClick:c,className:"px-6 py-2 bg-primary-400 hover:bg-primary-500 text-white rounded-lg transition-colors font-medium",children:["Export ",p==="csv"?"CSV":p==="json"?"JSON":"Data"]})]})]})})]})};function hi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ut(e,t)}var bi=W.createContext(null);function bn(e){e()}var xi=bn,xn=function(t){return xi=t},wn=function(){return xi};function kn(){var e=wn(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var n=t;n;)n.callback(),n=n.next})},get:function(){for(var n=[],a=t;a;)n.push(a),a=a.next;return n},subscribe:function(n){var a=!0,s=r={callback:n,next:null,prev:r};return s.prev?s.prev.next=s:t=s,function(){!a||t===null||(a=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var Pr={notify:function(){},get:function(){return[]}};function wi(e,t){var r,i=Pr;function n(c){return u(),i.subscribe(c)}function a(){i.notify()}function s(){d.onStateChange&&d.onStateChange()}function o(){return!!r}function u(){r||(r=t?t.addNestedSub(s):e.subscribe(s),i=kn())}function p(){r&&(r(),r=void 0,i.clear(),i=Pr)}var d={addNestedSub:n,notifyNestedSubs:a,handleChangeWrapper:s,isSubscribed:o,trySubscribe:u,tryUnsubscribe:p,getListeners:function(){return i}};return d}var ki=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function Sn(e){var t=e.store,r=e.context,i=e.children,n=w.useMemo(function(){var o=wi(t);return{store:t,subscription:o}},[t]),a=w.useMemo(function(){return t.getState()},[t]);ki(function(){var o=n.subscription;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),a!==t.getState()&&o.notifyNestedSubs(),function(){o.tryUnsubscribe(),o.onStateChange=null}},[n,a]);var s=r||bi;return W.createElement(s.Provider,{value:n},i)}var Et={exports:{}},U={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mr;function Dn(){if(Mr)return U;Mr=1;var e=60103,t=60106,r=60107,i=60108,n=60114,a=60109,s=60110,o=60112,u=60113,p=60120,d=60115,c=60116,m=60121,f=60122,g=60117,b=60129,x=60131;if(typeof Symbol=="function"&&Symbol.for){var h=Symbol.for;e=h("react.element"),t=h("react.portal"),r=h("react.fragment"),i=h("react.strict_mode"),n=h("react.profiler"),a=h("react.provider"),s=h("react.context"),o=h("react.forward_ref"),u=h("react.suspense"),p=h("react.suspense_list"),d=h("react.memo"),c=h("react.lazy"),m=h("react.block"),f=h("react.server.block"),g=h("react.fundamental"),b=h("react.debug_trace_mode"),x=h("react.legacy_hidden")}function v(C){if(typeof C=="object"&&C!==null){var L=C.$$typeof;switch(L){case e:switch(C=C.type,C){case r:case n:case i:case u:case p:return C;default:switch(C=C&&C.$$typeof,C){case s:case o:case c:case d:case a:return C;default:return L}}case t:return L}}}var y=a,k=e,S=o,E=r,R=c,j=d,q=t,D=n,A=i,_=u;return U.ContextConsumer=s,U.ContextProvider=y,U.Element=k,U.ForwardRef=S,U.Fragment=E,U.Lazy=R,U.Memo=j,U.Portal=q,U.Profiler=D,U.StrictMode=A,U.Suspense=_,U.isAsyncMode=function(){return!1},U.isConcurrentMode=function(){return!1},U.isContextConsumer=function(C){return v(C)===s},U.isContextProvider=function(C){return v(C)===a},U.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===e},U.isForwardRef=function(C){return v(C)===o},U.isFragment=function(C){return v(C)===r},U.isLazy=function(C){return v(C)===c},U.isMemo=function(C){return v(C)===d},U.isPortal=function(C){return v(C)===t},U.isProfiler=function(C){return v(C)===n},U.isStrictMode=function(C){return v(C)===i},U.isSuspense=function(C){return v(C)===u},U.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===n||C===b||C===i||C===u||C===p||C===x||typeof C=="object"&&C!==null&&(C.$$typeof===c||C.$$typeof===d||C.$$typeof===a||C.$$typeof===s||C.$$typeof===o||C.$$typeof===g||C.$$typeof===m||C[0]===f)},U.typeOf=v,U}var Ir;function En(){return Ir||(Ir=1,Et.exports=Dn()),Et.exports}var Tn=En(),Cn=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Nn=["reactReduxForwardedRef"],Rn=[],Pn=[null,null];function Mn(e,t){var r=e[1];return[t.payload,r+1]}function Ar(e,t,r){ki(function(){return e.apply(void 0,t)},r)}function In(e,t,r,i,n,a,s){e.current=i,t.current=n,r.current=!1,a.current&&(a.current=null,s())}function An(e,t,r,i,n,a,s,o,u,p){if(e){var d=!1,c=null,m=function(){if(!d){var b=t.getState(),x,h;try{x=i(b,n.current)}catch(v){h=v,c=v}h||(c=null),x===a.current?s.current||u():(a.current=x,o.current=x,s.current=!0,p({type:"STORE_UPDATED",payload:{error:h}}))}};r.onStateChange=m,r.trySubscribe(),m();var f=function(){if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,c)throw c};return f}}var jn=function(){return[null,0]};function Bn(e,t){t===void 0&&(t={});var r=t,i=r.getDisplayName,n=i===void 0?function(y){return"ConnectAdvanced("+y+")"}:i,a=r.methodName,s=a===void 0?"connectAdvanced":a,o=r.renderCountProp,u=o===void 0?void 0:o,p=r.shouldHandleStateChanges,d=p===void 0?!0:p,c=r.storeKey,m=c===void 0?"store":c;r.withRef;var f=r.forwardRef,g=f===void 0?!1:f,b=r.context,x=b===void 0?bi:b,h=tt(r,Cn),v=x;return function(k){var S=k.displayName||k.name||"Component",E=n(S),R=M({},h,{getDisplayName:n,methodName:s,renderCountProp:u,shouldHandleStateChanges:d,storeKey:m,displayName:E,wrappedComponentName:S,WrappedComponent:k}),j=h.pure;function q(L){return e(L.dispatch,R)}var D=j?w.useMemo:function(L){return L()};function A(L){var J=w.useMemo(function(){var Re=L.reactReduxForwardedRef,kt=tt(L,Nn);return[L.context,Re,kt]},[L]),Z=J[0],ce=J[1],N=J[2],I=w.useMemo(function(){return Z&&Z.Consumer&&Tn.isContextConsumer(W.createElement(Z.Consumer,null))?Z:v},[Z,v]),B=w.useContext(I),F=!!L.store&&!!L.store.getState&&!!L.store.dispatch;B&&B.store;var G=F?L.store:B.store,z=w.useMemo(function(){return q(G)},[G]),le=w.useMemo(function(){if(!d)return Pn;var Re=wi(G,F?null:B.subscription),kt=Re.notifyNestedSubs.bind(Re);return[Re,kt]},[G,F,B]),ie=le[0],Ce=le[1],Ne=w.useMemo(function(){return F?B:M({},B,{subscription:ie})},[F,B,ie]),he=w.useReducer(Mn,Rn,jn),be=he[0],X=be[0],Q=he[1];if(X&&X.error)throw X.error;var vr=w.useRef(),bt=w.useRef(N),$e=w.useRef(),yr=w.useRef(!1),xt=D(function(){return $e.current&&N===bt.current?$e.current:z(G.getState(),N)},[G,X,N]);Ar(In,[bt,vr,yr,N,xt,$e,Ce]),Ar(An,[d,G,ie,z,bt,vr,yr,$e,Ce,Q],[G,ie,z]);var wt=w.useMemo(function(){return W.createElement(k,M({},xt,{ref:ce}))},[ce,k,xt]),Da=w.useMemo(function(){return d?W.createElement(I.Provider,{value:Ne},wt):wt},[I,wt,Ne]);return Da}var _=j?W.memo(A):A;if(_.WrappedComponent=k,_.displayName=A.displayName=E,g){var C=W.forwardRef(function(J,Z){return W.createElement(_,M({},J,{reactReduxForwardedRef:Z}))});return C.displayName=E,C.WrappedComponent=k,hr(C,k)}return hr(_,k)}}function jr(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Tt(e,t){if(jr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!jr(e[r[n]],t[r[n]]))return!1;return!0}function qn(e,t){var r={},i=function(s){var o=e[s];typeof o=="function"&&(r[s]=function(){return t(o.apply(void 0,arguments))})};for(var n in e)i(n);return r}function Kt(e){return function(r,i){var n=e(r,i);function a(){return n}return a.dependsOnOwnProps=!1,a}}function Br(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function Si(e,t){return function(i,n){n.displayName;var a=function(o,u){return a.dependsOnOwnProps?a.mapToProps(o,u):a.mapToProps(o)};return a.dependsOnOwnProps=!0,a.mapToProps=function(o,u){a.mapToProps=e,a.dependsOnOwnProps=Br(e);var p=a(o,u);return typeof p=="function"&&(a.mapToProps=p,a.dependsOnOwnProps=Br(p),p=a(o,u)),p},a}}function On(e){return typeof e=="function"?Si(e):void 0}function Un(e){return e?void 0:Kt(function(t){return{dispatch:t}})}function Ln(e){return e&&typeof e=="object"?Kt(function(t){return qn(e,t)}):void 0}const Fn=[On,Un,Ln];function Wn(e){return typeof e=="function"?Si(e):void 0}function Gn(e){return e?void 0:Kt(function(){return{}})}const Hn=[Wn,Gn];function _n(e,t,r){return M({},r,e,t)}function $n(e){return function(r,i){i.displayName;var n=i.pure,a=i.areMergedPropsEqual,s=!1,o;return function(p,d,c){var m=e(p,d,c);return s?(!n||!a(m,o))&&(o=m):(s=!0,o=m),o}}}function Vn(e){return typeof e=="function"?$n(e):void 0}function Kn(e){return e?void 0:function(){return _n}}const zn=[Vn,Kn];var Yn=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Jn(e,t,r,i){return function(a,s){return r(e(a,s),t(i,s),s)}}function Zn(e,t,r,i,n){var a=n.areStatesEqual,s=n.areOwnPropsEqual,o=n.areStatePropsEqual,u=!1,p,d,c,m,f;function g(y,k){return p=y,d=k,c=e(p,d),m=t(i,d),f=r(c,m,d),u=!0,f}function b(){return c=e(p,d),t.dependsOnOwnProps&&(m=t(i,d)),f=r(c,m,d),f}function x(){return e.dependsOnOwnProps&&(c=e(p,d)),t.dependsOnOwnProps&&(m=t(i,d)),f=r(c,m,d),f}function h(){var y=e(p,d),k=!o(y,c);return c=y,k&&(f=r(c,m,d)),f}function v(y,k){var S=!s(k,d),E=!a(y,p,k,d);return p=y,d=k,S&&E?b():S?x():E?h():f}return function(k,S){return u?v(k,S):g(k,S)}}function Xn(e,t){var r=t.initMapStateToProps,i=t.initMapDispatchToProps,n=t.initMergeProps,a=tt(t,Yn),s=r(e,a),o=i(e,a),u=n(e,a),p=a.pure?Zn:Jn;return p(s,o,u,e,a)}var Qn=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Ct(e,t,r){for(var i=t.length-1;i>=0;i--){var n=t[i](e);if(n)return n}return function(a,s){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+s.wrappedComponentName+".")}}function es(e,t){return e===t}function ts(e){var t=e===void 0?{}:e,r=t.connectHOC,i=r===void 0?Bn:r,n=t.mapStateToPropsFactories,a=n===void 0?Hn:n,s=t.mapDispatchToPropsFactories,o=s===void 0?Fn:s,u=t.mergePropsFactories,p=u===void 0?zn:u,d=t.selectorFactory,c=d===void 0?Xn:d;return function(f,g,b,x){x===void 0&&(x={});var h=x,v=h.pure,y=v===void 0?!0:v,k=h.areStatesEqual,S=k===void 0?es:k,E=h.areOwnPropsEqual,R=E===void 0?Tt:E,j=h.areStatePropsEqual,q=j===void 0?Tt:j,D=h.areMergedPropsEqual,A=D===void 0?Tt:D,_=tt(h,Qn),C=Ct(f,a,"mapStateToProps"),L=Ct(g,o,"mapDispatchToProps"),J=Ct(b,p,"mergeProps");return i(c,M({methodName:"connect",getDisplayName:function(ce){return"Connect("+ce+")"},shouldHandleStateChanges:!!f,initMapStateToProps:C,initMapDispatchToProps:L,initMergeProps:J,pure:y,areStatesEqual:S,areOwnPropsEqual:R,areStatePropsEqual:q,areMergedPropsEqual:A},_))}}const Di=ts();xn(Pa.unstable_batchedUpdates);function rs(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Ei(e,t){var r=w.useState(function(){return{inputs:t,result:e()}})[0],i=w.useRef(!0),n=w.useRef(r),a=i.current||!!(t&&n.current.inputs&&rs(t,n.current.inputs)),s=a?n.current:{inputs:t,result:e()};return w.useEffect(function(){i.current=!1,n.current=s},[s]),s.result}function is(e,t){return Ei(function(){return e},t)}var O=Ei,P=is,as="Invariant failed";function ns(e,t){throw new Error(as)}var oe=function(t){var r=t.top,i=t.right,n=t.bottom,a=t.left,s=i-a,o=n-r,u={top:r,right:i,bottom:n,left:a,width:s,height:o,x:a,y:r,center:{x:(i+a)/2,y:(n+r)/2}};return u},zt=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},qr=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},ss=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Nt={top:0,right:0,bottom:0,left:0},Yt=function(t){var r=t.borderBox,i=t.margin,n=i===void 0?Nt:i,a=t.border,s=a===void 0?Nt:a,o=t.padding,u=o===void 0?Nt:o,p=oe(zt(r,n)),d=oe(qr(r,s)),c=oe(qr(d,u));return{marginBox:p,borderBox:oe(r),paddingBox:d,contentBox:c,margin:n,border:s,padding:u}},ae=function(t){var r=t.slice(0,-2),i=t.slice(-2);if(i!=="px")return 0;var n=Number(r);return isNaN(n)&&ns(),n},os=function(){return{x:window.pageXOffset,y:window.pageYOffset}},rt=function(t,r){var i=t.borderBox,n=t.border,a=t.margin,s=t.padding,o=ss(i,r);return Yt({borderBox:o,border:n,margin:a,padding:s})},it=function(t,r){return r===void 0&&(r=os()),rt(t,r)},Ti=function(t,r){var i={top:ae(r.marginTop),right:ae(r.marginRight),bottom:ae(r.marginBottom),left:ae(r.marginLeft)},n={top:ae(r.paddingTop),right:ae(r.paddingRight),bottom:ae(r.paddingBottom),left:ae(r.paddingLeft)},a={top:ae(r.borderTopWidth),right:ae(r.borderRightWidth),bottom:ae(r.borderBottomWidth),left:ae(r.borderLeftWidth)};return Yt({borderBox:t,margin:i,padding:n,border:a})},Ci=function(t){var r=t.getBoundingClientRect(),i=window.getComputedStyle(t);return Ti(r,i)},Or=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function ls(e,t){return!!(e===t||Or(e)&&Or(t))}function cs(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!ls(e[r],t[r]))return!1;return!0}function $(e,t){t===void 0&&(t=cs);var r,i=[],n,a=!1;function s(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return a&&r===this&&t(o,i)||(n=e.apply(this,o),a=!0,r=this,i=o),n}return s}var Ue=function(t){var r=[],i=null,n=function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];r=o,!i&&(i=requestAnimationFrame(function(){i=null,t.apply(void 0,r)}))};return n.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},n};function Ni(e,t){}Ni.bind(null,"warn");Ni.bind(null,"error");function ue(){}function us(e,t){return M({},e,{},t)}function ne(e,t,r){var i=t.map(function(n){var a=us(r,n.options);return e.addEventListener(n.eventName,n.fn,a),function(){e.removeEventListener(n.eventName,n.fn,a)}});return function(){i.forEach(function(a){a()})}}var ds="Invariant failed";function at(e){this.message=e}at.prototype.toString=function(){return this.message};function T(e,t){throw new at(ds)}var ps=function(e){hi(t,e);function t(){for(var i,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=e.call.apply(e,[this].concat(a))||this,i.callbacks=null,i.unbind=ue,i.onWindowError=function(o){var u=i.getCallbacks();u.isDragging()&&u.tryAbort();var p=o.error;p instanceof at&&o.preventDefault()},i.getCallbacks=function(){if(!i.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return i.callbacks},i.setCallbacks=function(o){i.callbacks=o},i}var r=t.prototype;return r.componentDidMount=function(){this.unbind=ne(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(n){if(n instanceof at){this.setState({});return}throw n},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(W.Component),ms=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,nt=function(t){return t+1},fs=function(t){return`
  You have lifted an item in position `+nt(t.source.index)+`
`},Ri=function(t,r){var i=t.droppableId===r.droppableId,n=nt(t.index),a=nt(r.index);return i?`
      You have moved the item from position `+n+`
      to position `+a+`
    `:`
    You have moved the item from position `+n+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+a+`
  `},Pi=function(t,r,i){var n=r.droppableId===i.droppableId;return n?`
      The item `+t+`
      has been combined with `+i.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+i.draggableId+`
      in list `+i.droppableId+`
    `},gs=function(t){var r=t.destination;if(r)return Ri(t.source,r);var i=t.combine;return i?Pi(t.draggableId,t.source,i):"You are over an area that cannot be dropped on"},Ur=function(t){return`
  The item has returned to its starting position
  of `+nt(t.index)+`
`},vs=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Ur(t.source)+`
    `;var r=t.destination,i=t.combine;return r?`
      You have dropped the item.
      `+Ri(t.source,r)+`
    `:i?`
      You have dropped the item.
      `+Pi(t.draggableId,t.source,i)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Ur(t.source)+`
  `},Qe={dragHandleUsageInstructions:ms,onDragStart:fs,onDragUpdate:gs,onDragEnd:vs},V={x:0,y:0},K=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},ee=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},de=function(t,r){return t.x===r.x&&t.y===r.y},De=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},ye=function(t,r,i){var n;return i===void 0&&(i=0),n={},n[t]=r,n[t==="x"?"y":"x"]=i,n},Le=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},Lr=function(t,r){return Math.min.apply(Math,r.map(function(i){return Le(t,i)}))},Mi=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},ys=function(e,t){var r=oe({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},He=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Fr=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},hs={top:0,right:0,bottom:0,left:0},bs=function(t,r){return r?He(t,r.scroll.diff.displacement):t},xs=function(t,r,i){if(i&&i.increasedBy){var n;return M({},t,(n={},n[r.end]=t[r.end]+i.increasedBy[r.line],n))}return t},ws=function(t,r){return r&&r.shouldClipSubject?ys(r.pageMarginBox,t):oe(t)},we=function(e){var t=e.page,r=e.withPlaceholder,i=e.axis,n=e.frame,a=bs(t.marginBox,n),s=xs(a,i,r),o=ws(s,n);return{page:t,withPlaceholder:r,active:o}},Jt=function(e,t){e.frame||T();var r=e.frame,i=ee(t,r.scroll.initial),n=De(i),a=M({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:i,displacement:n},max:r.scroll.max}}),s=we({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a}),o=M({},e,{frame:a,subject:s});return o};function st(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Zt(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function fe(e,t){if(e.find)return e.find(t);var r=Zt(e,t);if(r!==-1)return e[r]}function Ii(e){return Array.prototype.slice.call(e)}var Ai=$(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),ji=$(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),pt=$(function(e){return st(e)}),ks=$(function(e){return st(e)}),Ee=$(function(e,t){var r=ks(t).filter(function(i){return e===i.descriptor.droppableId}).sort(function(i,n){return i.descriptor.index-n.descriptor.index});return r});function Xt(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function mt(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var ft=$(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),Ss=function(e){var t=e.isMovingForward,r=e.draggable,i=e.destination,n=e.insideDestination,a=e.previousImpact;if(!i.isCombineEnabled)return null;var s=Xt(a);if(!s)return null;function o(b){var x={type:"COMBINE",combine:{draggableId:b,droppableId:i.descriptor.id}};return M({},a,{at:x})}var u=a.displaced.all,p=u.length?u[0]:null;if(t)return p?o(p):null;var d=ft(r,n);if(!p){if(!d.length)return null;var c=d[d.length-1];return o(c.descriptor.id)}var m=Zt(d,function(b){return b.descriptor.id===p});m===-1&&T();var f=m-1;if(f<0)return null;var g=d[f];return o(g.descriptor.id)},Te=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Bi={point:V,value:0},Fe={invisible:{},visible:{},all:[]},Ds={displaced:Fe,displacedBy:Bi,at:null},se=function(e,t){return function(r){return e<=r&&r<=t}},qi=function(e){var t=se(e.top,e.bottom),r=se(e.left,e.right);return function(i){var n=t(i.top)&&t(i.bottom)&&r(i.left)&&r(i.right);if(n)return!0;var a=t(i.top)||t(i.bottom),s=r(i.left)||r(i.right),o=a&&s;if(o)return!0;var u=i.top<e.top&&i.bottom>e.bottom,p=i.left<e.left&&i.right>e.right,d=u&&p;if(d)return!0;var c=u&&s||p&&a;return c}},Es=function(e){var t=se(e.top,e.bottom),r=se(e.left,e.right);return function(i){var n=t(i.top)&&t(i.bottom)&&r(i.left)&&r(i.right);return n}},Qt={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Oi={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Ts=function(e){return function(t){var r=se(t.top,t.bottom),i=se(t.left,t.right);return function(n){return e===Qt?r(n.top)&&r(n.bottom):i(n.left)&&i(n.right)}}},Cs=function(t,r){var i=r.frame?r.frame.scroll.diff.displacement:V;return He(t,i)},Ns=function(t,r,i){return r.subject.active?i(r.subject.active)(t):!1},Rs=function(t,r,i){return i(r)(t)},er=function(t){var r=t.target,i=t.destination,n=t.viewport,a=t.withDroppableDisplacement,s=t.isVisibleThroughFrameFn,o=a?Cs(r,i):r;return Ns(o,i,s)&&Rs(o,n,s)},Ps=function(t){return er(M({},t,{isVisibleThroughFrameFn:qi}))},Ui=function(t){return er(M({},t,{isVisibleThroughFrameFn:Es}))},Ms=function(t){return er(M({},t,{isVisibleThroughFrameFn:Ts(t.destination.axis)}))},Is=function(t,r,i){if(typeof i=="boolean")return i;if(!r)return!0;var n=r.invisible,a=r.visible;if(n[t])return!1;var s=a[t];return s?s.shouldAnimate:!0};function As(e,t){var r=e.page.marginBox,i={top:t.point.y,right:0,bottom:0,left:t.point.x};return oe(zt(r,i))}function We(e){var t=e.afterDragging,r=e.destination,i=e.displacedBy,n=e.viewport,a=e.forceShouldAnimate,s=e.last;return t.reduce(function(u,p){var d=As(p,i),c=p.descriptor.id;u.all.push(c);var m=Ps({target:d,destination:r,viewport:n,withDroppableDisplacement:!0});if(!m)return u.invisible[p.descriptor.id]=!0,u;var f=Is(c,s,a),g={draggableId:c,shouldAnimate:f};return u.visible[c]=g,u},{all:[],visible:{},invisible:{}})}function js(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function Wr(e){var t=e.insideDestination,r=e.inHomeList,i=e.displacedBy,n=e.destination,a=js(t,{inHomeList:r});return{displaced:Fe,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}function ot(e){var t=e.draggable,r=e.insideDestination,i=e.destination,n=e.viewport,a=e.displacedBy,s=e.last,o=e.index,u=e.forceShouldAnimate,p=Te(t,i);if(o==null)return Wr({insideDestination:r,inHomeList:p,displacedBy:a,destination:i});var d=fe(r,function(b){return b.descriptor.index===o});if(!d)return Wr({insideDestination:r,inHomeList:p,displacedBy:a,destination:i});var c=ft(t,r),m=r.indexOf(d),f=c.slice(m),g=We({afterDragging:f,destination:i,displacedBy:a,last:s,viewport:n.frame,forceShouldAnimate:u});return{displaced:g,displacedBy:a,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function me(e,t){return!!t.effected[e]}var Bs=function(e){var t=e.isMovingForward,r=e.destination,i=e.draggables,n=e.combine,a=e.afterCritical;if(!r.isCombineEnabled)return null;var s=n.draggableId,o=i[s],u=o.descriptor.index,p=me(s,a);return p?t?u:u-1:t?u+1:u},qs=function(e){var t=e.isMovingForward,r=e.isInHomeList,i=e.insideDestination,n=e.location;if(!i.length)return null;var a=n.index,s=t?a+1:a-1,o=i[0].descriptor.index,u=i[i.length-1].descriptor.index,p=r?u:u+1;return s<o||s>p?null:s},Os=function(e){var t=e.isMovingForward,r=e.isInHomeList,i=e.draggable,n=e.draggables,a=e.destination,s=e.insideDestination,o=e.previousImpact,u=e.viewport,p=e.afterCritical,d=o.at;if(d||T(),d.type==="REORDER"){var c=qs({isMovingForward:t,isInHomeList:r,location:d.destination,insideDestination:s});return c==null?null:ot({draggable:i,insideDestination:s,destination:a,viewport:u,last:o.displaced,displacedBy:o.displacedBy,index:c})}var m=Bs({isMovingForward:t,destination:a,displaced:o.displaced,draggables:n,combine:d.combine,afterCritical:p});return m==null?null:ot({draggable:i,insideDestination:s,destination:a,viewport:u,last:o.displaced,displacedBy:o.displacedBy,index:m})},Us=function(e){var t=e.displaced,r=e.afterCritical,i=e.combineWith,n=e.displacedBy,a=!!(t.visible[i]||t.invisible[i]);return me(i,r)?a?V:De(n.point):a?n.point:V},Ls=function(e){var t=e.afterCritical,r=e.impact,i=e.draggables,n=mt(r);n||T();var a=n.draggableId,s=i[a].page.borderBox.center,o=Us({displaced:r.displaced,afterCritical:t,combineWith:a,displacedBy:r.displacedBy});return K(s,o)},Li=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},Fs=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},tr=function(t,r,i){return r[t.crossAxisStart]+i.margin[t.crossAxisStart]+i.borderBox[t.crossAxisSize]/2},Gr=function(t){var r=t.axis,i=t.moveRelativeTo,n=t.isMoving;return ye(r.line,i.marginBox[r.end]+Li(r,n),tr(r,i.marginBox,n))},Hr=function(t){var r=t.axis,i=t.moveRelativeTo,n=t.isMoving;return ye(r.line,i.marginBox[r.start]-Fs(r,n),tr(r,i.marginBox,n))},Ws=function(t){var r=t.axis,i=t.moveInto,n=t.isMoving;return ye(r.line,i.contentBox[r.start]+Li(r,n),tr(r,i.contentBox,n))},Gs=function(e){var t=e.impact,r=e.draggable,i=e.draggables,n=e.droppable,a=e.afterCritical,s=Ee(n.descriptor.id,i),o=r.page,u=n.axis;if(!s.length)return Ws({axis:u,moveInto:n.page,isMoving:o});var p=t.displaced,d=t.displacedBy,c=p.all[0];if(c){var m=i[c];if(me(c,a))return Hr({axis:u,moveRelativeTo:m.page,isMoving:o});var f=rt(m.page,d.point);return Hr({axis:u,moveRelativeTo:f,isMoving:o})}var g=s[s.length-1];if(g.descriptor.id===r.descriptor.id)return o.borderBox.center;if(me(g.descriptor.id,a)){var b=rt(g.page,De(a.displacedBy.point));return Gr({axis:u,moveRelativeTo:b,isMoving:o})}return Gr({axis:u,moveRelativeTo:g.page,isMoving:o})},Lt=function(e,t){var r=e.frame;return r?K(t,r.scroll.diff.displacement):t},Hs=function(t){var r=t.impact,i=t.draggable,n=t.droppable,a=t.draggables,s=t.afterCritical,o=i.page.borderBox.center,u=r.at;return!n||!u?o:u.type==="REORDER"?Gs({impact:r,draggable:i,draggables:a,droppable:n,afterCritical:s}):Ls({impact:r,draggables:a,afterCritical:s})},gt=function(e){var t=Hs(e),r=e.droppable,i=r?Lt(r,t):t;return i},Fi=function(e,t){var r=ee(t,e.scroll.initial),i=De(r),n=oe({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),a={frame:n,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:i}}};return a};function _r(e,t){return e.map(function(r){return t[r]})}function _s(e,t){for(var r=0;r<t.length;r++){var i=t[r].visible[e];if(i)return i}return null}var $s=function(e){var t=e.impact,r=e.viewport,i=e.destination,n=e.draggables,a=e.maxScrollChange,s=Fi(r,K(r.scroll.current,a)),o=i.frame?Jt(i,K(i.frame.scroll.current,a)):i,u=t.displaced,p=We({afterDragging:_r(u.all,n),destination:i,displacedBy:t.displacedBy,viewport:s.frame,last:u,forceShouldAnimate:!1}),d=We({afterDragging:_r(u.all,n),destination:o,displacedBy:t.displacedBy,viewport:r.frame,last:u,forceShouldAnimate:!1}),c={},m={},f=[u,p,d];u.all.forEach(function(b){var x=_s(b,f);if(x){m[b]=x;return}c[b]=!0});var g=M({},t,{displaced:{all:u.all,invisible:c,visible:m}});return g},Vs=function(e,t){return K(e.scroll.diff.displacement,t)},rr=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,i=e.viewport,n=Vs(i,t),a=ee(n,r.page.borderBox.center);return K(r.client.borderBox.center,a)},Wi=function(e){var t=e.draggable,r=e.destination,i=e.newPageBorderBoxCenter,n=e.viewport,a=e.withDroppableDisplacement,s=e.onlyOnMainAxis,o=s===void 0?!1:s,u=ee(i,t.page.borderBox.center),p=He(t.page.borderBox,u),d={target:p,destination:r,withDroppableDisplacement:a,viewport:n};return o?Ms(d):Ui(d)},Ks=function(e){var t=e.isMovingForward,r=e.draggable,i=e.destination,n=e.draggables,a=e.previousImpact,s=e.viewport,o=e.previousPageBorderBoxCenter,u=e.previousClientSelection,p=e.afterCritical;if(!i.isEnabled)return null;var d=Ee(i.descriptor.id,n),c=Te(r,i),m=Ss({isMovingForward:t,draggable:r,destination:i,insideDestination:d,previousImpact:a})||Os({isMovingForward:t,isInHomeList:c,draggable:r,draggables:n,destination:i,insideDestination:d,previousImpact:a,viewport:s,afterCritical:p});if(!m)return null;var f=gt({impact:m,draggable:r,droppable:i,draggables:n,afterCritical:p}),g=Wi({draggable:r,destination:i,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var b=rr({pageBorderBoxCenter:f,draggable:r,viewport:s});return{clientSelection:b,impact:m,scrollJumpRequest:null}}var x=ee(f,o),h=$s({impact:m,viewport:s,destination:i,draggables:n,maxScrollChange:x});return{clientSelection:u,impact:h,scrollJumpRequest:x}},Y=function(t){var r=t.subject.active;return r||T(),r},zs=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,i=e.source,n=e.droppables,a=e.viewport,s=i.subject.active;if(!s)return null;var o=i.axis,u=se(s[o.start],s[o.end]),p=pt(n).filter(function(c){return c!==i}).filter(function(c){return c.isEnabled}).filter(function(c){return!!c.subject.active}).filter(function(c){return qi(a.frame)(Y(c))}).filter(function(c){var m=Y(c);return t?s[o.crossAxisEnd]<m[o.crossAxisEnd]:m[o.crossAxisStart]<s[o.crossAxisStart]}).filter(function(c){var m=Y(c),f=se(m[o.start],m[o.end]);return u(m[o.start])||u(m[o.end])||f(s[o.start])||f(s[o.end])}).sort(function(c,m){var f=Y(c)[o.crossAxisStart],g=Y(m)[o.crossAxisStart];return t?f-g:g-f}).filter(function(c,m,f){return Y(c)[o.crossAxisStart]===Y(f[0])[o.crossAxisStart]});if(!p.length)return null;if(p.length===1)return p[0];var d=p.filter(function(c){var m=se(Y(c)[o.start],Y(c)[o.end]);return m(r[o.line])});return d.length===1?d[0]:d.length>1?d.sort(function(c,m){return Y(c)[o.start]-Y(m)[o.start]})[0]:p.sort(function(c,m){var f=Lr(r,Fr(Y(c))),g=Lr(r,Fr(Y(m)));return f!==g?f-g:Y(c)[o.start]-Y(m)[o.start]})[0]},$r=function(t,r){var i=t.page.borderBox.center;return me(t.descriptor.id,r)?ee(i,r.displacedBy.point):i},Ys=function(t,r){var i=t.page.borderBox;return me(t.descriptor.id,r)?He(i,De(r.displacedBy.point)):i},Js=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,i=e.destination,n=e.insideDestination,a=e.afterCritical,s=n.filter(function(o){return Ui({target:Ys(o,a),destination:i,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(o,u){var p=Le(t,Lt(i,$r(o,a))),d=Le(t,Lt(i,$r(u,a)));return p<d?-1:d<p?1:o.descriptor.index-u.descriptor.index});return s[0]||null},_e=$(function(t,r){var i=r[t.line];return{value:i,point:ye(t.line,i)}}),Zs=function(t,r,i){var n=t.axis;if(t.descriptor.mode==="virtual")return ye(n.line,r[n.line]);var a=t.subject.page.contentBox[n.size],s=Ee(t.descriptor.id,i),o=s.reduce(function(d,c){return d+c.client.marginBox[n.size]},0),u=o+r[n.line],p=u-a;return p<=0?null:ye(n.line,p)},Gi=function(t,r){return M({},t,{scroll:M({},t.scroll,{max:r})})},Hi=function(t,r,i){var n=t.frame;Te(r,t)&&T(),t.subject.withPlaceholder&&T();var a=_e(t.axis,r.displaceBy).point,s=Zs(t,a,i),o={placeholderSize:a,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!n){var u=we({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return M({},t,{subject:u})}var p=s?K(n.scroll.max,s):n.scroll.max,d=Gi(n,p),c=we({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:d});return M({},t,{subject:c,frame:d})},Xs=function(t){var r=t.subject.withPlaceholder;r||T();var i=t.frame;if(!i){var n=we({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return M({},t,{subject:n})}var a=r.oldFrameMaxScroll;a||T();var s=Gi(i,a),o=we({page:t.subject.page,axis:t.axis,frame:s,withPlaceholder:null});return M({},t,{subject:o,frame:s})},Qs=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,i=e.insideDestination,n=e.draggable,a=e.draggables,s=e.destination,o=e.viewport,u=e.afterCritical;if(!r){if(i.length)return null;var p={displaced:Fe,displacedBy:Bi,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},d=gt({impact:p,draggable:n,droppable:s,draggables:a,afterCritical:u}),c=Te(n,s)?s:Hi(s,n,a),m=Wi({draggable:n,destination:c,newPageBorderBoxCenter:d,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return m?p:null}var f=t[s.axis.line]<=r.page.borderBox.center[s.axis.line],g=function(){var x=r.descriptor.index;return r.descriptor.id===n.descriptor.id||f?x:x+1}(),b=_e(s.axis,n.displaceBy);return ot({draggable:n,insideDestination:i,destination:s,viewport:o,displacedBy:b,last:Fe,index:g})},eo=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,i=e.draggable,n=e.isOver,a=e.draggables,s=e.droppables,o=e.viewport,u=e.afterCritical,p=zs({isMovingForward:t,pageBorderBoxCenter:r,source:n,droppables:s,viewport:o});if(!p)return null;var d=Ee(p.descriptor.id,a),c=Js({pageBorderBoxCenter:r,viewport:o,destination:p,insideDestination:d,afterCritical:u}),m=Qs({previousPageBorderBoxCenter:r,destination:p,draggable:i,draggables:a,moveRelativeTo:c,insideDestination:d,viewport:o,afterCritical:u});if(!m)return null;var f=gt({impact:m,draggable:i,droppable:p,draggables:a,afterCritical:u}),g=rr({pageBorderBoxCenter:f,draggable:i,viewport:o});return{clientSelection:g,impact:m,scrollJumpRequest:null}},te=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},to=function(t,r){var i=te(t);return i?r[i]:null},ro=function(e){var t=e.state,r=e.type,i=to(t.impact,t.dimensions.droppables),n=!!i,a=t.dimensions.droppables[t.critical.droppable.id],s=i||a,o=s.axis.direction,u=o==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||o==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(u&&!n)return null;var p=r==="MOVE_DOWN"||r==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],c=t.current.page.borderBoxCenter,m=t.dimensions,f=m.draggables,g=m.droppables;return u?Ks({isMovingForward:p,previousPageBorderBoxCenter:c,draggable:d,destination:s,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):eo({isMovingForward:p,previousPageBorderBoxCenter:c,draggable:d,isOver:s,draggables:f,droppables:g,viewport:t.viewport,afterCritical:t.afterCritical})};function ve(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function _i(e){var t=se(e.top,e.bottom),r=se(e.left,e.right);return function(n){return t(n.y)&&r(n.x)}}function io(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function ao(e){var t=e.pageBorderBox,r=e.draggable,i=e.candidates,n=r.page.borderBox.center,a=i.map(function(s){var o=s.axis,u=ye(s.axis.line,t.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:Le(n,u)}}).sort(function(s,o){return o.distance-s.distance});return a[0]?a[0].id:null}function no(e){var t=e.pageBorderBox,r=e.draggable,i=e.droppables,n=pt(i).filter(function(a){if(!a.isEnabled)return!1;var s=a.subject.active;if(!s||!io(t,s))return!1;if(_i(s)(t.center))return!0;var o=a.axis,u=s.center[o.crossAxisLine],p=t[o.crossAxisStart],d=t[o.crossAxisEnd],c=se(s[o.crossAxisStart],s[o.crossAxisEnd]),m=c(p),f=c(d);return!m&&!f?!0:m?p<u:d>u});return n.length?n.length===1?n[0].descriptor.id:ao({pageBorderBox:t,draggable:r,candidates:n}):null}var $i=function(t,r){return oe(He(t,r))},so=function(e,t){var r=e.frame;return r?$i(t,r.scroll.diff.value):t};function Vi(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function oo(e){var t=e.draggable,r=e.closest,i=e.inHomeList;return r?i&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var lo=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,i=e.destination,n=e.insideDestination,a=e.last,s=e.viewport,o=e.afterCritical,u=i.axis,p=_e(i.axis,r.displaceBy),d=p.value,c=t[u.start],m=t[u.end],f=ft(r,n),g=fe(f,function(x){var h=x.descriptor.id,v=x.page.borderBox.center[u.line],y=me(h,o),k=Vi({displaced:a,id:h});return y?k?m<=v:c<v-d:k?m<=v+d:c<v}),b=oo({draggable:r,closest:g,inHomeList:Te(r,i)});return ot({draggable:r,insideDestination:n,destination:i,viewport:s,last:a,displacedBy:p,index:b})},co=4,uo=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,i=e.previousImpact,n=e.destination,a=e.insideDestination,s=e.afterCritical;if(!n.isCombineEnabled)return null;var o=n.axis,u=_e(n.axis,t.displaceBy),p=u.value,d=r[o.start],c=r[o.end],m=ft(t,a),f=fe(m,function(b){var x=b.descriptor.id,h=b.page.borderBox,v=h[o.size],y=v/co,k=me(x,s),S=Vi({displaced:i.displaced,id:x});return k?S?c>h[o.start]+y&&c<h[o.end]-y:d>h[o.start]-p+y&&d<h[o.end]-p-y:S?c>h[o.start]+p+y&&c<h[o.end]+p-y:d>h[o.start]+y&&d<h[o.end]-y});if(!f)return null;var g={displacedBy:u,displaced:i.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:n.descriptor.id}}};return g},Ki=function(e){var t=e.pageOffset,r=e.draggable,i=e.draggables,n=e.droppables,a=e.previousImpact,s=e.viewport,o=e.afterCritical,u=$i(r.page.borderBox,t),p=no({pageBorderBox:u,draggable:r,droppables:n});if(!p)return Ds;var d=n[p],c=Ee(d.descriptor.id,i),m=so(d,u);return uo({pageBorderBoxWithDroppableScroll:m,draggable:r,previousImpact:a,destination:d,insideDestination:c,afterCritical:o})||lo({pageBorderBoxWithDroppableScroll:m,draggable:r,destination:d,insideDestination:c,last:a.displaced,viewport:s,afterCritical:o})},ir=function(e,t){var r;return M({},e,(r={},r[t.descriptor.id]=t,r))},po=function(t){var r=t.previousImpact,i=t.impact,n=t.droppables,a=te(r),s=te(i);if(!a||a===s)return n;var o=n[a];if(!o.subject.withPlaceholder)return n;var u=Xs(o);return ir(n,u)},mo=function(e){var t=e.draggable,r=e.draggables,i=e.droppables,n=e.previousImpact,a=e.impact,s=po({previousImpact:n,impact:a,droppables:i}),o=te(a);if(!o)return s;var u=i[o];if(Te(t,u)||u.subject.withPlaceholder)return s;var p=Hi(u,t,r);return ir(s,p)},qe=function(e){var t=e.state,r=e.clientSelection,i=e.dimensions,n=e.viewport,a=e.impact,s=e.scrollJumpRequest,o=n||t.viewport,u=i||t.dimensions,p=r||t.current.client.selection,d=ee(p,t.initial.client.selection),c={offset:d,selection:p,borderBoxCenter:K(t.initial.client.borderBoxCenter,d)},m={selection:K(c.selection,o.scroll.current),borderBoxCenter:K(c.borderBoxCenter,o.scroll.current),offset:K(c.offset,o.scroll.diff.value)},f={client:c,page:m};if(t.phase==="COLLECTING")return M({phase:"COLLECTING"},t,{dimensions:u,viewport:o,current:f});var g=u.draggables[t.critical.draggable.id],b=a||Ki({pageOffset:m.offset,draggable:g,draggables:u.draggables,droppables:u.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),x=mo({draggable:g,impact:b,previousImpact:t.impact,draggables:u.draggables,droppables:u.droppables}),h=M({},t,{current:f,dimensions:{draggables:u.draggables,droppables:x},impact:b,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return h};function fo(e,t){return e.map(function(r){return t[r]})}var zi=function(e){var t=e.impact,r=e.viewport,i=e.draggables,n=e.destination,a=e.forceShouldAnimate,s=t.displaced,o=fo(s.all,i),u=We({afterDragging:o,destination:n,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:s});return M({},t,{displaced:u})},Yi=function(e){var t=e.impact,r=e.draggable,i=e.droppable,n=e.draggables,a=e.viewport,s=e.afterCritical,o=gt({impact:t,draggable:r,draggables:n,droppable:i,afterCritical:s});return rr({pageBorderBoxCenter:o,draggable:r,viewport:a})},Ji=function(e){var t=e.state,r=e.dimensions,i=e.viewport;t.movementMode!=="SNAP"&&T();var n=t.impact,a=i||t.viewport,s=r||t.dimensions,o=s.draggables,u=s.droppables,p=o[t.critical.draggable.id],d=te(n);d||T();var c=u[d],m=zi({impact:n,viewport:a,destination:c,draggables:o}),f=Yi({impact:m,draggable:p,droppable:c,draggables:o,viewport:a,afterCritical:t.afterCritical});return qe({impact:m,clientSelection:f,state:t,dimensions:s,viewport:a})},go=function(e){return{index:e.index,droppableId:e.droppableId}},Zi=function(e){var t=e.draggable,r=e.home,i=e.draggables,n=e.viewport,a=_e(r.axis,t.displaceBy),s=Ee(r.descriptor.id,i),o=s.indexOf(t);o===-1&&T();var u=s.slice(o+1),p=u.reduce(function(f,g){return f[g.descriptor.id]=!0,f},{}),d={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:p},c=We({afterDragging:u,destination:r,displacedBy:a,last:null,viewport:n.frame,forceShouldAnimate:!1}),m={displaced:c,displacedBy:a,at:{type:"REORDER",destination:go(t.descriptor)}};return{impact:m,afterCritical:d}},vo=function(e,t){return{draggables:e.draggables,droppables:ir(e.droppables,t)}},yo=function(e){var t=e.draggable,r=e.offset,i=e.initialWindowScroll,n=rt(t.client,r),a=it(n,i),s=M({},t,{placeholder:M({},t.placeholder,{client:n}),client:n,page:a});return s},ho=function(e){var t=e.frame;return t||T(),t},bo=function(e){var t=e.additions,r=e.updatedDroppables,i=e.viewport,n=i.scroll.diff.value;return t.map(function(a){var s=a.descriptor.droppableId,o=r[s],u=ho(o),p=u.scroll.diff.value,d=K(n,p),c=yo({draggable:a,offset:d,initialWindowScroll:i.scroll.initial});return c})},xo=function(e){var t=e.state,r=e.published,i=r.modified.map(function(y){var k=t.dimensions.droppables[y.droppableId],S=Jt(k,y.scroll);return S}),n=M({},t.dimensions.droppables,{},Ai(i)),a=ji(bo({additions:r.additions,updatedDroppables:n,viewport:t.viewport})),s=M({},t.dimensions.draggables,{},a);r.removals.forEach(function(y){delete s[y]});var o={droppables:n,draggables:s},u=te(t.impact),p=u?o.droppables[u]:null,d=o.draggables[t.critical.draggable.id],c=o.droppables[t.critical.droppable.id],m=Zi({draggable:d,home:c,draggables:s,viewport:t.viewport}),f=m.impact,g=m.afterCritical,b=p&&p.isCombineEnabled?t.impact:f,x=Ki({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:b,viewport:t.viewport,afterCritical:g}),h=M({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:x,onLiftImpact:f,dimensions:o,afterCritical:g,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return h;var v=M({phase:"DROP_PENDING"},h,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return v},Ft=function(t){return t.movementMode==="SNAP"},Rt=function(t,r,i){var n=vo(t.dimensions,r);return!Ft(t)||i?qe({state:t,dimensions:n}):Ji({state:t,dimensions:n})};function Pt(e){return e.isDragging&&e.movementMode==="SNAP"?M({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Vr={phase:"IDLE",completed:null,shouldFlush:!1},wo=function(e,t){if(e===void 0&&(e=Vr),t.type==="FLUSH")return M({},Vr,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&T();var r=t.payload,i=r.critical,n=r.clientSelection,a=r.viewport,s=r.dimensions,o=r.movementMode,u=s.draggables[i.draggable.id],p=s.droppables[i.droppable.id],d={selection:n,borderBoxCenter:u.client.borderBox.center,offset:V},c={client:d,page:{selection:K(d.selection,a.scroll.initial),borderBoxCenter:K(d.selection,a.scroll.initial),offset:K(d.selection,a.scroll.diff.value)}},m=pt(s.droppables).every(function(Q){return!Q.isFixedOnPage}),f=Zi({draggable:u,home:p,draggables:s.draggables,viewport:a}),g=f.impact,b=f.afterCritical,x={phase:"DRAGGING",isDragging:!0,critical:i,movementMode:o,dimensions:s,initial:c,current:c,isWindowScrollAllowed:m,impact:g,afterCritical:b,onLiftImpact:g,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return x}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&T();var h=M({phase:"COLLECTING"},e,{phase:"COLLECTING"});return h}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||T(),xo({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ve(e)||T();var v=t.payload.client;return de(v,e.current.client.selection)?e:qe({state:e,clientSelection:v,impact:Ft(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Pt(e);ve(e)||T();var y=t.payload,k=y.id,S=y.newScroll,E=e.dimensions.droppables[k];if(!E)return e;var R=Jt(E,S);return Rt(e,R,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ve(e)||T();var j=t.payload,q=j.id,D=j.isEnabled,A=e.dimensions.droppables[q];A||T(),A.isEnabled===D&&T();var _=M({},A,{isEnabled:D});return Rt(e,_,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ve(e)||T();var C=t.payload,L=C.id,J=C.isCombineEnabled,Z=e.dimensions.droppables[L];Z||T(),Z.isCombineEnabled===J&&T();var ce=M({},Z,{isCombineEnabled:J});return Rt(e,ce,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ve(e)||T(),e.isWindowScrollAllowed||T();var N=t.payload.newScroll;if(de(e.viewport.scroll.current,N))return Pt(e);var I=Fi(e.viewport,N);return Ft(e)?Ji({state:e,viewport:I}):qe({state:e,viewport:I})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ve(e))return e;var B=t.payload.maxScroll;if(de(B,e.viewport.scroll.max))return e;var F=M({},e.viewport,{scroll:M({},e.viewport.scroll,{max:B})});return M({phase:"DRAGGING"},e,{viewport:F})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&T();var G=ro({state:e,type:t.type});return G?qe({state:e,impact:G.impact,clientSelection:G.clientSelection,scrollJumpRequest:G.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var z=t.payload.reason;e.phase!=="COLLECTING"&&T();var le=M({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:z});return le}if(t.type==="DROP_ANIMATE"){var ie=t.payload,Ce=ie.completed,Ne=ie.dropDuration,he=ie.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||T();var be={phase:"DROP_ANIMATING",completed:Ce,dropDuration:Ne,newHomeClientOffset:he,dimensions:e.dimensions};return be}if(t.type==="DROP_COMPLETE"){var X=t.payload.completed;return{phase:"IDLE",completed:X,shouldFlush:!1}}return e},ko=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},So=function(t){return{type:"LIFT",payload:t}},Do=function(t){return{type:"INITIAL_PUBLISH",payload:t}},Eo=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},To=function(){return{type:"COLLECTION_STARTING",payload:null}},Co=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},No=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Ro=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Xi=function(t){return{type:"MOVE",payload:t}},Po=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},Mo=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Io=function(){return{type:"MOVE_UP",payload:null}},Ao=function(){return{type:"MOVE_DOWN",payload:null}},jo=function(){return{type:"MOVE_RIGHT",payload:null}},Bo=function(){return{type:"MOVE_LEFT",payload:null}},ar=function(){return{type:"FLUSH",payload:null}},qo=function(t){return{type:"DROP_ANIMATE",payload:t}},nr=function(t){return{type:"DROP_COMPLETE",payload:t}},Qi=function(t){return{type:"DROP",payload:t}},Oo=function(t){return{type:"DROP_PENDING",payload:t}},ea=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Uo=function(e){return function(t){var r=t.getState,i=t.dispatch;return function(n){return function(a){if(a.type!=="LIFT"){n(a);return}var s=a.payload,o=s.id,u=s.clientSelection,p=s.movementMode,d=r();d.phase==="DROP_ANIMATING"&&i(nr({completed:d.completed})),r().phase!=="IDLE"&&T(),i(ar()),i(ko({draggableId:o,movementMode:p}));var c={shouldPublishImmediately:p==="SNAP"},m={draggableId:o,scrollOptions:c},f=e.startPublishing(m),g=f.critical,b=f.dimensions,x=f.viewport;i(Do({critical:g,dimensions:b,clientSelection:u,movementMode:p,viewport:x}))}}}},Lo=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},sr={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ge={opacity:{drop:0,combining:.7},scale:{drop:.75}},or={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ge=or.outOfTheWay+"s "+sr.outOfTheWay,Oe={fluid:"opacity "+ge,snap:"transform "+ge+", opacity "+ge,drop:function(t){var r=t+"s "+sr.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+ge,placeholder:"height "+ge+", width "+ge+", margin "+ge},Kr=function(t){return de(t,V)?null:"translate("+t.x+"px, "+t.y+"px)"},Wt={moveTo:Kr,drop:function(t,r){var i=Kr(t);return i?r?i+" scale("+Ge.scale.drop+")":i:null}},Gt=or.minDropTime,ta=or.maxDropTime,Fo=ta-Gt,zr=1500,Wo=.6,Go=function(e){var t=e.current,r=e.destination,i=e.reason,n=Le(t,r);if(n<=0)return Gt;if(n>=zr)return ta;var a=n/zr,s=Gt+Fo*a,o=i==="CANCEL"?s*Wo:s;return Number(o.toFixed(2))},Ho=function(e){var t=e.impact,r=e.draggable,i=e.dimensions,n=e.viewport,a=e.afterCritical,s=i.draggables,o=i.droppables,u=te(t),p=u?o[u]:null,d=o[r.descriptor.droppableId],c=Yi({impact:t,draggable:r,draggables:s,afterCritical:a,droppable:p||d,viewport:n}),m=ee(c,r.client.borderBox.center);return m},_o=function(e){var t=e.draggables,r=e.reason,i=e.lastImpact,n=e.home,a=e.viewport,s=e.onLiftImpact;if(!i.at||r!=="DROP"){var o=zi({draggables:t,impact:s,destination:n,viewport:a,forceShouldAnimate:!0});return{impact:o,didDropInsideDroppable:!1}}if(i.at.type==="REORDER")return{impact:i,didDropInsideDroppable:!0};var u=M({},i,{displaced:Fe});return{impact:u,didDropInsideDroppable:!0}},$o=function(e){var t=e.getState,r=e.dispatch;return function(i){return function(n){if(n.type!=="DROP"){i(n);return}var a=t(),s=n.payload.reason;if(a.phase==="COLLECTING"){r(Oo({reason:s}));return}if(a.phase!=="IDLE"){var o=a.phase==="DROP_PENDING"&&a.isWaiting;o&&T(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||T();var u=a.critical,p=a.dimensions,d=p.draggables[a.critical.draggable.id],c=_o({reason:s,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),m=c.impact,f=c.didDropInsideDroppable,g=f?Xt(m):null,b=f?mt(m):null,x={index:u.draggable.index,droppableId:u.droppable.id},h={draggableId:d.descriptor.id,type:d.descriptor.type,source:x,reason:s,mode:a.movementMode,destination:g,combine:b},v=Ho({impact:m,draggable:d,dimensions:p,viewport:a.viewport,afterCritical:a.afterCritical}),y={critical:a.critical,afterCritical:a.afterCritical,result:h,impact:m},k=!de(a.current.client.offset,v)||!!h.combine;if(!k){r(nr({completed:y}));return}var S=Go({current:a.current.client.offset,destination:v,reason:s}),E={newHomeClientOffset:v,dropDuration:S,completed:y};r(qo(E))}}}},ra=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Vo(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function Ko(e){var t=e.onWindowScroll;function r(){t(ra())}var i=Ue(r),n=Vo(i),a=ue;function s(){return a!==ue}function o(){s()&&T(),a=ne(window,[n])}function u(){s()||T(),i.cancel(),a(),a=ue}return{start:o,stop:u,isActive:s}}var zo=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Yo=function(e){var t=Ko({onWindowScroll:function(i){e.dispatch(Po({newScroll:i}))}});return function(r){return function(i){!t.isActive()&&i.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&zo(i)&&t.stop(),r(i)}}},Jo=function(e){var t=!1,r=!1,i=setTimeout(function(){r=!0}),n=function(s){t||r||(t=!0,e(s),clearTimeout(i))};return n.wasCalled=function(){return t},n},Zo=function(){var e=[],t=function(a){var s=Zt(e,function(p){return p.timerId===a});s===-1&&T();var o=e.splice(s,1),u=o[0];u.callback()},r=function(a){var s=setTimeout(function(){return t(s)}),o={timerId:s,callback:a};e.push(o)},i=function(){if(e.length){var a=[].concat(e);e.length=0,a.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:r,flush:i}},Xo=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},Qo=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},el=function(t,r){if(t===r)return!0;var i=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,n=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return i&&n},Ae=function(t,r){r()},ze=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Mt=function(t,r,i,n){if(!t){i(n(r));return}var a=Jo(i),s={announce:a};t(r,s),a.wasCalled()||i(n(r))},tl=function(e,t){var r=Zo(),i=null,n=function(m,f){i&&T(),Ae("onBeforeCapture",function(){var g=e().onBeforeCapture;if(g){var b={draggableId:m,mode:f};g(b)}})},a=function(m,f){i&&T(),Ae("onBeforeDragStart",function(){var g=e().onBeforeDragStart;g&&g(ze(m,f))})},s=function(m,f){i&&T();var g=ze(m,f);i={mode:f,lastCritical:m,lastLocation:g.source,lastCombine:null},r.add(function(){Ae("onDragStart",function(){return Mt(e().onDragStart,g,t,Qe.onDragStart)})})},o=function(m,f){var g=Xt(f),b=mt(f);i||T();var x=!el(m,i.lastCritical);x&&(i.lastCritical=m);var h=!Xo(i.lastLocation,g);h&&(i.lastLocation=g);var v=!Qo(i.lastCombine,b);if(v&&(i.lastCombine=b),!(!x&&!h&&!v)){var y=M({},ze(m,i.mode),{combine:b,destination:g});r.add(function(){Ae("onDragUpdate",function(){return Mt(e().onDragUpdate,y,t,Qe.onDragUpdate)})})}},u=function(){i||T(),r.flush()},p=function(m){i||T(),i=null,Ae("onDragEnd",function(){return Mt(e().onDragEnd,m,t,Qe.onDragEnd)})},d=function(){if(i){var m=M({},ze(i.lastCritical,i.mode),{combine:null,destination:null,reason:"CANCEL"});p(m)}};return{beforeCapture:n,beforeStart:a,start:s,update:o,flush:u,drop:p,abort:d}},rl=function(e,t){var r=tl(e,t);return function(i){return function(n){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var s=a.payload.critical;r.beforeStart(s,a.payload.movementMode),n(a),r.start(s,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var o=a.payload.completed.result;r.flush(),n(a),r.drop(o);return}if(n(a),a.type==="FLUSH"){r.abort();return}var u=i.getState();u.phase==="DRAGGING"&&r.update(u.critical,u.impact)}}}},il=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var i=e.getState();i.phase!=="DROP_ANIMATING"&&T(),e.dispatch(nr({completed:i.completed}))}}},al=function(e){var t=null,r=null;function i(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(n){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&i(),n(a),a.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var u=e.getState();u.phase==="DROP_ANIMATING"&&e.dispatch(ea())}};r=requestAnimationFrame(function(){r=null,t=ne(window,[s])})}}}},nl=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},sl=function(e){var t=!1;return function(){return function(r){return function(i){if(i.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(i.payload.critical.draggable.id),r(i),e.tryRestoreFocusRecorded();return}if(r(i),!!t){if(i.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(i.type==="DROP_COMPLETE"){t=!1;var n=i.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},ol=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},ll=function(e){return function(t){return function(r){return function(i){if(ol(i)){e.stop(),r(i);return}if(i.type==="INITIAL_PUBLISH"){r(i);var n=t.getState();n.phase!=="DRAGGING"&&T(),e.start(n);return}r(i),e.scroll(t.getState())}}}},cl=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var i=e.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||e.dispatch(Qi({reason:i.reason})))}}}},ul=Ta,dl=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,n=e.getResponders,a=e.announce,s=e.autoScroller;return Ea(wo,ul(Ca(Lo(i),nl(t),Uo(t),$o,il,al,cl,ll(s),Yo,sl(r),rl(n,a))))},It=function(){return{additions:{},removals:{},modified:{}}};function pl(e){var t=e.registry,r=e.callbacks,i=It(),n=null,a=function(){n||(r.collectionStarting(),n=requestAnimationFrame(function(){n=null;var d=i,c=d.additions,m=d.removals,f=d.modified,g=Object.keys(c).map(function(h){return t.draggable.getById(h).getDimension(V)}).sort(function(h,v){return h.descriptor.index-v.descriptor.index}),b=Object.keys(f).map(function(h){var v=t.droppable.getById(h),y=v.callbacks.getScrollWhileDragging();return{droppableId:h,scroll:y}}),x={additions:g,removals:Object.keys(m),modified:b};i=It(),r.publish(x)}))},s=function(d){var c=d.descriptor.id;i.additions[c]=d,i.modified[d.descriptor.droppableId]=!0,i.removals[c]&&delete i.removals[c],a()},o=function(d){var c=d.descriptor;i.removals[c.id]=!0,i.modified[c.droppableId]=!0,i.additions[c.id]&&delete i.additions[c.id],a()},u=function(){n&&(cancelAnimationFrame(n),n=null,i=It())};return{add:s,remove:o,stop:u}}var ia=function(e){var t=e.scrollHeight,r=e.scrollWidth,i=e.height,n=e.width,a=ee({x:r,y:t},{x:n,y:i}),s={x:Math.max(0,a.x),y:Math.max(0,a.y)};return s},aa=function(){var e=document.documentElement;return e||T(),e},na=function(){var e=aa(),t=ia({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},ml=function(){var e=ra(),t=na(),r=e.y,i=e.x,n=aa(),a=n.clientWidth,s=n.clientHeight,o=i+a,u=r+s,p=oe({top:r,left:i,right:o,bottom:u}),d={frame:p,scroll:{initial:e,current:e,max:t,diff:{value:V,displacement:V}}};return d},fl=function(e){var t=e.critical,r=e.scrollOptions,i=e.registry,n=ml(),a=n.scroll.current,s=t.droppable,o=i.droppable.getAllByType(s.type).map(function(c){return c.callbacks.getDimensionAndWatchScroll(a,r)}),u=i.draggable.getAllByType(t.draggable.type).map(function(c){return c.getDimension(a)}),p={draggables:ji(u),droppables:Ai(o)},d={dimensions:p,critical:t,viewport:n};return d};function Yr(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var i=e.droppable.getById(r.descriptor.droppableId);return i.descriptor.mode==="virtual"}var gl=function(e,t){var r=null,i=pl({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),n=function(f,g){e.droppable.exists(f)||T(),r&&t.updateDroppableIsEnabled({id:f,isEnabled:g})},a=function(f,g){r&&(e.droppable.exists(f)||T(),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:g}))},s=function(f,g){r&&(e.droppable.exists(f)||T(),t.updateDroppableScroll({id:f,newScroll:g}))},o=function(f,g){r&&e.droppable.getById(f).callbacks.scroll(g)},u=function(){if(r){i.stop();var f=r.critical.droppable;e.droppable.getAllByType(f.type).forEach(function(g){return g.callbacks.dragStopped()}),r.unsubscribe(),r=null}},p=function(f){r||T();var g=r.critical.draggable;f.type==="ADDITION"&&Yr(e,g,f.value)&&i.add(f.value),f.type==="REMOVAL"&&Yr(e,g,f.value)&&i.remove(f.value)},d=function(f){r&&T();var g=e.draggable.getById(f.draggableId),b=e.droppable.getById(g.descriptor.droppableId),x={draggable:g.descriptor,droppable:b.descriptor},h=e.subscribe(p);return r={critical:x,unsubscribe:h},fl({critical:x,registry:e,scrollOptions:f.scrollOptions})},c={updateDroppableIsEnabled:n,updateDroppableIsCombineEnabled:a,scrollDroppable:o,updateDroppableScroll:s,startPublishing:d,stopPublishing:u};return c},sa=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},vl=function(e){window.scrollBy(e.x,e.y)},yl=$(function(e){return pt(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),hl=function(t,r){var i=fe(yl(r),function(n){return n.frame||T(),_i(n.frame.pageMarginBox)(t)});return i},bl=function(e){var t=e.center,r=e.destination,i=e.droppables;if(r){var n=i[r];return n.frame?n:null}var a=hl(t,i);return a},pe={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},xl=function(e,t){var r=e[t.size]*pe.startFromPercentage,i=e[t.size]*pe.maxScrollAtPercentage,n={startScrollingFrom:r,maxScrollValueAt:i};return n},oa=function(e){var t=e.startOfRange,r=e.endOfRange,i=e.current,n=r-t;if(n===0)return 0;var a=i-t,s=a/n;return s},lr=1,wl=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return pe.maxPixelScroll;if(e===t.startScrollingFrom)return lr;var r=oa({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=1-r,n=pe.maxPixelScroll*pe.ease(i);return Math.ceil(n)},Jr=pe.durationDampening.accelerateAt,Zr=pe.durationDampening.stopDampeningAt,kl=function(e,t){var r=t,i=Zr,n=Date.now(),a=n-r;if(a>=Zr)return e;if(a<Jr)return lr;var s=oa({startOfRange:Jr,endOfRange:i,current:a}),o=e*pe.ease(s);return Math.ceil(o)},Xr=function(e){var t=e.distanceToEdge,r=e.thresholds,i=e.dragStartTime,n=e.shouldUseTimeDampening,a=wl(t,r);return a===0?0:n?Math.max(kl(a,i),lr):a},Qr=function(e){var t=e.container,r=e.distanceToEdges,i=e.dragStartTime,n=e.axis,a=e.shouldUseTimeDampening,s=xl(t,n),o=r[n.end]<r[n.start];return o?Xr({distanceToEdge:r[n.end],thresholds:s,dragStartTime:i,shouldUseTimeDampening:a}):-1*Xr({distanceToEdge:r[n.start],thresholds:s,dragStartTime:i,shouldUseTimeDampening:a})},Sl=function(e){var t=e.container,r=e.subject,i=e.proposedScroll,n=r.height>t.height,a=r.width>t.width;return!a&&!n?i:a&&n?null:{x:a?0:i.x,y:n?0:i.y}},Dl=Mi(function(e){return e===0?0:e}),la=function(e){var t=e.dragStartTime,r=e.container,i=e.subject,n=e.center,a=e.shouldUseTimeDampening,s={top:n.y-r.top,right:r.right-n.x,bottom:r.bottom-n.y,left:n.x-r.left},o=Qr({container:r,distanceToEdges:s,dragStartTime:t,axis:Qt,shouldUseTimeDampening:a}),u=Qr({container:r,distanceToEdges:s,dragStartTime:t,axis:Oi,shouldUseTimeDampening:a}),p=Dl({x:u,y:o});if(de(p,V))return null;var d=Sl({container:r,subject:i,proposedScroll:p});return d?de(d,V)?null:d:null},El=Mi(function(e){return e===0?0:e>0?1:-1}),cr=function(){var e=function(r,i){return r<0?r:r>i?r-i:0};return function(t){var r=t.current,i=t.max,n=t.change,a=K(r,n),s={x:e(a.x,i.x),y:e(a.y,i.y)};return de(s,V)?null:s}}(),ca=function(t){var r=t.max,i=t.current,n=t.change,a={x:Math.max(i.x,r.x),y:Math.max(i.y,r.y)},s=El(n),o=cr({max:a,current:i,change:s});return!o||s.x!==0&&o.x===0||s.y!==0&&o.y===0},ur=function(t,r){return ca({current:t.scroll.current,max:t.scroll.max,change:r})},Tl=function(t,r){if(!ur(t,r))return null;var i=t.scroll.max,n=t.scroll.current;return cr({current:n,max:i,change:r})},dr=function(t,r){var i=t.frame;return i?ca({current:i.scroll.current,max:i.scroll.max,change:r}):!1},Cl=function(t,r){var i=t.frame;return!i||!dr(t,r)?null:cr({current:i.scroll.current,max:i.scroll.max,change:r})},Nl=function(e){var t=e.viewport,r=e.subject,i=e.center,n=e.dragStartTime,a=e.shouldUseTimeDampening,s=la({dragStartTime:n,container:t.frame,subject:r,center:i,shouldUseTimeDampening:a});return s&&ur(t,s)?s:null},Rl=function(e){var t=e.droppable,r=e.subject,i=e.center,n=e.dragStartTime,a=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var o=la({dragStartTime:n,container:s.pageMarginBox,subject:r,center:i,shouldUseTimeDampening:a});return o&&dr(t,o)?o:null},ei=function(e){var t=e.state,r=e.dragStartTime,i=e.shouldUseTimeDampening,n=e.scrollWindow,a=e.scrollDroppable,s=t.current.page.borderBoxCenter,o=t.dimensions.draggables[t.critical.draggable.id],u=o.page.marginBox;if(t.isWindowScrollAllowed){var p=t.viewport,d=Nl({dragStartTime:r,viewport:p,subject:u,center:s,shouldUseTimeDampening:i});if(d){n(d);return}}var c=bl({center:s,destination:te(t.impact),droppables:t.dimensions.droppables});if(c){var m=Rl({dragStartTime:r,droppable:c,subject:u,center:s,shouldUseTimeDampening:i});m&&a(c.descriptor.id,m)}},Pl=function(e){var t=e.scrollWindow,r=e.scrollDroppable,i=Ue(t),n=Ue(r),a=null,s=function(d){a||T();var c=a,m=c.shouldUseTimeDampening,f=c.dragStartTime;ei({state:d,scrollWindow:i,scrollDroppable:n,dragStartTime:f,shouldUseTimeDampening:m})},o=function(d){a&&T();var c=Date.now(),m=!1,f=function(){m=!0};ei({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f}),a={dragStartTime:c,shouldUseTimeDampening:m},m&&s(d)},u=function(){a&&(i.cancel(),n.cancel(),a=null)};return{start:o,stop:u,scroll:s}},Ml=function(e){var t=e.move,r=e.scrollDroppable,i=e.scrollWindow,n=function(p,d){var c=K(p.current.client.selection,d);t({client:c})},a=function(p,d){if(!dr(p,d))return d;var c=Cl(p,d);if(!c)return r(p.descriptor.id,d),null;var m=ee(d,c);r(p.descriptor.id,m);var f=ee(d,m);return f},s=function(p,d,c){if(!p||!ur(d,c))return c;var m=Tl(d,c);if(!m)return i(c),null;var f=ee(c,m);i(f);var g=ee(c,f);return g},o=function(p){var d=p.scrollJumpRequest;if(d){var c=te(p.impact);c||T();var m=a(p.dimensions.droppables[c],d);if(m){var f=p.viewport,g=s(p.isWindowScrollAllowed,f,m);g&&n(p,g)}}};return o},Il=function(e){var t=e.scrollDroppable,r=e.scrollWindow,i=e.move,n=Pl({scrollWindow:r,scrollDroppable:t}),a=Ml({move:i,scrollWindow:r,scrollDroppable:t}),s=function(p){if(p.phase==="DRAGGING"){if(p.movementMode==="FLUID"){n.scroll(p);return}p.scrollJumpRequest&&a(p)}},o={scroll:s,start:n.start,stop:n.stop};return o},ke="data-rbd",Se=function(){var e=ke+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Ht=function(){var e=ke+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Al=function(){var e=ke+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),ti={contextId:ke+"-scroll-container-context-id"},jl=function(t){return function(r){return"["+r+'="'+t+'"]'}},je=function(t,r){return t.map(function(i){var n=i.styles[r];return n?i.selector+" { "+n+" }":""}).join(" ")},Bl="pointer-events: none;",ql=function(e){var t=jl(e),r=function(){var o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Se.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:Bl,dropAnimating:o}}}(),i=function(){var o=`
      transition: `+Oe.outOfTheWay+`;
    `;return{selector:t(Ht.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}}(),n={selector:t(Al.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[i,r,n,a];return{always:je(s,"always"),resting:je(s,"resting"),dragging:je(s,"dragging"),dropAnimating:je(s,"dropAnimating"),userCancel:je(s,"userCancel")}},re=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,At=function(){var t=document.querySelector("head");return t||T(),t},ri=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function Ol(e,t){var r=O(function(){return ql(e)},[e]),i=w.useRef(null),n=w.useRef(null),a=P($(function(c){var m=n.current;m||T(),m.textContent=c}),[]),s=P(function(c){var m=i.current;m||T(),m.textContent=c},[]);re(function(){!i.current&&!n.current||T();var c=ri(t),m=ri(t);return i.current=c,n.current=m,c.setAttribute(ke+"-always",e),m.setAttribute(ke+"-dynamic",e),At().appendChild(c),At().appendChild(m),s(r.always),a(r.resting),function(){var f=function(b){var x=b.current;x||T(),At().removeChild(x),b.current=null};f(i),f(n)}},[t,s,a,r.always,r.resting,e]);var o=P(function(){return a(r.dragging)},[a,r.dragging]),u=P(function(c){if(c==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),p=P(function(){n.current&&a(r.resting)},[a,r.resting]),d=O(function(){return{dragging:o,dropping:u,resting:p}},[o,u,p]);return d}var ua=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function vt(e){return e instanceof ua(e).HTMLElement}function Ul(e,t){var r="["+Se.contextId+'="'+e+'"]',i=Ii(document.querySelectorAll(r));if(!i.length)return null;var n=fe(i,function(a){return a.getAttribute(Se.draggableId)===t});return!n||!vt(n)?null:n}function Ll(e){var t=w.useRef({}),r=w.useRef(null),i=w.useRef(null),n=w.useRef(!1),a=P(function(m,f){var g={id:m,focus:f};return t.current[m]=g,function(){var x=t.current,h=x[m];h!==g&&delete x[m]}},[]),s=P(function(m){var f=Ul(e,m);f&&f!==document.activeElement&&f.focus()},[e]),o=P(function(m,f){r.current===m&&(r.current=f)},[]),u=P(function(){i.current||n.current&&(i.current=requestAnimationFrame(function(){i.current=null;var m=r.current;m&&s(m)}))},[s]),p=P(function(m){r.current=null;var f=document.activeElement;f&&f.getAttribute(Se.draggableId)===m&&(r.current=m)},[]);re(function(){return n.current=!0,function(){n.current=!1;var m=i.current;m&&cancelAnimationFrame(m)}},[]);var d=O(function(){return{register:a,tryRecordFocus:p,tryRestoreFocusRecorded:u,tryShiftRecord:o}},[a,p,u,o]);return d}function Fl(){var e={draggables:{},droppables:{}},t=[];function r(c){return t.push(c),function(){var f=t.indexOf(c);f!==-1&&t.splice(f,1)}}function i(c){t.length&&t.forEach(function(m){return m(c)})}function n(c){return e.draggables[c]||null}function a(c){var m=n(c);return m||T(),m}var s={register:function(m){e.draggables[m.descriptor.id]=m,i({type:"ADDITION",value:m})},update:function(m,f){var g=e.draggables[f.descriptor.id];g&&g.uniqueId===m.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[m.descriptor.id]=m)},unregister:function(m){var f=m.descriptor.id,g=n(f);g&&m.uniqueId===g.uniqueId&&(delete e.draggables[f],i({type:"REMOVAL",value:m}))},getById:a,findById:n,exists:function(m){return!!n(m)},getAllByType:function(m){return st(e.draggables).filter(function(f){return f.descriptor.type===m})}};function o(c){return e.droppables[c]||null}function u(c){var m=o(c);return m||T(),m}var p={register:function(m){e.droppables[m.descriptor.id]=m},unregister:function(m){var f=o(m.descriptor.id);f&&m.uniqueId===f.uniqueId&&delete e.droppables[m.descriptor.id]},getById:u,findById:o,exists:function(m){return!!o(m)},getAllByType:function(m){return st(e.droppables).filter(function(f){return f.descriptor.type===m})}};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:p,subscribe:r,clean:d}}function Wl(){var e=O(Fl,[]);return w.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var pr=W.createContext(null),lt=function(){var e=document.body;return e||T(),e},Gl={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Hl=function(t){return"rbd-announcement-"+t};function _l(e){var t=O(function(){return Hl(e)},[e]),r=w.useRef(null);w.useEffect(function(){var a=document.createElement("div");return r.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),M(a.style,Gl),lt().appendChild(a),function(){setTimeout(function(){var u=lt();u.contains(a)&&u.removeChild(a),a===r.current&&(r.current=null)})}},[t]);var i=P(function(n){var a=r.current;if(a){a.textContent=n;return}},[]);return i}var $l=0,Vl={separator:"::"};function mr(e,t){return t===void 0&&(t=Vl),O(function(){return""+e+t.separator+$l++},[t.separator,e])}function Kl(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function zl(e){var t=e.contextId,r=e.text,i=mr("hidden-text",{separator:"-"}),n=O(function(){return Kl({contextId:t,uniqueId:i})},[i,t]);return w.useEffect(function(){var s=document.createElement("div");return s.id=n,s.textContent=r,s.style.display="none",lt().appendChild(s),function(){var u=lt();u.contains(s)&&u.removeChild(s)}},[n,r]),n}var yt=W.createContext(null);function da(e){var t=w.useRef(e);return w.useEffect(function(){t.current=e}),t}function Yl(){var e=null;function t(){return!!e}function r(s){return s===e}function i(s){e&&T();var o={abandon:s};return e=o,o}function n(){e||T(),e=null}function a(){e&&(e.abandon(),n())}return{isClaimed:t,isActive:r,claim:i,release:n,tryAbandon:a}}var Jl=9,Zl=13,fr=27,pa=32,Xl=33,Ql=34,ec=35,tc=36,rc=37,ic=38,ac=39,nc=40,Ye,sc=(Ye={},Ye[Zl]=!0,Ye[Jl]=!0,Ye),ma=function(e){sc[e.keyCode]&&e.preventDefault()},ht=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=fe(t,function(i){return"on"+i in document});return r||e}(),fa=0,ii=5;function oc(e,t){return Math.abs(t.x-e.x)>=ii||Math.abs(t.y-e.y)>=ii}var ai={type:"IDLE"};function lc(e){var t=e.cancel,r=e.completed,i=e.getPhase,n=e.setPhase;return[{eventName:"mousemove",fn:function(s){var o=s.button,u=s.clientX,p=s.clientY;if(o===fa){var d={x:u,y:p},c=i();if(c.type==="DRAGGING"){s.preventDefault(),c.actions.move(d);return}c.type!=="PENDING"&&T();var m=c.point;if(oc(m,d)){s.preventDefault();var f=c.actions.fluidLift(d);n({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(s){var o=i();if(o.type!=="DRAGGING"){t();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(s){i().type==="DRAGGING"&&s.preventDefault(),t()}},{eventName:"keydown",fn:function(s){var o=i();if(o.type==="PENDING"){t();return}if(s.keyCode===fr){s.preventDefault(),t();return}ma(s)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){i().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(s){var o=i();if(o.type==="IDLE"&&T(),o.actions.shouldRespectForcePress()){t();return}s.preventDefault()}},{eventName:ht,fn:t}]}function cc(e){var t=w.useRef(ai),r=w.useRef(ue),i=O(function(){return{eventName:"mousedown",fn:function(c){if(!c.defaultPrevented&&c.button===fa&&!(c.ctrlKey||c.metaKey||c.shiftKey||c.altKey)){var m=e.findClosestDraggableId(c);if(m){var f=e.tryGetLock(m,s,{sourceEvent:c});if(f){c.preventDefault();var g={x:c.clientX,y:c.clientY};r.current(),p(f,g)}}}}}},[e]),n=O(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(c){if(!c.defaultPrevented){var m=e.findClosestDraggableId(c);if(m){var f=e.findOptionsForDraggable(m);f&&(f.shouldRespectForcePress||e.canGetLock(m)&&c.preventDefault())}}}}},[e]),a=P(function(){var c={passive:!1,capture:!0};r.current=ne(window,[n,i],c)},[n,i]),s=P(function(){var d=t.current;d.type!=="IDLE"&&(t.current=ai,r.current(),a())},[a]),o=P(function(){var d=t.current;s(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[s]),u=P(function(){var c={capture:!0,passive:!1},m=lc({cancel:o,completed:s,getPhase:function(){return t.current},setPhase:function(g){t.current=g}});r.current=ne(window,m,c)},[o,s]),p=P(function(c,m){t.current.type!=="IDLE"&&T(),t.current={type:"PENDING",point:m,actions:c},u()},[u]);re(function(){return a(),function(){r.current()}},[a])}var xe;function uc(){}var dc=(xe={},xe[Ql]=!0,xe[Xl]=!0,xe[tc]=!0,xe[ec]=!0,xe);function pc(e,t){function r(){t(),e.cancel()}function i(){t(),e.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===fr){a.preventDefault(),r();return}if(a.keyCode===pa){a.preventDefault(),i();return}if(a.keyCode===nc){a.preventDefault(),e.moveDown();return}if(a.keyCode===ic){a.preventDefault(),e.moveUp();return}if(a.keyCode===ac){a.preventDefault(),e.moveRight();return}if(a.keyCode===rc){a.preventDefault(),e.moveLeft();return}if(dc[a.keyCode]){a.preventDefault();return}ma(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:ht,fn:r}]}function mc(e){var t=w.useRef(uc),r=O(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==pa)return;var s=e.findClosestDraggableId(a);if(!s)return;var o=e.tryGetLock(s,d,{sourceEvent:a});if(!o)return;a.preventDefault();var u=!0,p=o.snapLift();t.current();function d(){u||T(),u=!1,t.current(),i()}t.current=ne(window,pc(p,d),{capture:!0,passive:!1})}}},[e]),i=P(function(){var a={passive:!1,capture:!0};t.current=ne(window,[r],a)},[r]);re(function(){return i(),function(){t.current()}},[i])}var jt={type:"IDLE"},fc=120,gc=.15;function vc(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(n){n.preventDefault()}},{eventName:"keydown",fn:function(n){if(r().type!=="DRAGGING"){t();return}n.keyCode===fr&&n.preventDefault(),t()}},{eventName:ht,fn:t}]}function yc(e){var t=e.cancel,r=e.completed,i=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var s=i();if(s.type!=="DRAGGING"){t();return}s.hasMoved=!0;var o=a.touches[0],u=o.clientX,p=o.clientY,d={x:u,y:p};a.preventDefault(),s.actions.move(d)}},{eventName:"touchend",fn:function(a){var s=i();if(s.type!=="DRAGGING"){t();return}a.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(a){if(i().type!=="DRAGGING"){t();return}a.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(a){var s=i();s.type==="IDLE"&&T();var o=a.touches[0];if(o){var u=o.force>=gc;if(u){var p=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){p&&t();return}if(p){if(s.hasMoved){a.preventDefault();return}t();return}a.preventDefault()}}}},{eventName:ht,fn:t}]}function hc(e){var t=w.useRef(jt),r=w.useRef(ue),i=P(function(){return t.current},[]),n=P(function(f){t.current=f},[]),a=O(function(){return{eventName:"touchstart",fn:function(f){if(!f.defaultPrevented){var g=e.findClosestDraggableId(f);if(g){var b=e.tryGetLock(g,o,{sourceEvent:f});if(b){var x=f.touches[0],h=x.clientX,v=x.clientY,y={x:h,y:v};r.current(),c(b,y)}}}}}},[e]),s=P(function(){var f={capture:!0,passive:!1};r.current=ne(window,[a],f)},[a]),o=P(function(){var m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),n(jt),r.current(),s())},[s,n]),u=P(function(){var m=t.current;o(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[o]),p=P(function(){var f={capture:!0,passive:!1},g={cancel:u,completed:o,getPhase:i},b=ne(window,yc(g),f),x=ne(window,vc(g),f);r.current=function(){b(),x()}},[u,i,o]),d=P(function(){var f=i();f.type!=="PENDING"&&T();var g=f.actions.fluidLift(f.point);n({type:"DRAGGING",actions:g,hasMoved:!1})},[i,n]),c=P(function(f,g){i().type!=="IDLE"&&T();var b=setTimeout(d,fc);n({type:"PENDING",point:g,actions:f,longPressTimerId:b}),p()},[p,i,n,d]);re(function(){return s(),function(){r.current();var g=i();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),n(jt))}},[i,s,n]),re(function(){var f=ne(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return f},[])}var bc={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function ga(e,t){if(t==null)return!1;var r=!!bc[t.tagName.toLowerCase()];if(r)return!0;var i=t.getAttribute("contenteditable");return i==="true"||i===""?!0:t===e?!1:ga(e,t.parentElement)}function xc(e,t){var r=t.target;return vt(r)?ga(e,r):!1}var wc=function(e){return oe(e.getBoundingClientRect()).center};function kc(e){return e instanceof ua(e).Element}var Sc=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=fe(t,function(i){return i in Element.prototype});return r||e}();function va(e,t){return e==null?null:e[Sc](t)?e:va(e.parentElement,t)}function Dc(e,t){return e.closest?e.closest(t):va(e,t)}function Ec(e){return"["+Se.contextId+'="'+e+'"]'}function Tc(e,t){var r=t.target;if(!kc(r))return null;var i=Ec(e),n=Dc(r,i);return!n||!vt(n)?null:n}function Cc(e,t){var r=Tc(e,t);return r?r.getAttribute(Se.draggableId):null}function Nc(e,t){var r="["+Ht.contextId+'="'+e+'"]',i=Ii(document.querySelectorAll(r)),n=fe(i,function(a){return a.getAttribute(Ht.id)===t});return!n||!vt(n)?null:n}function Rc(e){e.preventDefault()}function Je(e){var t=e.expected,r=e.phase,i=e.isLockActive;return e.shouldWarn,!(!i()||t!==r)}function ya(e){var t=e.lockAPI,r=e.store,i=e.registry,n=e.draggableId;if(t.isClaimed())return!1;var a=i.draggable.findById(n);return!(!a||!a.options.isEnabled||!sa(r.getState(),n))}function Pc(e){var t=e.lockAPI,r=e.contextId,i=e.store,n=e.registry,a=e.draggableId,s=e.forceSensorStop,o=e.sourceEvent,u=ya({lockAPI:t,store:i,registry:n,draggableId:a});if(!u)return null;var p=n.draggable.getById(a),d=Nc(r,p.descriptor.id);if(!d||o&&!p.options.canDragInteractiveElements&&xc(d,o))return null;var c=t.claim(s||ue),m="PRE_DRAG";function f(){return p.options.shouldRespectForcePress}function g(){return t.isActive(c)}function b(E,R){Je({expected:E,phase:m,isLockActive:g,shouldWarn:!0})&&i.dispatch(R())}var x=b.bind(null,"DRAGGING");function h(E){function R(){t.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(R(),m!=="PRE_DRAG"&&T()),i.dispatch(So(E.liftActionArgs)),m="DRAGGING";function j(q,D){if(D===void 0&&(D={shouldBlockNextClick:!1}),E.cleanup(),D.shouldBlockNextClick){var A=ne(window,[{eventName:"click",fn:Rc,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(A)}R(),i.dispatch(Qi({reason:q}))}return M({isActive:function(){return Je({expected:"DRAGGING",phase:m,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(D){return j("DROP",D)},cancel:function(D){return j("CANCEL",D)}},E.actions)}function v(E){var R=Ue(function(q){x(function(){return Xi({client:q})})}),j=h({liftActionArgs:{id:a,clientSelection:E,movementMode:"FLUID"},cleanup:function(){return R.cancel()},actions:{move:R}});return M({},j,{move:R})}function y(){var E={moveUp:function(){return x(Io)},moveRight:function(){return x(jo)},moveDown:function(){return x(Ao)},moveLeft:function(){return x(Bo)}};return h({liftActionArgs:{id:a,clientSelection:wc(d),movementMode:"SNAP"},cleanup:ue,actions:E})}function k(){var E=Je({expected:"PRE_DRAG",phase:m,isLockActive:g,shouldWarn:!0});E&&t.release()}var S={isActive:function(){return Je({expected:"PRE_DRAG",phase:m,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:v,snapLift:y,abort:k};return S}var Mc=[cc,mc,hc];function Ic(e){var t=e.contextId,r=e.store,i=e.registry,n=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?Mc:[],n||[]),o=w.useState(function(){return Yl()})[0],u=P(function(v,y){v.isDragging&&!y.isDragging&&o.tryAbandon()},[o]);re(function(){var v=r.getState(),y=r.subscribe(function(){var k=r.getState();u(v,k),v=k});return y},[o,r,u]),re(function(){return o.tryAbandon},[o.tryAbandon]);for(var p=P(function(h){return ya({lockAPI:o,registry:i,store:r,draggableId:h})},[o,i,r]),d=P(function(h,v,y){return Pc({lockAPI:o,registry:i,contextId:t,store:r,draggableId:h,forceSensorStop:v,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null})},[t,o,i,r]),c=P(function(h){return Cc(t,h)},[t]),m=P(function(h){var v=i.draggable.findById(h);return v?v.options:null},[i.draggable]),f=P(function(){o.isClaimed()&&(o.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(ar()))},[o,r]),g=P(o.isClaimed,[o]),b=O(function(){return{canGetLock:p,tryGetLock:d,findClosestDraggableId:c,findOptionsForDraggable:m,tryReleaseLock:f,isLockClaimed:g}},[p,d,c,m,f,g]),x=0;x<s.length;x++)s[x](b)}var Ac=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Be(e){return e.current||T(),e.current}function jc(e){var t=e.contextId,r=e.setCallbacks,i=e.sensors,n=e.nonce,a=e.dragHandleUsageInstructions,s=w.useRef(null),o=da(e),u=P(function(){return Ac(o.current)},[o]),p=_l(t),d=zl({contextId:t,text:a}),c=Ol(t,n),m=P(function(q){Be(s).dispatch(q)},[]),f=O(function(){return br({publishWhileDragging:Eo,updateDroppableScroll:Co,updateDroppableIsEnabled:No,updateDroppableIsCombineEnabled:Ro,collectionStarting:To},m)},[m]),g=Wl(),b=O(function(){return gl(g,f)},[g,f]),x=O(function(){return Il(M({scrollWindow:vl,scrollDroppable:b.scrollDroppable},br({move:Xi},m)))},[b.scrollDroppable,m]),h=Ll(t),v=O(function(){return dl({announce:p,autoScroller:x,dimensionMarshal:b,focusMarshal:h,getResponders:u,styleMarshal:c})},[p,x,b,h,u,c]);s.current=v;var y=P(function(){var q=Be(s),D=q.getState();D.phase!=="IDLE"&&q.dispatch(ar())},[]),k=P(function(){var q=Be(s).getState();return q.isDragging||q.phase==="DROP_ANIMATING"},[]),S=O(function(){return{isDragging:k,tryAbort:y}},[k,y]);r(S);var E=P(function(q){return sa(Be(s).getState(),q)},[]),R=P(function(){return ve(Be(s).getState())},[]),j=O(function(){return{marshal:b,focus:h,contextId:t,canLift:E,isMovementAllowed:R,dragHandleUsageInstructionsId:d,registry:g}},[t,b,d,h,E,R,g]);return Ic({contextId:t,store:v,registry:g,customSensors:i,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(function(){return y},[y]),W.createElement(yt.Provider,{value:j},W.createElement(Sn,{context:pr,store:v},e.children))}var Bc=0;function qc(){return O(function(){return""+Bc++},[])}function Oc(e){var t=qc(),r=e.dragHandleUsageInstructions||Qe.dragHandleUsageInstructions;return W.createElement(ps,null,function(i){return W.createElement(jc,{nonce:e.nonce,contextId:t,setCallbacks:i,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var ha=function(t){return function(r){return t===r}},Uc=ha("scroll"),Lc=ha("auto"),ni=function(t,r){return r(t.overflowX)||r(t.overflowY)},Fc=function(t){var r=window.getComputedStyle(t),i={overflowX:r.overflowX,overflowY:r.overflowY};return ni(i,Uc)||ni(i,Lc)},Wc=function(){return!1},Gc=function e(t){return t==null?null:t===document.body?Wc()?t:null:t===document.documentElement?null:Fc(t)?t:e(t.parentElement)},_t=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Hc=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},_c=function(e){var t=Gc(e),r=Hc(e);return{closestScrollable:t,isFixedOnPage:r}},$c=function(e){var t=e.descriptor,r=e.isEnabled,i=e.isCombineEnabled,n=e.isFixedOnPage,a=e.direction,s=e.client,o=e.page,u=e.closest,p=function(){if(!u)return null;var f=u.scrollSize,g=u.client,b=ia({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:g,scrollSize:f,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:b,diff:{value:V,displacement:V}}}}(),d=a==="vertical"?Qt:Oi,c=we({page:o,withPlaceholder:null,axis:d,frame:p}),m={descriptor:t,isCombineEnabled:i,isFixedOnPage:n,axis:d,isEnabled:r,client:s,page:o,frame:p,subject:c};return m},Vc=function(t,r){var i=Ci(t);if(!r||t!==r)return i;var n=i.paddingBox.top-r.scrollTop,a=i.paddingBox.left-r.scrollLeft,s=n+r.scrollHeight,o=a+r.scrollWidth,u={top:n,right:o,bottom:s,left:a},p=zt(u,i.border),d=Yt({borderBox:p,margin:i.margin,border:i.border,padding:i.padding});return d},Kc=function(e){var t=e.ref,r=e.descriptor,i=e.env,n=e.windowScroll,a=e.direction,s=e.isDropDisabled,o=e.isCombineEnabled,u=e.shouldClipSubject,p=i.closestScrollable,d=Vc(t,p),c=it(d,n),m=function(){if(!p)return null;var g=Ci(p),b={scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth};return{client:g,page:it(g,n),scroll:_t(p),scrollSize:b,shouldClipSubject:u}}(),f=$c({descriptor:r,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:i.isFixedOnPage,direction:a,client:d,page:c,closest:m});return f},zc={passive:!1},Yc={passive:!0},si=function(e){return e.shouldPublishImmediately?zc:Yc};function ct(e){var t=w.useContext(e);return t||T(),t}var Ze=function(t){return t&&t.env.closestScrollable||null};function Jc(e){var t=w.useRef(null),r=ct(yt),i=mr("droppable"),n=r.registry,a=r.marshal,s=da(e),o=O(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),u=w.useRef(o),p=O(function(){return $(function(k,S){t.current||T();var E={x:k,y:S};a.updateDroppableScroll(o.id,E)})},[o.id,a]),d=P(function(){var k=t.current;return!k||!k.env.closestScrollable?V:_t(k.env.closestScrollable)},[]),c=P(function(){var k=d();p(k.x,k.y)},[d,p]),m=O(function(){return Ue(c)},[c]),f=P(function(){var k=t.current,S=Ze(k);k&&S||T();var E=k.scrollOptions;if(E.shouldPublishImmediately){c();return}m()},[m,c]),g=P(function(k,S){t.current&&T();var E=s.current,R=E.getDroppableRef();R||T();var j=_c(R),q={ref:R,descriptor:o,env:j,scrollOptions:S};t.current=q;var D=Kc({ref:R,descriptor:o,env:j,windowScroll:k,direction:E.direction,isDropDisabled:E.isDropDisabled,isCombineEnabled:E.isCombineEnabled,shouldClipSubject:!E.ignoreContainerClipping}),A=j.closestScrollable;return A&&(A.setAttribute(ti.contextId,r.contextId),A.addEventListener("scroll",f,si(q.scrollOptions))),D},[r.contextId,o,f,s]),b=P(function(){var k=t.current,S=Ze(k);return k&&S||T(),_t(S)},[]),x=P(function(){var k=t.current;k||T();var S=Ze(k);t.current=null,S&&(m.cancel(),S.removeAttribute(ti.contextId),S.removeEventListener("scroll",f,si(k.scrollOptions)))},[f,m]),h=P(function(k){var S=t.current;S||T();var E=Ze(S);E||T(),E.scrollTop+=k.y,E.scrollLeft+=k.x},[]),v=O(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:b,dragStopped:x,scroll:h}},[x,g,b,h]),y=O(function(){return{uniqueId:i,descriptor:o,callbacks:v}},[v,o,i]);re(function(){return u.current=y.descriptor,n.droppable.register(y),function(){t.current&&x(),n.droppable.unregister(y)}},[v,o,x,y,a,n.droppable]),re(function(){t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),re(function(){t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Bt(){}var oi={width:0,height:0,margin:hs},Zc=function(t){var r=t.isAnimatingOpenOnMount,i=t.placeholder,n=t.animate;return r||n==="close"?oi:{height:i.client.borderBox.height,width:i.client.borderBox.width,margin:i.client.margin}},Xc=function(t){var r=t.isAnimatingOpenOnMount,i=t.placeholder,n=t.animate,a=Zc({isAnimatingOpenOnMount:r,placeholder:i,animate:n});return{display:i.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Oe.placeholder:null}};function Qc(e){var t=w.useRef(null),r=P(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),i=e.animate,n=e.onTransitionEnd,a=e.onClose,s=e.contextId,o=w.useState(e.animate==="open"),u=o[0],p=o[1];w.useEffect(function(){return u?i!=="open"?(r(),p(!1),Bt):t.current?Bt:(t.current=setTimeout(function(){t.current=null,p(!1)}),r):Bt},[i,u,r]);var d=P(function(m){m.propertyName==="height"&&(n(),i==="close"&&a())},[i,a,n]),c=Xc({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return W.createElement(e.placeholder.tagName,{style:c,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})}var eu=W.memo(Qc),gr=W.createContext(null),tu=function(e){hi(t,e);function t(){for(var i,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=e.call.apply(e,[this].concat(a))||this,i.state={isVisible:!!i.props.on,data:i.props.on,animate:i.props.shouldAnimate&&i.props.on?"open":"none"},i.onClose=function(){i.state.animate==="close"&&i.setState({isVisible:!1})},i}t.getDerivedStateFromProps=function(n,a){return n.shouldAnimate?n.on?{isVisible:!0,data:n.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!n.on,data:n.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var n={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(n)},t}(W.PureComponent),li={dragging:5e3,dropAnimating:4500},ru=function(t,r){return r?Oe.drop(r.duration):t?Oe.snap:Oe.fluid},iu=function(t,r){return t?r?Ge.opacity.drop:Ge.opacity.combining:null},au=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function nu(e){var t=e.dimension,r=t.client,i=e.offset,n=e.combineWith,a=e.dropping,s=!!n,o=au(e),u=!!a,p=u?Wt.drop(i,s):Wt.moveTo(i),d={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:ru(o,a),transform:p,opacity:iu(s,u),zIndex:u?li.dropAnimating:li.dragging,pointerEvents:"none"};return d}function su(e){return{transform:Wt.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function ou(e){return e.type==="DRAGGING"?nu(e):su(e)}function lu(e,t,r){r===void 0&&(r=V);var i=window.getComputedStyle(t),n=t.getBoundingClientRect(),a=Ti(n,i),s=it(a,r),o={client:a,tagName:t.tagName.toLowerCase(),display:i.display},u={x:a.marginBox.width,y:a.marginBox.height},p={descriptor:e,placeholder:o,displaceBy:u,client:a,page:s};return p}function cu(e){var t=mr("draggable"),r=e.descriptor,i=e.registry,n=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,o=e.isEnabled,u=O(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:o}},[a,o,s]),p=P(function(f){var g=n();return g||T(),lu(r,g,f)},[r,n]),d=O(function(){return{uniqueId:t,descriptor:r,options:u,getDimension:p}},[r,p,u,t]),c=w.useRef(d),m=w.useRef(!0);re(function(){return i.draggable.register(c.current),function(){return i.draggable.unregister(c.current)}},[i.draggable]),re(function(){if(m.current){m.current=!1;return}var f=c.current;c.current=d,i.draggable.update(d,f)},[d,i.draggable])}function uu(e){e.preventDefault()}function du(e){var t=w.useRef(null),r=P(function(q){t.current=q},[]),i=P(function(){return t.current},[]),n=ct(yt),a=n.contextId,s=n.dragHandleUsageInstructionsId,o=n.registry,u=ct(gr),p=u.type,d=u.droppableId,c=O(function(){return{id:e.draggableId,index:e.index,type:p,droppableId:d}},[e.draggableId,e.index,p,d]),m=e.children,f=e.draggableId,g=e.isEnabled,b=e.shouldRespectForcePress,x=e.canDragInteractiveElements,h=e.isClone,v=e.mapped,y=e.dropAnimationFinished;if(!h){var k=O(function(){return{descriptor:c,registry:o,getDraggableRef:i,canDragInteractiveElements:x,shouldRespectForcePress:b,isEnabled:g}},[c,o,i,x,b,g]);cu(k)}var S=O(function(){return g?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:uu}:null},[a,s,f,g]),E=P(function(q){v.type==="DRAGGING"&&v.dropping&&q.propertyName==="transform"&&y()},[y,v]),R=O(function(){var q=ou(v),D=v.type==="DRAGGING"&&v.dropping?E:null,A={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":f,style:q,onTransitionEnd:D},dragHandleProps:S};return A},[a,S,f,v,E,r]),j=O(function(){return{draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}},[c.droppableId,c.id,c.index,c.type]);return m(R,v.snapshot,j)}var ba=function(e,t){return e===t},xa=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},pu=function(t){return t.combine?t.combine.draggableId:null},mu=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function fu(){var e=$(function(n,a){return{x:n,y:a}}),t=$(function(n,a,s,o,u){return{isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:n,draggingOver:s,combineWith:o,combineTargetFor:null}}),r=$(function(n,a,s,o,u,p,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:p,mode:a,offset:n,dimension:s,forceShouldAnimate:d,snapshot:t(a,o,u,p,null)}}}),i=function(a,s){if(a.isDragging){if(a.critical.draggable.id!==s.draggableId)return null;var o=a.current.client.offset,u=a.dimensions.draggables[s.draggableId],p=te(a.impact),d=mu(a.impact),c=a.forceShouldAnimate;return r(e(o.x,o.y),a.movementMode,u,s.isClone,p,d,c)}if(a.phase==="DROP_ANIMATING"){var m=a.completed;if(m.result.draggableId!==s.draggableId)return null;var f=s.isClone,g=a.dimensions.draggables[s.draggableId],b=m.result,x=b.mode,h=xa(b),v=pu(b),y=a.dropDuration,k={duration:y,curve:sr.drop,moveTo:a.newHomeClientOffset,opacity:v?Ge.opacity.drop:null,scale:v?Ge.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:g,dropping:k,draggingOver:h,combineWith:v,mode:x,forceShouldAnimate:null,snapshot:t(x,f,h,v,k)}}}return null};return i}function wa(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var gu={mapped:{type:"SECONDARY",offset:V,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:wa(null)}};function vu(){var e=$(function(s,o){return{x:s,y:o}}),t=$(wa),r=$(function(s,o,u){return o===void 0&&(o=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:o,shouldAnimateDisplacement:u,snapshot:t(o)}}}),i=function(o){return o?r(V,o,!0):null},n=function(o,u,p,d){var c=p.displaced.visible[o],m=!!(d.inVirtualList&&d.effected[o]),f=mt(p),g=f&&f.draggableId===o?u:null;if(!c){if(!m)return i(g);if(p.displaced.invisible[o])return null;var b=De(d.displacedBy.point),x=e(b.x,b.y);return r(x,g,!0)}if(m)return i(g);var h=p.displacedBy.point,v=e(h.x,h.y);return r(v,g,c.shouldAnimate)},a=function(o,u){if(o.isDragging)return o.critical.draggable.id===u.draggableId?null:n(u.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){var p=o.completed;return p.result.draggableId===u.draggableId?null:n(u.draggableId,p.result.draggableId,p.impact,p.afterCritical)}return null};return a}var yu=function(){var t=fu(),r=vu(),i=function(a,s){return t(a,s)||r(a,s)||gu};return i},hu={dropAnimationFinished:ea},bu=Di(yu,hu,null,{context:pr,pure:!0,areStatePropsEqual:ba})(du);function ka(e){var t=ct(gr),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:W.createElement(bu,e)}function xu(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,i=!!e.shouldRespectForcePress;return W.createElement(ka,M({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:i}))}function wu(e){var t=w.useContext(yt);t||T();var r=t.contextId,i=t.isMovementAllowed,n=w.useRef(null),a=w.useRef(null),s=e.children,o=e.droppableId,u=e.type,p=e.mode,d=e.direction,c=e.ignoreContainerClipping,m=e.isDropDisabled,f=e.isCombineEnabled,g=e.snapshot,b=e.useClone,x=e.updateViewportMaxScroll,h=e.getContainerForClone,v=P(function(){return n.current},[]),y=P(function(A){n.current=A},[]);P(function(){return a.current},[]);var k=P(function(A){a.current=A},[]),S=P(function(){i()&&x({maxScroll:na()})},[i,x]);Jc({droppableId:o,type:u,mode:p,direction:d,isDropDisabled:m,isCombineEnabled:f,ignoreContainerClipping:c,getDroppableRef:v});var E=W.createElement(tu,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(A){var _=A.onClose,C=A.data,L=A.animate;return W.createElement(eu,{placeholder:C,onClose:_,innerRef:k,animate:L,contextId:r,onTransitionEnd:S})}),R=O(function(){return{innerRef:y,placeholder:E,droppableProps:{"data-rbd-droppable-id":o,"data-rbd-droppable-context-id":r}}},[r,o,E,y]),j=b?b.dragging.draggableId:null,q=O(function(){return{droppableId:o,type:u,isUsingCloneFor:j}},[o,j,u]);function D(){if(!b)return null;var A=b.dragging,_=b.render,C=W.createElement(ka,{draggableId:A.draggableId,index:A.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(L,J){return _(L,J,A)});return Ma.createPortal(C,h())}return W.createElement(gr.Provider,{value:q},s(R,g),D())}var qt=function(t,r){return t===r.droppable.type},ci=function(t,r){return r.draggables[t.draggable.id]},ku=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=M({},t,{shouldAnimatePlaceholder:!1}),i=$(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),n=$(function(s,o,u,p,d,c){var m=d.descriptor.id,f=d.descriptor.droppableId===s;if(f){var g=c?{render:c,dragging:i(d.descriptor)}:null,b={isDraggingOver:u,draggingOverWith:u?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:g}}if(!o)return r;if(!p)return t;var x={isDraggingOver:u,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:x,useClone:null}}),a=function(o,u){var p=u.droppableId,d=u.type,c=!u.isDropDisabled,m=u.renderClone;if(o.isDragging){var f=o.critical;if(!qt(d,f))return r;var g=ci(f,o.dimensions),b=te(o.impact)===p;return n(p,c,b,b,g,m)}if(o.phase==="DROP_ANIMATING"){var x=o.completed;if(!qt(d,x.critical))return r;var h=ci(x.critical,o.dimensions);return n(p,c,xa(x.result)===p,te(x.impact)===p,h,m)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){var v=o.completed;if(!qt(d,v.critical))return r;var y=te(v.impact)===p,k=!!(v.impact.at&&v.impact.at.type==="COMBINE"),S=v.critical.droppable.id===p;return y?k?t:r:S?t:r}return r};return a},Su={updateViewportMaxScroll:Mo};function Du(){return document.body||T(),document.body}var Eu={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Du},Sa=Di(ku,Su,null,{context:pr,pure:!0,areStatePropsEqual:ba})(wu);Sa.defaultProps=Eu;const Tu=({exerciseId:e})=>{const{getSupersetByExercise:t,breakSuperset:r,renameSuperset:i}=ut(),[n,a]=w.useState(!1),[s,o]=w.useState(!1),[u,p]=w.useState(""),d=w.useRef(null),c=t(e),m=!!c;w.useEffect(()=>{s&&c&&(p(c.name||"Superset"),setTimeout(()=>{var x;(x=d.current)==null||x.focus()},50))},[s,c]);const f=()=>{c&&(r(c.id),a(!1))},g=()=>{c&&u.trim()&&(i(c.id,u.trim()),o(!1),a(!1))},b=x=>{x.stopPropagation(),o(!0)};return w.useEffect(()=>{const x=h=>{var v;if(n){if(s&&((v=d.current)!=null&&v.contains(h.target)))return;a(!1),o(!1)}};return n&&setTimeout(()=>{document.addEventListener("click",x)},0),()=>{document.removeEventListener("click",x)}},[n,s]),m?l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:x=>{x.stopPropagation(),a(!n)},className:"flex items-center gap-1 px-2 py-1 text-xs text-[#2196F3] bg-[#2196F3]/10 rounded-full hover:bg-[#2196F3]/20 transition-colors","aria-label":"Superset Actions",children:[l.jsx("span",{children:(c==null?void 0:c.name)||"Superset"}),l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&l.jsx("div",{className:"absolute z-20 mt-1 right-0 bg-[#1a1a1a] border border-white/10 rounded-lg shadow-xl p-2 min-w-[180px]",children:s?l.jsxs("div",{className:"p-2",children:[l.jsx("input",{ref:d,type:"text",value:u,onChange:x=>p(x.target.value),className:"w-full px-2 py-1 bg-[#2a2a2a] text-white rounded border border-[#8B5CF6] focus:outline-none",placeholder:"Superset name",maxLength:30,onKeyDown:x=>{x.key==="Enter"?g():x.key==="Escape"&&o(!1)}}),l.jsxs("div",{className:"flex justify-end mt-2 gap-2",children:[l.jsx("button",{onClick:x=>{x.stopPropagation(),o(!1)},className:"text-xs text-gray-400 hover:text-white px-2 py-1 rounded transition-colors",children:"Cancel"}),l.jsx("button",{onClick:x=>{x.stopPropagation(),g()},className:"text-xs bg-[#8B5CF6] text-white px-2 py-1 rounded hover:bg-[#7C3AED] transition-colors",children:"Save"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:x=>{x.stopPropagation(),f()},className:"flex w-full items-center gap-2 px-3 py-2 text-white hover:bg-white/10 rounded transition-colors text-left",children:[l.jsx("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Break Superset"]}),l.jsxs("button",{onClick:b,className:"flex w-full items-center gap-2 px-3 py-2 text-white hover:bg-white/10 rounded transition-colors text-left",children:[l.jsx("svg",{className:"w-4 h-4 text-[#8B5CF6]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Rename"]})]})})]}):null},Cu=({exercises:e,onEditExercise:t,onDeleteExercise:r,onReorderExercises:i})=>{const{state:n,updateExerciseOrder:a}=ut(),s=u=>{if(!u.destination)return;const p=Array.from(e),[d]=p.splice(u.source.index,1);p.splice(u.destination.index,0,d),i(p);const c=p.map(m=>m.id||"").filter(m=>m!=="");a(c)};w.useEffect(()=>{const u=e.map(p=>p.id||"").filter(p=>p!=="");u.length>0&&a(u)},[e,a]);const o=W.useMemo(()=>{const u=[],p=new Set;return n.supersets.forEach(d=>{const c=[],m=[];d.exerciseIds.forEach(f=>{const g=e.findIndex(b=>b.id===f);g!==-1&&(c.push(e[g]),m.push(g),p.add(f))}),c.length>0&&u.push({superset:d,exercises:c,originalIndices:m})}),e.forEach((d,c)=>{d.id&&!p.has(d.id)&&u.push({superset:null,exercises:[d],originalIndices:[c]})}),u},[e,n.supersets]);return e.length===0?l.jsx("div",{className:"text-center py-8 text-gray-400",children:l.jsx("p",{children:"No exercises logged yet. Start by adding your first exercise!"})}):l.jsx(Oc,{onDragEnd:s,children:l.jsx(Sa,{droppableId:"exercises",children:u=>l.jsxs("div",{...u.droppableProps,ref:u.innerRef,className:"space-y-6",children:[o.map((p,d)=>l.jsx(xu,{draggableId:p.exercises[0].id||`group-${d}`,index:d,children:(c,m)=>{var f;return l.jsxs("div",{ref:c.innerRef,...c.draggableProps,className:`transition-all duration-200 ${m.isDragging?"scale-105 shadow-2xl":""}`,children:[l.jsx("div",{...c.dragHandleProps,className:"mb-2 flex justify-center relative",children:l.jsx("div",{className:"w-12 h-1 bg-gray-400 rounded-full hover:bg-gray-300 cursor-grab active:cursor-grabbing"})}),p.superset?l.jsxs("div",{className:"relative bg-[#1a1a1a] border-l-4 border-[#2196F3] rounded-lg p-3 shadow-md mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-[#2196F3] rounded-full"}),l.jsxs("h3",{className:"text-sm font-medium text-white flex items-center",children:[l.jsx("span",{className:"text-[#2196F3]",children:"Superset:"}),l.jsx("span",{className:"ml-1",children:p.superset.name}),l.jsxs("span",{className:"ml-2 text-xs text-[#2196F3]/70",children:["(",p.exercises.length,")"]})]})]}),((f=p.exercises[0])==null?void 0:f.id)&&l.jsx("div",{className:"flex items-center",children:l.jsx(Tu,{exerciseId:p.exercises[0].id})})]}),l.jsx("div",{className:"space-y-3",children:p.exercises.map((g,b)=>l.jsxs("div",{className:"relative",children:[b<p.exercises.length-1&&l.jsx("div",{className:"absolute -bottom-2 left-4 h-3 w-0.5 bg-[#2196F3]/40"}),l.jsx("div",{className:"transition-all duration-200 hover:bg-black/20 rounded-lg",children:l.jsx(xr,{exercise:g,exerciseNumber:d+1,subNumber:b+1,onEdit:()=>t(g),onDelete:()=>r(g),showActions:!0})})]},g.id||b))})]}):l.jsx("div",{className:"border-l-4 border-white/20 rounded-lg shadow-sm mb-4",children:l.jsx(xr,{exercise:p.exercises[0],exerciseNumber:d+1,onEdit:()=>t(p.exercises[0]),onDelete:()=>r(p.exercises[0]),showActions:!0})})]})}},p.exercises[0].id||`group-${d}`)),u.placeholder]})})})},Nu=()=>{const{state:e,cancelCreating:t,createSuperset:r}=ut(),[i,n]=w.useState(""),[a,s]=w.useState(!1);if(!e.isCreating||e.selectedExercises.length===0)return null;const o=()=>{if(e.selectedExercises.length<2){alert("Please select at least 2 exercises to create a superset");return}if(!a){s(!0);return}r(i||void 0),n(""),s(!1)},u=()=>{a?(s(!1),n("")):t()};return l.jsxs("div",{className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 z-50 bg-[#1a1a1a] rounded-lg border border-[#8B5CF6] shadow-lg shadow-[#8B5CF6]/20 p-4 w-11/12 max-w-md",children:[l.jsxs("div",{className:"mb-3 flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-medium text-white",children:"Create Superset"}),l.jsxs("span",{className:"text-sm bg-[#8B5CF6]/20 text-[#8B5CF6] px-2 py-1 rounded-full",children:[e.selectedExercises.length," selected"]})]}),a?l.jsx("div",{className:"mb-3",children:l.jsx("input",{type:"text",placeholder:"Superset name (optional)",value:i,onChange:p=>n(p.target.value),className:"w-full px-3 py-2 bg-[#2a2a2a] text-white rounded-lg border border-gray-600 focus:border-[#8B5CF6] focus:outline-none",maxLength:30,autoFocus:!0})}):l.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Select exercises and save to create a superset"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:o,disabled:e.selectedExercises.length<2,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-[#8B5CF6] text-white rounded-lg hover:bg-[#7C3AED] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a?"Save Superset":"Save"]}),l.jsxs("button",{onClick:u,className:"flex items-center justify-center gap-2 px-4 py-2 bg-[#2a2a2a] text-white rounded-lg hover:bg-[#3a3a3a] transition-colors",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]})]})]})},Ru=()=>{const e=Ia(),{user:t}=$t(N=>N.auth),{removeExerciseFromSuperset:r,loadSupersetsForDate:i,saveSupersetsForDate:n}=ut(),a=w.useCallback(N=>{const I=new Date(N);return I.setHours(0,0,0,0),I},[]),s=w.useCallback((N,I)=>{const B=a(N),F=a(I);return B.getTime()===F.getTime()},[a]),o=w.useCallback(N=>{const I=a(N),B=new Date(I);return B.setHours(23,59,59,999),{startOfDay:I,endOfDay:B}},[a]),[u,p]=w.useState({showLogOptions:!1,showCalendar:!1,showSetLogger:!1,showImportModal:!1,showExportModal:!1,showWorkoutSummary:!1,showMenu:!1,showProgramModal:!1}),d=w.useCallback((N,I)=>{p(B=>({...B,[N]:I}))},[]),c=w.useCallback(N=>{d("showCalendar",N??!u.showCalendar)},[u.showCalendar,d]),[m,f]=w.useState(()=>a(new Date)),[g,b]=w.useState([]),[x,h]=w.useState(!1),[v,y]=w.useState(null),[k,S]=w.useState(null),E=w.useCallback((N,I)=>({id:N.id??Dr(),exerciseName:N.exerciseName,sets:N.sets,timestamp:new Date(N.timestamp),userId:I,deviceId:N.deviceId||localStorage.getItem("device_id")||""}),[]),R=w.useCallback(async N=>{const I=t==null?void 0:t.id;if(!I){h(!1),b([]);return}const B=a(N);h(!0);const F=B.toISOString().split("T")[0];i(F);try{const G=await wr(B,I),{startOfDay:z,endOfDay:le}=o(B),ie=mi(pi(di,"users",I,"exercises"),Sr("timestamp",">=",z),Sr("timestamp","<=",le)),he=(await fi(ie)).docs.map(X=>{const Q=X.data();return E({id:X.id,exerciseName:Q.exerciseName,sets:Q.sets,timestamp:Q.timestamp.toDate(),deviceId:Q.deviceId},I)}).filter(X=>!G.some(Q=>Q.id===X.id)),be=[...G,...he];be.sort((X,Q)=>X.timestamp instanceof Date&&Q.timestamp instanceof Date?X.timestamp.getTime()-Q.timestamp.getTime():0),b(be)}catch(G){console.error("Error fetching exercises:",G);try{const z=await wr(B,I);b(z)}catch(z){console.error("Error in fallback:",z);const le=Va(B).map(ie=>E(ie,I));b(le)}}finally{h(!1)}},[t==null?void 0:t.id,s,a,o,E,i]);w.useEffect(()=>{m||f(new Date)},[m]);const j=w.useCallback(async N=>{const I=a(N);I&&(h(!0),f(I),await R(I),c(!1))},[a,R,c]);w.useEffect(()=>{t!=null&&t.id&&R(m)},[t==null?void 0:t.id,R,m]);const q=w.useCallback(N=>{c(!1)},[c]),D=w.useCallback(()=>{y(null),d("showSetLogger",!1)},[d]),A=w.useCallback(async(N,I)=>{if(!v||!(t!=null&&t.id)){console.error("Cannot save sets: missing exercise or user");return}try{console.log("💾 Saving sets for exercise:",{exerciseId:I,exerciseName:v.exerciseName,setCount:N.length});const B={...v,id:I||Dr(),sets:N,timestamp:m},F=await Xe({exerciseName:B.exerciseName,userId:t.id,sets:N},m,B.id);console.log("✅ Exercise saved to Firestore successfully"),await Er({...B,id:F,userId:t.id}),console.log("✅ Exercise saved to local storage"),D(),await R(m)}catch(B){console.error("❌ Error saving exercise sets:",B),alert("Failed to save exercise sets. Please try again.")}},[v,t,m,D,R]),_=async N=>{if(!(t!=null&&t.id)){console.error("Cannot delete exercise: missing user ID",{userId:t==null?void 0:t.id}),alert("Cannot delete exercise: user not authenticated");return}if(window.confirm("Are you sure you want to delete this exercise?")){b(I=>I.filter(B=>B.id!==N.id));try{if(console.log("🗑️ Attempting to delete exercise:",{exerciseId:N.id,userId:t.id,exerciseName:N.exerciseName,timestamp:N.timestamp,activityType:N.activityType}),await ja(N,t.id))console.log("✅ Exercise deleted successfully"),N.id&&r(N.id),await R(m);else throw new Error("Delete operation returned false")}catch(I){console.error("❌ Error deleting exercise:",I),b(F=>[...F,N]);const B=I instanceof Error?I.message:"Unknown error occurred";alert(`Failed to delete exercise: ${B}`),await R(m)}}},C=w.useCallback(async(N,I,B="both")=>{try{await vn(void 0,N,I,B)}catch(F){console.error("Export failed:",F),alert("Export failed. Please try again.")}},[]),L=N=>{const I=N;I.activityType&&I.activityType!==H.RESISTANCE?(S(I),d("showLogOptions",!0)):(y(N),d("showSetLogger",!0))},J=w.useCallback(N=>{b(N);const I=m.toISOString().split("T")[0],B=new Date(m);B.setHours(12,0,0,0),N.forEach((F,G)=>{if(!F.id||!(t!=null&&t.id))return;const z=new Date(B);z.setMilliseconds(G*100);const le={...F,timestamp:z,userId:t.id,id:F.id};Er(le)}),n(I),console.log("✅ Exercise order saved")},[m,t,n]),Z=w.useCallback(N=>N?N.toLocaleDateString("no-NO",{day:"numeric",month:"long"}).toLowerCase():"",[]),ce=async N=>{var B;const I=(B=N.target.files)==null?void 0:B[0];if(!(!I||!(t!=null&&t.id)))try{const F=await yn(I);F&&F.length>0&&b(G=>[...G,...F.map(z=>E(z,t.id))]),d("showImportModal",!1)}catch(F){console.error("Error importing data:",F)}};return w.useEffect(()=>{if(t!=null&&t.id&&m){const N=setTimeout(()=>{R(m)},50);return()=>clearTimeout(N)}else b([]),h(!1)},[m,t==null?void 0:t.id]),w.useEffect(()=>{v&&!s(v.timestamp,m)&&D()},[m,v,s,D]),w.useEffect(()=>{console.log("Auth state:",{isAuthenticated:!!t,userId:t==null?void 0:t.id,hasRequiredFields:t?{hasId:!!t.id,hasEmail:!!t.email,hasFirstName:!!t.firstName,hasLastName:!!t.lastName,hasRole:!!t.role}:null})},[t]),l.jsxs("div",{className:"relative min-h-screen bg-black",children:[l.jsxs("header",{className:"flex items-center justify-between px-4 py-4 bg-black/95 backdrop-blur-sm fixed top-0 left-0 right-0 z-50 border-b border-white/10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{className:"p-2 hover:bg-white/10 rounded-lg transition-colors",onClick:()=>p(N=>({...N,showMenu:!0})),"aria-label":"Open menu",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),l.jsx("h1",{className:"text-white text-xl font-medium",children:Z(m)})]}),l.jsxs("div",{className:"flex items-center",children:["          ",l.jsx("button",{onClick:()=>c(),className:`p-2 rounded-lg transition-colors ${u.showCalendar?"bg-white/10":"hover:bg-white/10"}`,"aria-label":"Open calendar","aria-expanded":u.showCalendar,children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]}),l.jsx("main",{className:"px-4 pb-24 pt-20",children:l.jsxs("div",{className:"relative flex flex-col h-full",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Exercise Log - ",m.toLocaleDateString()]}),l.jsx("button",{onClick:()=>c(),className:"px-4 py-2 text-white rounded-lg transition-colors","aria-label":"Toggle calendar","aria-expanded":u.showCalendar,children:u.showCalendar?"Hide Calendar":"Show Calendar"})]}),l.jsx("div",{className:"flex-grow",children:x?l.jsx("div",{className:"flex justify-center items-center h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#8B5CF6]"})}):g.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-400",children:[l.jsx("p",{className:"text-lg",children:"No exercises logged for this date"}),l.jsx("button",{onClick:()=>d("showLogOptions",!0),className:"mt-4 px-4 py-2 bg-[#8B5CF6] hover:bg-[#7C3AED] text-white rounded-lg transition-colors",children:"Add Exercise"})]}):l.jsx("div",{className:"space-y-4",children:l.jsx(Cu,{exercises:g,onEditExercise:L,onDeleteExercise:_,onReorderExercises:J})})})]})}),u.showCalendar&&l.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50",children:["          ",l.jsx(on,{onClose:()=>c(!1),onSelectExercises:q,onDateSelect:j,selectedDate:m})]}),l.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:l.jsx("button",{onClick:()=>d("showLogOptions",!0),className:"w-16 h-16 bg-[#8B5CF6] hover:bg-[#7C3AED] rounded-full flex items-center justify-center text-white shadow-lg transition-colors","aria-label":"Add Exercise",children:l.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),u.showProgramModal&&l.jsx(Ba,{isOpen:u.showProgramModal,onClose:()=>p(N=>({...N,showProgramModal:!1})),onSave:()=>p(N=>({...N,showProgramModal:!1}))}),l.jsx(hn,{isOpen:u.showExportModal,onClose:()=>d("showExportModal",!1),onExport:C}),l.jsx(Nu,{}),l.jsx(Ra,{isOpen:u.showMenu,onClose:()=>d("showMenu",!1),onImport:()=>d("showImportModal",!0),onExport:()=>d("showExportModal",!0),onShowWorkoutSummary:()=>d("showWorkoutSummary",!0),onNavigateToday:()=>f(new Date),onNavigatePrograms:()=>{e("/programs")},onNavigateExercises:()=>{e("/exercises")},onNavigateDashboard:()=>{e("/dashboard")}}),u.showLogOptions&&l.jsx("div",{className:"fixed inset-0 bg-black/90 z-50",children:l.jsx(sn,{onClose:()=>{d("showLogOptions",!1),S(null)},onExerciseAdded:()=>{R(m),S(null)},selectedDate:m,editingExercise:k})}),u.showSetLogger&&v&&v.id&&l.jsx("div",{className:"fixed inset-0 bg-black/90 z-50",children:l.jsx(_a,{exercise:{id:v.id,name:v.exerciseName,sets:v.sets.map(N=>({reps:N.reps,weight:N.weight||0,difficulty:N.difficulty}))},onSave:A,onCancel:()=>d("showSetLogger",!1),isEditing:!0,previousSet:v.sets.length>0?v.sets[v.sets.length-1]:void 0,showPreviousSets:!0,useExerciseId:!0})}),u.showImportModal&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-[#1a1a1a] rounded-xl p-6 max-w-md w-full border border-white/10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl text-white font-medium",children:"Import Exercise Data"}),l.jsx("button",{onClick:()=>d("showImportModal",!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("p",{className:"text-gray-300 mb-4",children:"Select a JSON backup file to import your exercise data."}),l.jsx("div",{className:"mb-6",children:l.jsx("input",{type:"file",accept:".json",onChange:ce,className:"block w-full text-white p-3 rounded-xl bg-[#2a2a2a] border border-white/10 focus:outline-none focus:border-[#8B5CF6]"})}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:()=>d("showImportModal",!1),className:"px-6 py-3 bg-[#2a2a2a] text-white rounded-xl hover:bg-[#3a3a3a] transition-colors",children:"Cancel"})})]})}),u.showWorkoutSummary&&g.length>0&&l.jsx("div",{className:"fixed inset-0 bg-black/90 z-50",children:l.jsx(cn,{exercises:g.map(N=>({id:N.id||"temp-id",exerciseName:N.exerciseName,sets:N.sets,timestamp:N.timestamp})),onClose:()=>d("showWorkoutSummary",!1)})})]})},Wu=()=>l.jsx(Na,{fallback:l.jsx("div",{className:"text-white p-4",children:"Error loading exercises. Please try again."}),children:l.jsx(Aa,{children:l.jsx(Ru,{})})});export{Wu as default};
//# sourceMappingURL=ExerciseLog-DaaMFQBl.js.map
