{"version":3,"file":"ProgramModal-DK9YdCbu.js","sources":["../../src/components/ErrorBoundary.tsx","../../src/features/programs/ProgramModal.tsx"],"sourcesContent":["import { Component, ErrorInfo, ReactNode } from 'react';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n  fallback: ReactNode;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error?: Error;\r\n}\r\n\r\nexport class ErrorBoundary extends Component<Props, State> {\r\n  public state: State = {\r\n    hasError: false\r\n  };\r\n\r\n  public static getDerivedStateFromError(error: Error): State {\r\n    return {\r\n      hasError: true,\r\n      error\r\n    };\r\n  }\r\n\r\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    console.error('Uncaught error:', error, errorInfo);\r\n  }\r\n\r\n  public render() {\r\n    if (this.state.hasError) {\r\n      return this.props.fallback;\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n","import React, { useState } from 'react';\r\n\r\ninterface ProgramModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSave: (data: { name: string; level: string; description: string }) => void;\r\n}\r\n\r\nconst levels = ['Any', 'Beginner', 'Intermediate', 'Advanced'];\r\n\r\nconst ProgramModal: React.FC<ProgramModalProps> = ({ isOpen, onClose, onSave }) => {\r\n  const [name, setName] = useState('');\r\n  const [level, setLevel] = useState('Any');\r\n  const [description, setDescription] = useState('');\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      // Validate inputs\r\n      if (!name.trim()) {\r\n        throw new Error('Program name is required');\r\n      }\r\n\r\n      console.log('[ProgramModal] Submitting program:', {\r\n        name,\r\n        level,\r\n        description,\r\n        timestamp: new Date().toISOString()\r\n      });\r\n\r\n      await onSave({ name, level, description });\r\n      \r\n      console.log('[ProgramModal] Program submitted successfully');\r\n      \r\n      // Reset form\r\n      setName('');\r\n      setLevel('Any');\r\n      setDescription('');\r\n      \r\n      onClose();\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Failed to create program';\r\n      console.error('[ProgramModal] Error submitting program:', {\r\n        error: err,\r\n        errorMessage,\r\n        formData: { name, level, description }\r\n      });\r\n      setError(errorMessage);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n  return (\r\n    <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50\">\r\n      <form onSubmit={handleSubmit} className=\"bg-[#23272F] p-6 rounded-lg w-full max-w-sm shadow-lg\">\r\n        <h2 className=\"text-xl font-bold mb-4 text-white\">Add Program</h2>\r\n        \r\n        {error && (\r\n          <div className=\"mb-4 p-3 bg-red-900/50 border border-red-500 rounded text-red-200 text-sm\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        <input\r\n          className=\"w-full mb-3 px-3 py-2 rounded bg-[#181A20] text-white border border-white/10\"\r\n          placeholder=\"Program Name\"\r\n          value={name}\r\n          onChange={e => setName(e.target.value)}\r\n          required\r\n          disabled={isSubmitting}\r\n          id=\"program-name\"\r\n          name=\"program-name\"\r\n        />\r\n        \r\n        <select\r\n          className=\"w-full mb-3 px-3 py-2 rounded bg-[#181A20] text-white border border-white/10\"\r\n          value={level}\r\n          onChange={e => setLevel(e.target.value)}\r\n          disabled={isSubmitting}\r\n          id=\"program-level\"\r\n          name=\"program-level\"\r\n        >\r\n          {levels.map(l => (\r\n            <option key={l} value={l}>{l}</option>\r\n          ))}\r\n        </select>\r\n        \r\n        <textarea\r\n          className=\"w-full mb-4 px-3 py-2 rounded bg-[#181A20] text-white border border-white/10\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n          onChange={e => setDescription(e.target.value)}\r\n          disabled={isSubmitting}\r\n          id=\"program-description\"\r\n          name=\"program-description\"\r\n        />\r\n        \r\n        <div className=\"flex justify-end gap-2\">\r\n          <button \r\n            type=\"button\" \r\n            onClick={onClose}\r\n            disabled={isSubmitting}\r\n            className=\"px-4 py-2 bg-gray-700 text-white rounded-lg disabled:opacity-50\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button \r\n            type=\"submit\"\r\n            disabled={isSubmitting} \r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50 flex items-center gap-2\"\r\n          >\r\n            {isSubmitting ? (\r\n              <>\r\n                <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\"></div>\r\n                Creating...\r\n              </>\r\n            ) : (\r\n              'Add'\r\n            )}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProgramModal;\r\n"],"names":["ErrorBoundary","Component","__publicField","error","errorInfo","levels","ProgramModal","isOpen","onClose","onSave","name","setName","useState","level","setLevel","description","setDescription","setError","isSubmitting","setIsSubmitting","handleSubmit","e","err","errorMessage","jsx","l","jsxs","Fragment"],"mappings":"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"}