{"version":3,"file":"Register-CsO74HSf.js","sources":["../../src/features/auth/Register.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { z } from 'zod';\r\nimport { registerUser } from '@/services/firebase/auth';\r\nimport { setUser } from '@/features/auth/authSlice';\r\n\r\nconst registerSchema = z.object({\r\n  email: z.string().email('Invalid email address'),\r\n  password: z.string().min(6, 'Password must be at least 6 characters'),\r\n  firstName: z.string().min(2, 'First name is required'),\r\n  lastName: z.string().min(2, 'Last name is required'),\r\n  role: z.enum(['athlete', 'coach'], {\r\n    required_error: 'Please select a role',\r\n  }),\r\n});\r\n\r\ntype RegisterFormData = z.infer<typeof registerSchema>;\r\n\r\nconst Register = () => {\r\n  const [error, setError] = useState<string>('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<RegisterFormData>({\r\n    resolver: zodResolver(registerSchema),\r\n  });\r\n\r\n  const onSubmit = async (data: RegisterFormData) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError('');\r\n      const user = await registerUser(data);\r\n      dispatch(setUser(user));\r\n      navigate('/dashboard');\r\n    } catch (err: any) {\r\n      setError(err.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full space-y-8\">\r\n        <div>\r\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n            Create your account\r\n          </h2>\r\n        </div>\r\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit(onSubmit)}>\r\n          <div className=\"rounded-md shadow-sm -space-y-px\">\r\n            <div>\r\n              <label htmlFor=\"firstName\" className=\"sr-only\">\r\n                First Name\r\n              </label>\r\n              <input\r\n                {...register('firstName')}\r\n                id=\"firstName\"\r\n                type=\"text\"\r\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\r\n                placeholder=\"First Name\"\r\n              />\r\n              {errors.firstName && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{errors.firstName.message}</p>\r\n              )}\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"lastName\" className=\"sr-only\">\r\n                Last Name\r\n              </label>\r\n              <input\r\n                {...register('lastName')}\r\n                id=\"lastName\"\r\n                type=\"text\"\r\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\r\n                placeholder=\"Last Name\"\r\n              />\r\n              {errors.lastName && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{errors.lastName.message}</p>\r\n              )}\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"sr-only\">\r\n                Email address\r\n              </label>\r\n              <input\r\n                {...register('email')}\r\n                id=\"email\"\r\n                type=\"email\"\r\n                autoComplete=\"email\"\r\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\r\n                placeholder=\"Email address\"\r\n              />\r\n              {errors.email && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{errors.email.message}</p>\r\n              )}\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"sr-only\">\r\n                Password\r\n              </label>\r\n              <input\r\n                {...register('password')}\r\n                id=\"password\"\r\n                type=\"password\"\r\n                autoComplete=\"new-password\"\r\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\r\n                placeholder=\"Password\"\r\n              />\r\n              {errors.password && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{errors.password.message}</p>\r\n              )}\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"role\" className=\"sr-only\">\r\n                Role\r\n              </label>\r\n              <select\r\n                {...register('role')}\r\n                id=\"role\"\r\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\r\n              >\r\n                <option value=\"\">Select Role</option>\r\n                <option value=\"athlete\">Athlete</option>\r\n                <option value=\"coach\">Coach</option>\r\n              </select>\r\n              {errors.role && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{errors.role.message}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"text-sm text-red-600 text-center\">{error}</div>\r\n          )}\r\n\r\n          <div>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isLoading}\r\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\"\r\n            >\r\n              {isLoading ? 'Creating account...' : 'Create account'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"names":["registerSchema","z.object","z.string","z.enum","Register","error","setError","useState","isLoading","setIsLoading","navigate","useNavigate","dispatch","useDispatch","register","handleSubmit","errors","useForm","zodResolver","onSubmit","data","user","registerUser","setUser","err","jsxs","jsx"],"mappings":"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"}